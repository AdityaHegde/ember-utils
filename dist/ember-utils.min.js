Utils=Ember.Namespace.create(),Utils.deepSearchArray=function(a,b,c,d){if(void 0===b||null===b)return!1;if(a[c]===b)return!0;if(a[d])for(var e=0;e<a[d].length;e++)if(Utils.deepSearchArray(a[d][e],b,c,d))return!0;return!1},Utils.cmp=function(a,b){return a-b},Utils.binarySearch=function(a,b,c,d,e){var f=Math.floor((d+c)/2),g=a.objectAt(f);return c>d?c:e(b,g)>=0?Utils.binarySearch(a,b,f+1,d,e):Utils.binarySearch(a,b,c,f-1,e)},Utils.binaryInsert=function(a,b,c){c=c||Utils.cmp;var d=a.get("length");if(d>0){var e=Utils.binarySearch(a,b,0,d-1,c);a.insertAt(e,b)}else a.pushObject(b)},Utils.merge=function(a,b){for(var c in b)b.hasOwnProperty(c)&&Ember.isNone(a[c])&&(a[c]=b[c]);return a},Utils.hashHasKeys=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},Utils.getArrayFromRange=function(a,b,c){var d=[];c=c||1;for(var e=a;b>e;e+=c)d.push(e);return d},Utils.hasMany=function(a,b,c){a=a||Ember.Object;var d=b&&c;return Ember.computed(function(e,f){if("string"==Ember.typeOf(a)&&(a=Ember.get(a)),"string"==Ember.typeOf(b)&&(b=Ember.get(b)),arguments.length>1){if(f&&f.length){f.beginPropertyChanges();for(var g=0;g<f.length;g++){var h=f[g];d&&(a=b[h[c]]),h instanceof a||(h=a.create(h),h.set("parentObj",this)),f.splice(g,1,h)}f.endPropertyChanges()}return f}})},Utils.belongsTo=function(a,b,c){a=a||Ember.Object;var d=b&&c;return Ember.computed(function(e,f){return"string"==Ember.typeOf(a)&&(a=Ember.get(a)),"string"==Ember.typeOf(b)&&(b=Ember.get(b)),arguments.length>1?(f&&(d&&(a=b[f[c]]),f instanceof a||(f=a.create(f),f.set("parentObj",this))),f):void 0})},Utils.belongsToWithMixin=function(a,b,c,d,e,f){a=a||Ember.Object;var g=b&&c,h=d&&e;return Ember.computed(function(i,j){return"string"==Ember.typeOf(a)&&(a=Ember.get(a)),"string"==Ember.typeOf(b)&&(b=Ember.get(b)),"string"==Ember.typeOf(d)&&(d=Ember.get(d)),"string"==Ember.typeOf(f)&&(f=Ember.get(f)),arguments.length>1?(j&&(g&&(a=b[j[c]]),j instanceof a||(j=h?a.createWithMixins(j,d[j[e]]||f):a.create(j),j.set("parentObj",this))),j):void 0})},Utils.HashMapArrayComputed=function(a,b,c){return Ember.computed(function(d,e){return arguments.length>1?Utils.HashMapArray.create({elementClass:a,keyForKey:b,keyForVal:c,hashMap:e,content:[],parentObj:this}):void 0})},Utils.HashMapArrayInnerComputed=function(a){return Ember.computed(function(b,c){return arguments.length>1?(this.set(a,c),c):void 0})},Utils.HashMapArray=Ember.ArrayProxy.extend({elementClass:null,keyForKey:null,keyForVal:null,parentObj:null,hashMap:null,hashMapDidChange:function(){var a=this.get("elementClass"),b=this.get("hashMap"),c=this.get("keyForKey"),d=this.get("keyForVal");for(var e in b){var f=a.create({parentObj:this.get("parentObj")});f.set(d,b[e]),f.set(c,e),this.pushObject(f)}}.observes("hashMap").on("init"),arrayElementValueDidChange:function(a){var b=this.get("hashMap"),c=this.get("keyForKey"),d=this.get("keyForVal");b[a.get(c)]=a.get(d)},arrayElementKeyWillChange:function(a){{var b=this.get("hashMap"),c=this.get("keyForKey");this.get("keyForVal")}delete b[a.get(c)]},arrayElementKeyDidChange:function(a,b){this.arrayElementValueDidChange(a,b)},lockArray:!1,contentArrayWillChange:function(a,b,c){if(!this.get("lockArray"))for(var d=a.slice(b,b+c),e=this.get("hashMap"),f=this.get("keyForKey"),g=this.get("keyForVal"),h=0;h<d.length;h++)delete e[d[h].get(f)],Ember.removeObserver(d[h],g,this,this.arrayElementValueDidChange),Ember.removeBeforeObserver(d[h],f,this,this.arrayElementKeyWillChange),Ember.removeObserver(d[h],f,this,this.arrayElementKeyDidChange)},contentArrayDidChange:function(a,b,c,d){if(!this.get("lockArray"))for(var e=a.slice(b,b+d),f=this.get("hashMap"),g=this.get("elementClass"),h=this.get("keyForKey"),i=this.get("keyForVal"),j=0;j<e.length;j++){var k=a.findBy(h,e[j].get&&e[j].get(h)||e[j][h]),l=a.indexOf(k);(b>l||l>b+d)&&(a.removeObject(k),b>l&&b--,e[j].set?e[j].set(i,k.get(i)):e[j][i]=k.get(i)),e[j]instanceof g||(e[j]=g.create(e[j]),this.set("lockArray",!0),a.removeAt(b+j),a.insertAt(b+j,e[j]),this.set("lockArray",!1)),e[j].set("parentObj",this.get("parentObj")),f[e[j].get(h)]=e[j].get(i),Ember.addObserver(e[j],i,this,this.arrayElementValueDidChange),Ember.addBeforeObserver(e[j],h,this,this.arrayElementKeyWillChange),Ember.addObserver(e[j],h,this,this.arrayElementKeyDidChange)}}}),Utils.ObjectWithArrayMixin=Ember.Mixin.create({init:function(){this._super(),this.set("arrayProps",this.get("arrayProps")||[]),this.addArrayObserverToProp("arrayProps");for(var a=this.get("arrayProps"),b=0;b<a.length;b++)this.arrayPropWasAdded(a[b])},addBeforeObserverToProp:function(a){Ember.addBeforeObserver(this,a,this,"propWillChange")},removeBeforeObserverFromProp:function(a){Ember.removeBeforeObserver(this,a,this,"propWillChange")},addObserverToProp:function(a){Ember.addObserver(this,a,this,"propDidChange")},removeObserverFromProp:function(a){Ember.removeObserver(this,a,this,"propDidChange")},propWillChange:function(a,b){this.removeArrayObserverFromProp(b);var c=this.get(b);if(c&&c.objectsAt){var d=Utils.getArrayFromRange(0,c.get("length"));this[b+"WillBeDeleted"](c.objectsAt(d),d,!0)}},propDidChange:function(a,b){this.addArrayObserverToProp(b);var c=this.get(b);c&&this.propArrayNotifyChange(c,b)},propArrayNotifyChange:function(a,b){if(a.objectsAt){var c=Utils.getArrayFromRange(0,a.get("length"));this[b+"WasAdded"](a.objectsAt(c),c,!0)}},addArrayObserverToProp:function(a){var b=this.get(a);b&&b.addArrayObserver&&(b.set("propKey",a),b.addArrayObserver(this,{willChange:this.propArrayWillChange,didChange:this.propArrayDidChange}))},removeArrayObserverFromProp:function(a){var b=this.get(a);b&&b.removeArrayObserver&&b.removeArrayObserver(this)},propArrayWillChange:function(a,b,c){if((a.content||a.length)&&a.get("length")>0){var d=a.get("propKey"),e=Utils.getArrayFromRange(b,b+c);this[d+"WillBeDeleted"](a.objectsAt(e),e)}},propArrayDidChange:function(a,b,c,d){if((a.content||a.length)&&a.get("length")>0){for(var e=a.get("propKey"),f=[],g=[],h=b;b+d>h;h++){var i=a.objectAt(h);this[e+"CanAdd"](i)?f.push(h):g.push(i)}f.length>0&&this[e+"WasAdded"](a.objectsAt(f),f),g.length>0&&a.removeObjects(g)}},propWillBeDeleted:function(){},propCanAdd:function(){return!0},propWasAdded:function(){},arrayProps:null,arrayPropsWillBeDeleted:function(a){this.removeArrayObserverFromProp(a),this.removeBeforeObserverFromProp(a),this.removeObserverFromProp(a)},arrayPropWasAdded:function(a){var b=this.get(a);this[a+"WillBeDeleted"]||(this[a+"WillBeDeleted"]=this.propWillBeDeleted),this[a+"CanAdd"]||(this[a+"CanAdd"]=this.propCanAdd),this[a+"WasAdded"]||(this[a+"WasAdded"]=this.propWasAdded),b?this.propArrayNotifyChange(b,a):this.set(a,[]),this.addArrayObserverToProp(a),this.addBeforeObserverToProp(a),this.addObserverToProp(a)}});var delayAddId=0;Utils.DelayedAddToHasMany=Ember.Mixin.create(Utils.ObjectWithArrayMixin,{init:function(){this._super(),this.set("arrayPropDelayedObjs",{})},arrayPropDelayedObjs:null,addDelayObserverToProp:function(a,b){b=b||"propWasUpdated",Ember.addObserver(this,a,this,b)},removeDelayObserverFromProp:function(a){method=method||"propWasUpdated",Ember.removeObserver(this,a,this,method)},propArrayNotifyChange:function(a,b){if(a.then)a.set("canAddObjects",!1),a.then(function(){a.set("canAddObjects",!0)});else for(var c=0;c<a.get("length");c++)this[b+"WasAdded"](a.objectAt(c),c,!0)},addToProp:function(a,b){var c=this.get("arrayPropDelayedObjs"),d=this.get(a);d.get("canAddObjects")?d.contains(b)||d.pushObject(b):(c[a]=c[a]||[],c[a].contains(b)||c[a].push(b))},hasArrayProp:function(a,b,c){var d=this.get("arrayPropDelayedObjs"),e=this.get(a);return e.get("canAddObjects")?!!e.findBy(b,c):d&&d[a]?!!d[a].findBy(b,c):!1},addToContent:function(a){var b=this.get("arrayPropDelayedObjs"),c=this.get(a);c.get("canAddObjects")&&b[a]&&(b[a].forEach(function(a){c.contains(a)||c.pushObject(a)},c),delete b[a])},arrayProps:null,arrayPropsWillBeDeleted:function(a){this._super(a),this.removeDelayObserverFromProp(a+".canAddObjects")},arrayPropWasAdded:function(a){this._super(a);var b=(this.get(a),this);this["addTo_"+a]||(this["addTo_"+a]=function(c){b.addToProp(a,c)}),this.addDelayObserverToProp(a+".canAddObjects",function(){b.addToContent(a)})}}),Utils.ExtractIdRegex=/:(ember\d+):?/,Utils.getEmberId=function(a){var b=a.toString(),c=b.match(Utils.ExtractIdRegex);return c&&c[1]},Utils.getOffset=function(a,b,c){return c=c||"body",Ember.isEmpty($(a).filter(c))?a["offset"+b]+Utils.getOffset(a.offsetParent,b,c):0},Timer=Ember.Namespace.create(),Timer.queMap={},Timer.TIMEOUT=500,Timer.TIMERTIMEOUT=250,Timer.AsyncQue=Ember.Object.extend({init:function(){this._super();var a=this;Ember.run.later(function(){a.timerTimedout()},a.get("timeout")||Timer.TIMEOUT)},timerTimedout:function(){if(!this.get("resolved")){var a=this;Ember.run(function(){delete Timer.queMap[a.get("key")],a.set("resolved",!0),a.get("resolve")()})}},timer:null,key:"",resolve:null,reject:null,resolved:!1,timeout:Timer.TIMEOUT}),Timer.addToQue=function(a,b){Timer.queMap[a]&&(Timer.queMap[a].set("resolved",!0),Timer.queMap[a].get("reject")());var c;return Ember.run(function(){c=new Ember.RSVP.Promise(function(c,d){var e=Timer.AsyncQue.create({key:a,resolve:c,reject:d,timeout:b});Timer.queMap[a]=e})}),c},Timer.curTimer=null,Timer.timers=[],Timer.Timer=Ember.Object.extend({init:function(){this._super(),Timer.timers.push(this),this.set("ticks",Math.ceil(this.get("timeout")/Timer.TIMERTIMEOUT)),Timer.curTimer||(Timer.curTimer=setInterval(Timer.timerFunction,Timer.TIMERTIMEOUT));var a=this;this.set("promise",new Ember.RSVP.Promise(function(b,c){a.setProperties({resolve:b,reject:c})}))},timeout:Timer.TIMERTIMEOUT,ticks:1,count:0,timerCallback:function(){},endCallback:function(){},promise:null,resolve:null,reject:null}),Timer.timerFunction=function(){Ember.run(function(){if(0===Timer.timers.length)clearTimeout(Timer.curTimer),Timer.curTimer=null;else for(var a=0;a<Timer.timers.length;){var b=Timer.timers[a];b.decrementProperty("ticks"),0===b.get("ticks")&&(b.set("ticks",Math.ceil(b.get("timeout")/Timer.TIMERTIMEOUT)),b.timerCallback(),b.decrementProperty("count")),b.get("count")<=0?(Timer.timers.removeAt(a),b.endCallback(),b.get("resolve")()):a++}})},ArrayMod=Ember.Namespace.create(),ArrayMod.ArrayModifier=Ember.Object.extend({type:"basic",groupType:"basic",property:"",modify:function(a){return a},addObserverToAll:!0,addModObservers:function(a,b){Ember.addObserver(this,"property",a,b)},removeModObservers:function(a,b){Ember.removeObserver(this,"property",a,b)}}),ArrayMod.ArrayFilterModifier=ArrayMod.ArrayModifier.extend({type:"filter",groupType:"filter",modify:function(a){return a.filter(function(a){var b=a.get(this.get("property"));this.modFun(a,b)},this)},modFun:function(){return!0}}),ArrayMod.ArraySearchModifier=ArrayMod.ArrayFilterModifier.extend({type:"search",searchString:"",negate:!1,searchRegex:function(){var a=this.get("searchString")||"";return a=a.replace(/([\.\[\]\?\+\*])/g,"\\$1"),new RegExp(a,"i")}.property("searchString"),modFun:function(a,b){var c=this.get("negate"),d=this.get("searchRegex").test(b);return c&&!d||!c&&d},addModObservers:function(a,b){this._super(),Ember.addObserver(this,"searchString",a,b+"_each")},removeModObservers:function(a,b){this._super(),Ember.removeObserver(this,"searchString",a,b+"_each")}}),ArrayMod.ArrayTagObjectModifier=Ember.Object.extend({label:"",val:"",checked:!0,negate:!1}),ArrayMod.ArrayTagSearchModifier=ArrayMod.ArrayFilterModifier.extend({type:"tagSearch",tags:Utils.hasMany("ArrayMod.ArrayTagObjectModifier"),selectedTags:Ember.computed.filterBy("tags","checked",!0),joiner:"or",modFun:function(a,b){for(var c=this.get("selectedTags"),d="and"==this.get("joiner"),e=d,f=0;f<c.length;f++){var g=b==c[f].get("val");e=d&&e&&g||!d&&(e||g)}return e},addModObservers:function(a,b){this._super(),Ember.addObserver(this,"selectedTags.@each",a,b+"_each")},removeModObservers:function(a,b){this._super(),Ember.removeObserver(this,"selectedTags.@each",a,b+"_each")}}),ArrayMod.ArraySortModifier=ArrayMod.ArrayModifier.extend({type:"sort",groupType:"sort",order:!0,addObserverToAll:!1,modify:function(a){return a.sortBy(this.get("property")),this.get("order")||a.reverseObjects(),a},addModObservers:function(a,b){this._super(),Ember.addObserver(this,"order",a,b)},removeModObservers:function(a,b){this._super(),Ember.removeObserver(this,"order",a,b)}}),ArrayMod.ArrayModMap={basic:ArrayMod.ArrayModifier,filter:ArrayMod.ArrayFilterModifier,search:ArrayMod.ArraySearchModifier,tagSearch:ArrayMod.ArrayTagSearchModifier,sort:ArrayMod.ArraySortModifier},ArrayMod.ArrayModGroup=Ember.Object.extend(Utils.ObjectWithArrayMixin,{type:"basic",arrayMods:Utils.hasMany(null,ArrayMod.ArrayModMap,"type"),arrayProps:["arrayMods"],idx:0,canAdd:function(){return!0},modify:function(a){for(var b=this.get("arrayMods"),c=0;c<b.length;c++)a=b[c].modify(a);return a}}),ArrayMod.ArrayFilterGroup=ArrayMod.ArrayModGroup.extend({type:"filter",canAdd:function(a){for(var b=this.get("arrayMods"),c=0;c<b.length;c++){var d=a.get(b[c].get("property"));if(!b[c].modFun(a,d))return!1}return!0},modify:function(a){var b=this;return a.filter(function(a){return b.canAdd(a)},this)},modifySingle:function(a,b,c){return this.canAdd(b)?(a.contains(b)||(-1===c?a.pushObject(b):a.insertAt(c,b)),!0):(a.contains(b)&&a.removeObject(b),!1)}}),ArrayMod.Compare=function(a,b){return a===b?0:a>b?1:-1},ArrayMod.ArraySortGroup=ArrayMod.ArrayModGroup.extend({type:"sort",compare:function(a,b){for(var c=this.get("arrayMods"),d=0;d<c.length;d++){var e=a.get(c[d].get("property")),f=b.get(c[d].get("property")),g=ArrayMod.Compare(e,f),h=c[d].get("order");if(h||(g=-g),g)return g}return 0},modify:function(a){var b=this;return a.sort(function(a,c){return b.compare(a,c)},this)},modifySingle:function(a,b){var c=this;return a.contains(b)&&a.removeObject(b),Utils.binaryInsert(a,b,function(a,b){return c.compare(a,b)}),!0}}),ArrayMod.ArrayModGroupMap={basic:ArrayMod.ArrayModGroup,filter:ArrayMod.ArrayFilterGroup,sort:ArrayMod.ArraySortGroup},ArrayMod.ArrayModController=Ember.ArrayController.extend(Utils.ObjectWithArrayMixin,{init:function(){this._super()},unique_id:"arrayMod",arrayMods:null,arrayModGrps:null,arrayProps:["arrayMods","arrayModGrps"],isModified:function(){var a=this.get("arrayModGrps");return!!a&&a.length>0}.property("arrayModGrps.@each"),addArrayModToGroup:function(a){var b=this.get("arrayModGrps"),c=b.findBy("type",a.get("groupType")),d=this.get("arrayMods");c?Utils.binaryInsert(c.get("arrayMods"),a,function(a,b){return ArrayMod.Compare(d.indexOf(a),d.indexOf(b))}):(c=ArrayMod.ArrayModGroupMap[a.get("groupType")].create({arrayMods:[a],idx:d.indexOf(a)}),Utils.binaryInsert(b,c,function(a,b){return ArrayMod.Compare(d.indexOf(a),d.indexOf(b))}))},removeArrayModFromGroup:function(a){var b=this.get("arrayModGrps"),c=b.findBy("type",a.get("groupType")),d=c.get("arrayMods");c&&(d.removeObject(a),0===d.length&&b.removeObject(c))},arrayModsWillBeDeleted:function(a){for(var b=this.get("content")||[],c=this.get("arrangedContent"),d=this,e=0;e<a.length;e++){var f=a[e];f.removeModObservers(this,"arrayModsDidChange"),b.forEach(function(a){(this.arrayMod.get("addObserverToAll")||this.arrangedContent.contains(a))&&Ember.addObserver(a,this.arrayMod.get("property"),this.that,"contentItemPropertyDidChange")},{that:this,arrayMod:f,arrangedContent:c}),this.removeArrayModFromGroup(f)}Timer.addToQue(this.get("unique_id")+"__ArrayModChanged",250).then(function(){d.notifyPropertyChange("arrangedContent")})},arrayModsWasAdded:function(a){for(var b=this.get("content")||[],c=this.get("arrangedContent"),d=this,e=0;e<a.length;e++){var f=a[e];f.addModObservers(this,"arrayModsDidChange"),b.forEach(function(a){(this.arrayMod.get("addObserverToAll")||this.arrangedContent.contains(a))&&Ember.removeObserver(a,this.arrayMod.get("property"),this.that,"contentItemPropertyDidChange")},{that:this,arrayMod:f,arrangedContent:c}),this.addArrayModToGroup(f)}Timer.addToQue(this.get("unique_id")+"__ArrayModChanged",250).then(function(){d.notifyPropertyChange("arrangedContent")})},addObserversToItems:function(a,b){var c=a||this.get("content")||[],d=b||this.get("arrangedContent"),e=this.get("arrayMods");c.forEach(function(a){for(var b=0;b<this.arrayMods.length;b++)(this.arrayMods[b].get("addObserverToAll")||this.arrangedContent.contains(a))&&Ember.addObserver(a,this.arrayMods[b].get("property"),this.that,"contentItemPropertyDidChange")},{that:this,arrayMods:e,arrangedContent:d})},removeObserversFromItems:function(a,b){var c=a||this.get("content")||[],d=b||this.get("arrangedContent"),e=this.get("arrayMods");c.forEach(function(a){for(var b=0;b<this.arrayMods.length;b++)(this.arrayMods[b].get("addObserverToAll")||this.arrangedContent.contains(a))&&Ember.removeObserver(a,this.arrayMods[b].get("property"),this.that,"contentItemPropertyDidChange")},{that:this,arrayMods:e,arrangedContent:d})},arrayModsDidChange:function(){var a=this;Timer.addToQue(this.get("unique_id")+"__ArrayModChanged",250).then(function(){a.notifyPropertyChange("arrangedContent")})},arrayModsDidChange_each:function(){var a=this;Timer.addToQue(this.get("unique_id")+"__ArrayModChanged_Each",500).then(function(){var b=a.get("content"),c=a.get("arrangedContent"),d=a.get("arrayModGrps");Ember.run(function(){for(var a=0;a<b.get("length");a++){for(var e=b.objectAt(a),f=c.contains(e),g=!0,h=0;h<d.length;h++)if(!d[h].canAdd(e)){g=!1;break}if(f&&!g)c.removeObject(e);else if(!f&&g)for(var h=0;h<d.length&&d[h].modifySingle(c,e,c.indexOf(e));h++);}})})},destroy:function(){return this.removeObserversFromItems(),this._super()},arrangedContent:Ember.computed("content",function(){{var a,b=this.get("content"),c=this.get("arrayModGrps"),d=!!c&&c.length>0;b&&(b.length>0||b.get&&b.get("length")>0)}if(b){if(a=b.slice(),d){for(var e=0;e<c.length;e++)a.length>0&&(a=c[e].modify(a));this.addObserversToItems(b,a)}return Ember.A(a)}return Ember.A([])}),_contentWillChange:Ember.beforeObserver("content",function(){this.removeObserversFromItems(),this._super()}),contentArrayWillChange:function(a,b,c){var d=this.get("isModified");if(d){{var e=this.get("arrangedContent"),f=a.slice(b,b+c);this.get("arrayModGrps")}this.removeObserversFromItems(f),f.forEach(function(a){this.removeObject(a)},e)}},contentArrayDidChange:function(a,b,c,d){var e=this.get("isModified");if(e){var f=this.get("arrangedContent"),g=a.slice(b,b+d),h=this.get("arrayModGrps");this.addObserversToItems(g);for(var i=0;i<g.length;i++)for(var j=0;j<h.length&&h[j].modifySingle(f,g[i],f.indexOf(g[i]));j++);}},contentItemPropertyDidChange:function(a){for(var b=this.get("arrayModGrps"),c=this.get("arrangedContent"),d=0;d<b.length&&b[d].modifySingle(c,a,c.indexOf(a));d++);}}),CrudAdapter=Ember.Namespace.create(),CrudAdapter.loadAdaptor=function(a){a.ApplicationAdapter=CrudAdapter.ApplicationAdapter,a.ApplicationSerializer=CrudAdapter.ApplicationSerializer},CrudAdapter.GlobalData=Ember.Object.create(),CrudAdapter.endPoint={find:"get"},CrudAdapter.ModelMap={},CrudAdapter.ApplicationAdapter=DS.RESTAdapter.extend({getQueryParams:function(a,b,c,d){var e={};if(a.retainId||delete b.id,d){for(var f=0;f<a.ignoreFieldsOnCreateUpdate.length;f++)delete b[a.ignoreFieldsOnCreateUpdate[f]];for(var f=0;f<a.extraAttrs.length;f++)e[a.extraAttrs[f]]=c.get(a.extraAttrs[f])||CrudAdapter.GlobalData.get(a.extraAttrs[f]),"all"==b[a.extraAttrs[f]]&&delete b[a.extraAttrs[f]];return Ember.merge(b,e),b}for(var f=0;f<a.queryParams.length;f++)e[a.queryParams[f]]=c.get(a.queryParams[f])||CrudAdapter.GlobalData.get(a.queryParams[f]),"all"==b[a.queryParams[f]]&&delete b[a.queryParams[f]];return Ember.merge(b,e),b},buildFindQuery:function(a,b,c){for(var d=a.keys||[],e=b.split("__"),f=0;f<d.length;f++)c[d[f]]=e.length>f?e[f]:"";for(var f=0;f<a.findParams.length;f++)c[a.findParams[f]]=CrudAdapter.GlobalData.get(a.findParams[f]);return c},buildURL:function(a){var b="string"==Ember.typeOf(a)?a:a.apiName||a.typeKey,c="/"+b;return c},createRecord:function(a,b,c){var d=this.serialize(c,{includeId:!0});return CrudAdapter.backupData(c,b,"create"),this.ajax(this.buildURL(b)+"/create","POST",{data:this.getQueryParams(b,d,c,!0)})},find:function(a,b,c){return this.ajax(this.buildURL(b,c)+"/"+CrudAdapter.endPoint.find,"GET",{data:this.buildFindQuery(b,c,{})})},findAll:function(a,b){return this.ajax(this.buildURL(b)+"/getAll","GET")},findQuery:function(a,b,c){return this.ajax(this.buildURL(b)+"/getAll","GET",{data:c})},_findNext:function(a,b,c,d,e){{var f=a.adapterFor(b),g=a.serializerFor(b);"DS: Handle Adapter#find of "+b.typeKey}return $.ajax({url:f.buildURL(b)+"/"+e,method:"GET",data:{id:d,cur:Ember.get("CrudAdapter.GlobalData.cursor."+d)},dataType:"json"}).then(function(c){Ember.assert("You made a request for a "+b.typeKey+" with id "+d+", but the adapter's response did not have any data",c);var e=g.extract(a,b,c,d,"findNext");return a.push(b,e)},function(c){var e=a.getById(b,d);throw e.notFound(),c},"DS: Extract payload of '"+b+"'")},findNextFull:function(a,b,c){return b="string"===Ember.typeOf(b)?a.store.modelFor(b):b,CrudAdapter.backupData(a,b),this._findNext(a.store,b,c,CrudAdapter.getId(a,b),"getFullNext")},findNext:function(a,b,c){return b="string"===Ember.typeOf(b)?a.store.modelFor(b):b,CrudAdapter.backupData(a,b),this._findNext(a.store,b,c,CrudAdapter.getId(a,b),"getNext")},updateRecord:function(a,b,c){var d=this.serialize(c,{includeId:!0});return CrudAdapter.backupData(c,b),this.ajax(this.buildURL(b)+"/update","POST",{data:this.getQueryParams(b,d,c,!0)})},deleteRecord:function(a,b,c){var d=(this.serialize(c,{includeId:!0}),{});return this.ajax(this.buildURL(b)+"/delete","GET",{data:this.getQueryParams(b,d,c)})}}),CrudAdapter.ApplicationSerializer=DS.RESTSerializer.extend({serializeRelations:function(a,b,c,d){a.preSerializeRelations(c),a.eachRelationship(function(a,e){var f=Ember.String.pluralize(e.type.typeKey);if(this.payload[f]=this.payload[f]||[],this.data[e.key]){if("hasMany"===e.kind)for(var g=0;g<this.data[e.key].length;g++){var h,i,j=this.data[e.key][g];i=e.options.polymorphic?CrudAdapter.ModelMap[e.type.typeKey][this.data[e.key][g].type]:CrudAdapter.ModelMap[e.type.typeKey]&&CrudAdapter.ModelMap[e.type.typeKey][c.type]||e.type.typeKey,h=this.serializer.store.modelFor(i),this.serializer.serializeRelations(h,b,j,this.data),j=this.serializer.normalize(h,j,i),this.payload[f].push(j),e.options.polymorphic?(this.serializer.store.push(i,j),this.data[e.key][g]={id:j.id,type:i}):(this.serializer.store.push(i,j),this.data[e.key][g]=j.id)}}else"belongsTo"===e.kind&&d&&(e.options.polymorphic||(this.data[e.key]=CrudAdapter.getId(d,e.type)))},{payload:b,data:c,serializer:this})},extractSingle:function(a,b,c,d,e){if(1==c.result.status)throw new Ember.Error(c.result.message);if(!c||!c.result)throw new Ember.Error("No data returned");"array"==Ember.typeOf(c.result.data)&&(c.result.data=c.result.data[0]);var f=Ember.copy(c.result);return delete f.data,a.metaForType(b,f),c[b.typeKey]=c.result.data||{},CrudAdapter.retrieveBackup(c[b.typeKey],b,"createRecord"!==e),this.normalize(b,c[b.typeKey],b.typeKey),this.serializeRelations(b,c,c[b.typeKey]),delete c.result,this._super(a,b,c,d,e)},extractArray:function(a,b,c,d,e){var f=Ember.String.pluralize(b.typeKey);if(1==c.result.status)throw new Ember.Error(c.result.message);if(!c||!c.result)throw new Ember.Error("No data returned");var g=Ember.copy(c.result);delete g.data,a.metaForType(b,g),c[f]=c.result.data||[];for(var h=0;h<c[f].length;h++)this.normalize(b,c[f][h],b.typeKey),CrudAdapter.retrieveBackup(c[f][h],b,"createRecord"!==e),this.serializeRelations(b,c,c[f][h]);return delete c.result,this._super(a,b,c,d,e)},extractFindNext:function(a,b,c){var d=CrudAdapter.getId(c.result.data,b);return c.result.data[b.paginatedAttribute].replace(0,0,CrudAdapter.backupDataMap[b.typeKey][d][b.paginatedAttribute]),delete CrudAdapter.backupDataMap[b.typeKey][d],this.extractSingle(a,b,c)},extractDeleteRecord:function(a,b,c){if(1==c.result.status)throw new Ember.Error(c.result.message);return null},extractCreateRecord:function(a,b,c){return this.extractSingle(a,b,c,null,"createRecord")},extractFindHasMany:function(a,b,c){return this._super(a,b,c)},extract:function(a,b,c,d,e){return this._super(a,b,c,d,e)},normalize:function(a,b){return b.id=CrudAdapter.getId(b,a),this.normalizeAttributes(a,b),this.normalizeRelationships(a,b),this.normalizeUsingDeclaredMapping(a,b),a.normalizeFunction&&a.normalizeFunction(b),b},serialize:function(a,b){var c=this._super(a,b),d=a.__proto__.constructor;return d.serializeFunction&&d.serializeFunction(a,c),c},serializeHasMany:function(a,b,c){var d=c.key,e=DS.RelationshipChange.determineRelationshipType(a.constructor,c);b[d]=a.get(d),"manyToNone"===e||"manyToMany"===e?b[d]=b[d].mapBy("id"):"manyToOne"===e&&(b[d]=b[d].map(function(a){return this.serialize(a,{})},this))},serializeBelongsTo:function(){},typeForRoot:function(a){return/data$/.test(a)?a:Ember.String.singularize(a)}}),CrudAdapter.getId=function(a,b){var c=a.id;if(c)return c;for(var d=b.keys||[],e=[],f=0;f<d.length;f++){var g=a.get&&a.get(d[f])||a[d[f]];if(null===g&&void 0===g)return null;e.push(g)}return e.join("__")},CrudAdapter.backupDataMap={},CrudAdapter.backupData=function(a,b,c){var d=a.toJSON(),e="create"===c?"New":CrudAdapter.getId(a,b);id=CrudAdapter.getId(a,b)||"New",b.useIdForBackup&&(e=id),CrudAdapter.backupDataMap[b.typeKey]=CrudAdapter.backupDataMap[b.typeKey]||{},CrudAdapter.backupDataMap[b.typeKey][e]=d,b.retainId&&(d.id=id);for(var f=0;f<b.keys.length;f++)Ember.isEmpty(d[b.keys[f]])&&delete d[b.keys[f]];if(b.eachRelationship(function(b,d){var e=a.get(d.key);e&&("hasMany"==d.kind?(this.data[d.key]=[],e.forEach(function(a){this.data[d.key].push(CrudAdapter.backupData(a,d.type,c))},this)):"belongsTo"===d.kind&&(e=e.content,this.data[d.key]=e?e.get("id")||e:e))},{data:d,record:a,operation:c}),b.backupData&&b.backupData(a,b,d),"find"===c)for(var f=0;f<b.removeAttrsFromBackupOnFind.length;f++)delete d[b.removeAttrsFromBackupOnFind[f]];return d},CrudAdapter.retrieveBackup=function(a,b,c){var d=c?CrudAdapter.getId(a,b):"New",e=CrudAdapter.getId(a,b)||"New";if(b.useIdForBackup&&(d=e),CrudAdapter.backupDataMap[b.typeKey]&&CrudAdapter.backupDataMap[b.typeKey][d]){var f=CrudAdapter.backupDataMap[b.typeKey][d];delete CrudAdapter.backupDataMap[b.typeKey][d];for(var g=0;g<b.ignoreFieldsOnRetrieveBackup.length;g++)delete f[b.ignoreFieldsOnRetrieveBackup[g]];a=Utils.merge(a,f),b.eachRelationship(function(a,b){if("hasMany"===b.kind){var c=this.data[b.key],d=this.hash[b.key];if(c)for(var e=0;e<c.length;e++){var f=d.findBy(b.type.keys[0],c[e][b.type.keys[0]]);c[e].id=CrudAdapter.getId(c[e],b.type),f?Ember.merge(f,c[e]):d.push(c[e])}}},{data:f,hash:a})}return b.retrieveBackup&&b.retrieveBackup(a,b,f),a},CrudAdapter.retrieveFailure=function(a){{var b=a.__proto__.constructor,c=a.get("isNew")?"New":a.get("id");a.get("id")||"New"}if(CrudAdapter.backupDataMap[b.typeKey]&&CrudAdapter.backupDataMap[b.typeKey][c]){var d=CrudAdapter.backupDataMap[b.typeKey][c],e=a._inFlightAttributes;Utils.hashHasKeys(a._attributes)&&Utils.merge(e,a._attributes),delete CrudAdapter.backupDataMap[b.typeKey][c],a.get("isDeleted")||a.rollback(),a._inFlightAttributes={};for(var f in e)a.set(f,e[f]);b.eachRelationship(function(a,b){if("hasMany"===b.kind){var c=this.record.get(b.key),d=this.data[b.key];if(d)for(var e=0;e<d.length;e++){var f=CrudAdapter.getId(d[e],b.type),g=this.record.store.getById(b.type,f);if(g)CrudAdapter.retrieveFailure(g),this.record.addToProp?this.record.addToProp(b.key,g):c.pushObject(g);else if(CrudAdapter.backupDataMap[b.type.typeKey]&&CrudAdapter.backupDataMap[b.type.typeKey][f]){var h,i=CrudAdapter.backupDataMap[b.type.typeKey][f];b.type.eachRelationship(function(a,b){"belongsTo"===b.kind&&(h=a)}),h&&delete i[h],g||this.record.addToProp(b.key,CrudAdapter.createRecordWrapper(this.record.store,b.type,i)),delete CrudAdapter.backupDataMap[b.type.typeKey][f]}else{var h;b.type.eachRelationship(function(a,b){"belongsTo"===b.kind&&(h=a)}),h&&delete d[e][h],this.record.addToProp(b.key,CrudAdapter.createRecordWrapper(this.record.store,b.type,d[e]))}}}},{record:a,data:d})}a.transitionTo(a.get("isDeleted")?"loaded.updated.uncommitted":a.get("isNew")?"loaded.created.uncommitted":"loaded.updated.uncommitted")},CrudAdapter.isDirty=function(a){return a.get("isDirty")||a.get("isDirty_alias")},CrudAdapter.validationFailed=function(a){return a.get("validationFailed")},CrudAdapter.saveRecord=function(a){var b;return b=new Ember.RSVP.Promise(function(b,c){a.get("isDeleted")||a.eachAttribute(function(a){var b=this.get(a);"string"===Ember.typeOf(b)&&(b=b.replace(/^\s*/,""),b=b.replace(/\s*$/,""),this.set(a,b))},a);a.get("isNew");new Ember.RSVP.Promise(function(b,c){a.save().then(function(a){b(a)},function(a){c(a.message||a.statusText||a)})}).then(function(c){if(b(c),!a.get("isDeleted")){a.eachRelationship(function(b,c){if("hasMany"===c.kind){var d=a.get(c.key);d.then(function(){for(var a={},b=0;b<d.get("length");){var c=d.objectAt(b),e=Utils.getEmberId(c);a[e]?d.removeAt(b):c.get("isNew")?(d.removeAt(b),c.unloadRecord()):(a[e]=1,b++)}})}},a);var d=a.__proto__.constructor;if(d.attrsByServer){for(var e=0;e<d.attrsByServer.length;e++)a.set(d.attrsByServer[e],a._data[d.attrsByServer[e]]);a.adapterDidCommit()}}},function(a){c(a.message||a.statusText||a)})})},CrudAdapter.forceReload=function(a,b,c){if(a.recordIsLoaded(b,c)){var d=a.recordForId(b,c);return CrudAdapter.backupData(d,d.__proto__.constructor,"find"),d.reload()}return a.find(b,c)},CrudAdapter.createRecordWrapper=function(a,b,c){if(c.id&&a.recordIsLoaded(b,c.id)){var d=a.recordForId(b,c.id);d.unloadRecord()}return a.createRecord(b,c)},CrudAdapter.rollbackRecord=function(a){if(a.get("isError")||a.get("isInvalid")||a.get("isSaving")){var b=a._inFlightAttributes,c=a._data;a._inFlightAttributes={};for(var d in b)a.set(d,c[d]);a.transitionTo(a.get("isNew")?"loaded.created.uncommitted":"loaded.updated.uncommitted")}else a.rollback();a.__proto__.constructor.eachRelationship(function(b,c){if("hasMany"===c.kind){var d=a.get(c.key);d.then(function(){d.forEach(function(a){CrudAdapter.rollbackRecord(a)})})}})},ModelWrapper=Ember.Namespace.create(),ModelWrapper.ModelWrapper=DS.Model.extend(Utils.ObjectWithArrayMixin,{init:function(){this._super();var a=this.get("arrayProps"),b=this;this.set("isDirty_alias",this.get("isDirty")),Ember.addObserver(this,"isDirty",this,"attributeDidChange");for(var c=0;c<a.length;c++){var d=a[c];this[d+"WillBeDeleted"]=b.childrenWillBeDeleted,this[d+"WasAdded"]=b.childrenWasAdded}},childrenWillBeDeleted:function(a){this._validation=this._validation||{};for(var b=0;b<a.length;b++){var c=Utils.getEmberId(a[b]);delete this._validation[c],Ember.removeObserver(a[b],"validationFailed",this,"validationFailedDidChanged"),Ember.removeObserver(a[b],"isDirty",this,"attributeDidChange"),Ember.removeObserver(a[b],"isLoading",this,"attributeDidChange"),Ember.removeObserver(a[b],"isReloading",this,"attributeDidChange"),Ember.removeObserver(a[b],"isSaving",this,"attributeDidChange")}},childrenWasAdded:function(a){for(var b=0;b<a.length;b++)this.validationFailedDidChanged(a[b],"validationFailed"),this.attributeDidChange(a[b],"isDirty"),Ember.addObserver(a[b],"validationFailed",this,"validationFailedDidChanged"),Ember.addObserver(a[b],"isDirty",this,"attributeDidChange"),Ember.addObserver(a[b],"isLoading",this,"attributeDidChange"),Ember.addObserver(a[b],"isReloading",this,"attributeDidChange"),Ember.addObserver(a[b],"isSaving",this,"attributeDidChange")},validationFailedDidChanged:function(a,b){var c=a.get(b),d=Utils.getEmberId(a);this._validation=this._validation||{},c?this._validation[d]=1:delete this._validation[d],this.set("validationFailed",Utils.hashHasKeys(this._validation))},attributeDidChange:function(a,b){this.set(b+"_alias",this.get(b)||a.get(b))},validationFailed:!1,isLoading_alias:!1,isReloading_alias:Ember.computed.oneWay("isReloading"),isSaving_alias:Ember.computed.oneWay("isSaving"),isDirty_alias:Ember.computed.oneWay("isDirty"),isNotDirty:Ember.computed.not("isDirty_alias"),disableSave:Ember.computed.or("isNotDirty","validationFailed","isLoading_alias","isReloading_alias","isSaving_alias")}),ModelWrapper.allowedModelAttrs=[{attr:"keys",defaultValue:"emptyArray"},{attr:"apiName",defaultValue:"value",value:"data/generic"},{attr:"queryParams",defaultValue:"emptyArray"},{attr:"findParams",defaultValue:"emptyArray"},{attr:"extraAttrs",defaultValue:"emptyArray"},{attr:"ignoreFieldsOnCreateUpdate",defaultValue:"emptyArray"},{attr:"ignoreFieldsOnRetrieveBackup",defaultValue:"emptyArray"},{attr:"removeAttrsFromBackupOnFind",defaultValue:"emptyArray"},{attr:"retainId",defaultValue:"value",value:!1},{attr:"useIdForBackup",defaultValue:"value",value:!1},{attr:"paginatedAttribute",defaultValue:"value",value:"id"},{attr:"normalizeFunction",defaultValue:"value",value:function(){}},{attr:"preSerializeRelations",defaultValue:"value",value:function(){}},{attr:"serializeFunction",defaultValue:"value",value:function(){}},{attr:"backupData",defaultValue:"value",value:function(){}},{attr:"retrieveBackup",defaultValue:"value",value:function(){}}],ModelWrapper.createModelWrapper=function(a,b,c){var d=c||[];
d.push(a);for(var e=ModelWrapper.ModelWrapper.extend.apply(ModelWrapper.ModelWrapper,d),f=0;f<ModelWrapper.allowedModelAttrs.length;f++)b[ModelWrapper.allowedModelAttrs[f].attr]?e[ModelWrapper.allowedModelAttrs[f].attr]=b[ModelWrapper.allowedModelAttrs[f].attr]:"emptyArray"===ModelWrapper.allowedModelAttrs[f].defaultValue?e[ModelWrapper.allowedModelAttrs[f].attr]=Ember.A():"value"===ModelWrapper.allowedModelAttrs[f].defaultValue&&(e[ModelWrapper.allowedModelAttrs[f].attr]=ModelWrapper.allowedModelAttrs[f].value);return e};var attr=DS.attr,hasMany=DS.hasMany,belongsTo=DS.belongsTo;AppWrapper=Ember.Namespace.create(),AppWrapper.AppWrapper=Ember.Application.extend({init:function(){this._super(),CrudAdapter.loadAdaptor(this)},ready:function(){this._super(),ColumnData.initializer(this)}}),ColumnData=Ember.Namespace.create(),ColumnData.ColumnDataGroup=Ember.Object.extend({init:function(){this._super(),this.set("columns",this.get("columns")||[]),ColumnData.Registry.store(this.get("name"),"columnDataGroup",this)},name:"",columns:Utils.hasMany("ColumnData.ColumnData"),list:Utils.belongsTo("ListGroup.ListColumnDataGroup"),tree:Utils.belongsTo("Tree.TreeColumnDataGroup"),sort:Utils.belongsTo("DragDrop.SortableColumnDataGroup"),panel:Utils.belongsTo("Panels.PanelColumnDataGroup"),lazyDisplay:Utils.belongsTo("LazyDisplay.LazyDisplayColumnDataGroup"),form:Utils.belongsTo("Form.FormColumnDataGroup")}),ColumnData.Registry=Ember.Object.create({map:{},store:function(a,b,c){this.get("map")[b+":"+a]=c},retrieve:function(a,b){return this.get("map")[b+":"+a]}}),ColumnData.ColumnData=Ember.Object.extend({init:function(){this._super(),ColumnData.Registry.store(this.get("name"),"columnData",this)},name:"",keyName:"",key:function(){return this.get("keyName")||this.get("name")}.property("keyName","name"),validation:Utils.belongsTo("ColumnData.ColumnDataValidation"),list:Utils.belongsToWithMixin(null,"ListGroup.ListColumnDataMap","moduleType","GlobalModules.GlobalModulesColumnDataMixinMap","viewType","GlobalModules.DisplayTextColumnDataMixin"),tree:Utils.belongsToWithMixin(null,"Tree.TreeColumnDataMap","moduleType","GlobalModules.GlobalModulesColumnDataMixinMap","viewType","GlobalModules.DisplayTextColumnDataMixin"),panel:Utils.belongsToWithMixin(null,"Panels.PanelColumnDataMap","moduleType","GlobalModules.GlobalModulesColumnDataMixinMap","viewType","GlobalModules.DisplayTextColumnDataMixin"),form:Utils.belongsTo(null,"Form.FormColumnDataMap","type"),label:null,childCol:Utils.belongsTo("ColumnData.ColumnData"),childColName:function(a,b){return arguments.length>1?(b&&this.set("childCol",ColumnData.Registry.retrieve(b,"columnData")),b):void 0}.property(),childColGroup:Utils.belongsTo("ColumnData.ColumnDataGroup"),childColGroupName:function(a,b){return arguments.length>1?(b&&this.set("childColGroup",ColumnData.Registry.retrieve(b,"columnDataGroup")),b):void 0}.property()}),ColumnData.ColumnDataValidationsMap={},ColumnData.ColumnDataValidation=Ember.Object.extend({init:function(){this._super(),this.canBeEmpty()},validations:Utils.hasMany(null,ColumnData.ColumnDataValidationsMap,"type"),validate:Ember.computed.notEmpty("validations"),validateValue:function(a,b,c){var d=[!1,""];c=c||this.get("validations");for(var e=0;e<c.length&&(d=c[e].validateValue(a,b),!d[0]);e++);return d},canBeEmpty:function(){this.get("validations")&&!this.get("validations").mapBy("type").contains(0)?(this.set("mandatory",!1),this.get("validations").forEach(function(a){a.set("canBeEmpty",!0)})):this.set("mandatory",!0)}.observes("validations.@each"),mandatory:!1}),ColumnData.EmptyValidation=Ember.Object.extend({invalidMessage:"",negate:!1,validateValue:function(a){var b=Ember.isEmpty(a)||/^\s*$/.test(a),c=this.get("negate");return b=c&&!b||!c&&b,[b,this.get("invalidMessage")]},canBeEmpty:!1}),ColumnData.RegexValidation=ColumnData.EmptyValidation.extend({regex:"",regexFlags:"",regexObject:function(){return new RegExp(this.get("regex"),this.get("regexFlags"))}.property("regex"),validateValue:function(a){var b,c,d=!1,e=this.get("negate");return a&&a.trim&&(a=a.trim()),b=Ember.isEmpty(a),c=this.get("canBeEmpty")&&e||!this.get("canBeEmpty")&&!e,d=b&&c||this.get("regexObject").test(a),d=e&&!d||!e&&d,[d,this.get("invalidMessage")]}}),ColumnData.CSVRegexValidation=ColumnData.RegexValidation.extend({delimeter:",",validateValue:function(a){var b,c=!1,d=this.get("negate");return a&&a.trim&&(a=a.trim()),b=Ember.isEmpty(a),b||(a.split(this.get("delimeter")).some(function(a){return a=a.trim(),c=this.get("regexObject").test(a),d?!c:c},this),c=d&&!c||!d&&c),[c,this.get("invalidMessage")]}}),ColumnData.CSVDuplicateValidation=ColumnData.CSVRegexValidation.extend({validateValue:function(a){var b,c=!1,d=this.get("negate"),e={};return a&&a.trim&&(a=a.trim()),b=Ember.isEmpty(a),b||(a.split(this.get("delimeter")).some(function(a){return a=a.trim(),e[a]?c=!0:e[a]=1,d?!c:c},this),c=d&&!c||!d&&c),[c,this.get("invalidMessage")]}}),ColumnData.DuplicateAcrossRecordsValidation=ColumnData.EmptyValidation.extend({duplicateCheckPath:"",duplicateCheckKey:"id",validateValue:function(a,b){var c=!1,d=this.get("negate"),e=b.get(this.get("duplicateCheckPath")),f=e&&e.filterBy(this.get("duplicateCheckKey"),a);return c=f&&f.get("length")>1||1===f.get("length")&&f[0]!==b,c=d&&!c||!d&&c,[c,this.get("invalidMessage")]}}),ColumnData.NumberRangeValidation=ColumnData.EmptyValidation.extend({minValue:0,maxValue:999999,validateValue:function(a){var b=!1,c=this.get("negate");if(a&&a.trim&&(a=a.trim()),Ember.isEmpty(a))b=this.get("canBeEmpty")&&c||!this.get("canBeEmpty")&&!c;else{var d=Number(a);(d<this.get("minValue")||d>this.get("maxValue"))&&(b=!0)}return b=c&&!b||!c&&b,[b,this.get("invalidMessage")]}}),ColumnData.ColumnDataValidationsMap[0]=ColumnData.EmptyValidation,ColumnData.ColumnDataValidationsMap[1]=ColumnData.RegexValidation,ColumnData.ColumnDataValidationsMap[2]=ColumnData.CSVRegexValidation,ColumnData.ColumnDataValidationsMap[3]=ColumnData.CSVDuplicateValidation,ColumnData.ColumnDataValidationsMap[4]=ColumnData.DuplicateAcrossRecordsValidation,ColumnData.ColumnDataValidationsMap[5]=ColumnData.NumberRangeValidation,ColumnData.ColumnDataValueMixin=Ember.Mixin.create({columnData:null,record:null,validateValue:function(a){var b=this.get("columnData"),c=this.get("record"),d=b.get("validation");if(d)if(this.get("disabled"))delete c._validation[b.name];else{var e=d.validateValue(a,c);e[0]?c._validation[b.name]=1:delete c._validation[b.name],this.set("invalid",e[0]),this.set("invalidReason",!Ember.isEmpty(e[1])&&e[1])}c.set("validationFailed",Utils.hashHasKeys(c._validation))},value:function(a,b){{var c=this.get("columnData"),d=this.get("record");this.get("parentForm")}if(!d||!c)return b;if(d._validation=d._validation||{},arguments.length>1){if(!(d instanceof DS.Model)||d.currentState&&!d.currentState.stateName.match("deleted")){{d.get(c.get("key"))}this.validateValue(b),(b||!c.get("cantBeNull"))&&(d.set(c.get("key"),b),this.valueDidChange(b),d.valueDidChange&&d.valueDidChange(c,b))}return b}return b=d.get(c.get("key")),this.validateValue(b),b}.property("columnData","view.columnData"),valueDidChange:function(){},prevRecord:null,recordDidChange:function(){var a=this.get("record"),b=this.get("prevRecord"),c=this.get("columnData");b&&Ember.removeObserver(b,c.get("name"),this,"notifyValChange"),a?(this.recordChangeHook(),Ember.addObserver(a,c.get("name"),this,"notifyValChange"),this.set("prevRecord",a),this.notifyPropertyChange("val")):this.recordRemovedHook()}.observes("view.record","record"),recordChangeHook:function(){this.notifyPropertyChange("isDisabled")},recordRemovedHook:function(){}}),ColumnData.ColumnDataGroupPluginMixin=Ember.Mixin.create(Utils.ObjectWithArrayMixin,{init:function(){this._super();var a=this.get("arrayProps");a.contains("modules")||a.pushObject("modules")},type:"base",typeLookup:function(){return this.get("lookupMap")[this.get("groupType")][this.get("type")]}.property("type"),arrayProps:["modules"],modules:null,modulesWillBeDeleted:function(a){for(var b=0;b<a.length;b++)this.removeObserver(a[b]+"Type",this,"moduleTypeDidChange")},modulesWasAdded:function(a){for(var b=0;b<a.length;b++)this.addObserver(a[b]+"Type",this,"moduleTypeDidChange"),this.moduleTypeDidChange(this,a[b]+"Type");this.columnsChanged()},moduleTypeDidChange:function(a,b){var c=b.match(/^(\w*)Type$/)[1];this.set(c+"Lookup",this.get("lookupMap")[c][this.get(b)||"base"])},columnsChanged:function(){var a=this.get("parentObj.columns"),b=this.get("modules");if(a)for(var c=0;c<b.length;c++)this.set(b[c]+"ColumnData",a.findBy(this.get("groupType")+".type",b[c]))}.observes("parentObj.columns.@each.panel")}),ColumnData.initializer=function(a){if(a.ColumnData)for(var b=0;b<a.ColumnData.length;b++)ColumnData.ColumnDataGroup.create(a.ColumnData[b])},GlobalModules=Ember.Namespace.create(),GlobalModules.DisplayTextView=Ember.View.extend(ColumnData.ColumnDataValueMixin,{columnDataKey:"",classNameBindings:["moduleClassName"],moduleClassName:function(){var a=this.get("columnData."+this.get("columnDataKey")+".classNames")||[];return a.join&&(a=a.join(" ")),a}.property("view.columnData","view.columnDataKey"),template:Ember.Handlebars.compile("{{view.value}}")}),GlobalModules.DisplayTextWithTooltipView=GlobalModules.DisplayTextView.extend({tooltip:function(){return this.get("columnData."+this.get("columnDataKey")+".tooltip")||this.get("record"+this.get("columnData."+this.get("columnDataKey")+".tooltipKey"))||""}.property("view.columnData"),template:Ember.Handlebars.compile("{{#tool-tip title=view.tooltip}}{{view.value}}{{/tool-tip}}")}),GlobalModules.DisplayTextCollapsibleView=GlobalModules.DisplayTextWithTooltipView.extend({groupId:null,groupIdHref:function(){return"#"+this.get("groupId")}.property("view.groupId"),collapseId:null,collapseIdHref:function(){return"#"+this.get("collapseId")}.property("view.collapseId"),template:Ember.Handlebars.compile('<a data-toggle="collapse" {{bind-attr data-parent="view.groupIdHref" href="view.collapseIdHref"}}>{{#tool-tip title=view.tooltip}}{{view.value}}{{/tool-tip}}</a>')}),GlobalModules.DisplayTextCollapsibleGlypiconView=GlobalModules.DisplayTextCollapsibleView.extend({glyphiconCollapsed:function(){return this.get("columnData."+this.get("columnDataKey")+".glyphiconCollapsed")}.property("view.columnData","view.columnDataKey"),glyphiconOpened:function(){return this.get("columnData."+this.get("columnDataKey")+".glyphiconCollapsed")}.property("view.columnData","view.columnDataKey"),glyphicon:function(){return this.get(this.get("collapsed")?"glyphiconCollapsed":"glyphiconOpened")}.property("view.collpased"),template:Ember.Handlebars.compile('<a data-toggle="collapse" {{bind-attr data-parent="view.groupIdHref" href="view.collapseIdHref"}}>{{#tool-tip title=view.tooltip}}<span {{bind-attr class=":glyphicon view.glyphicon"}}></span>{{/tool-tip}}</a>')}),GlobalModules.GlobalModulesMap={displayText:"globalModules/displayText",displayTextWithTooltip:"globalModules/displayTextWithTooltip",displayTextCollapsible:"globalModules/displayTextCollapsible",displayTextCollapsibleGlypicon:"globalModules/displayTextCollapsibleGlypicon"},GlobalModules.GlobalModuleColumnDataGroupMixin=Ember.Mixin.create(Utils.ObjectWithArrayMixin,{init:function(){this._super();var a=this.get("arrayProps");a.contains("modules")||a.pushObject("modules")},type:"base",viewType:"base",lookupMap:null,viewLookup:function(){return this.get("lookupMap")[this.get("viewType")]}.property("viewType","lookupMap"),arrayProps:["modules"],modules:null,modulesWillBeDeleted:function(a){for(var b=0;b<a.length;b++)this.removeObserver(a[b]+"Type",this,"moduleTypeDidChange")},modulesWasAdded:function(a){for(var b=0;b<a.length;b++)this.addObserver(a[b]+"Type",this,"moduleTypeDidChange"),this.moduleTypeDidChange(this,a[b]+"Type");this.columnsChanged()},moduleTypeDidChange:function(a,b){var c=b.match(/^(\w*)Type$/)[1];this.set(c+"Lookup",GlobalModules.GlobalModulesMap[this.get(b)||"displayText"])},columnsChanged:function(){var a=this.get("parentObj.columns"),b=this.get("modules");if(a)for(var c=0;c<b.length;c++)this.set(b[c]+"ColumnData",a.findBy(this.get("type")+".moduleType",b[c]))}.observes("parentObj.columns.@each")}),GlobalModules.DisplayTextColumnDataMixin=Ember.Mixin.create({}),GlobalModules.DisplayTextWithTooltipColumnDataMixin=Ember.Mixin.create(GlobalModules.DisplayTextColumnDataMixin,{}),GlobalModules.DisplayTextCollapsibleColumnDataMixin=Ember.Mixin.create(GlobalModules.DisplayTextWithTooltipColumnDataMixin,{}),GlobalModules.DisplayTextCollapsibleGlypiconColumnDataMixin=Ember.Mixin.create(GlobalModules.DisplayTextCollapsibleColumnDataMixin,{glyphiconOpened:"glyphicon-chevron-down",glyphiconCollapsed:"glyphicon-chevron-right"}),GlobalModules.GlobalModulesColumnDataMixinMap={displayText:GlobalModules.DisplayTextColumnDataMixin,displayTextWithTooltip:GlobalModules.DisplayTextWithTooltipColumnDataMixin,displayTextCollapsible:GlobalModules.DisplayTextCollapsibleColumnDataMixin,displayTextCollapsibleGlypicon:GlobalModules.DisplayTextCollapsibleGlypiconColumnDataMixin},ListGroup=Ember.Namespace.create(),ListGroup.ListGroupView=Ember.View.extend({list:null,columnDataGroup:null,classNames:["list-group"],template:Ember.Handlebars.compile("{{#with view as thatView}}{{#each thatView.list}}{{view thatView.columnDataGroup.list.viewLookup record=this columnDataGroup=thatView.columnDataGroup}}{{/each}}{{/with}}")}),ListGroup.ListItemView=Ember.View.extend({record:null,columnDataGroup:null,classNames:["list-group-item"],template:Ember.Handlebars.compile('<h4 class="list-group-item-heading group-item-heading">{{view view.columnDataGroup.list.titleLookup record=view.record columnData=view.columnDataGroup.list.titleColumnData tagName=view.columnDataGroup.list.titleColumnData.list.tagName columnDataKey="list"}}{{view view.columnDataGroup.list.rightBlockLookup record=view.record columnData=view.columnDataGroup.list.rightBlockColumnData tagName=view.columnDataGroup.list.rightBlockColumnData.list.tagName columnDataKey="list"}}</h4>{{view view.columnDataGroup.list.descLookup record=view.record columnData=view.columnDataGroup.list.descColumnData tagName=view.columnDataGroup.list.descColumnData.list.tagName columnDataKey="list"}}')}),ListGroup.NameToLookupMap={base:"listGroup/listItem"},ListGroup.ListColumnDataGroup=Ember.Object.extend(GlobalModules.GlobalModuleColumnDataGroupMixin,{type:"list",modules:["title","rightBlock","desc"],lookupMap:ListGroup.NameToLookupMap}),ListGroup.ListColumnData=Ember.Object.extend({moduleType:""}),ListGroup.ListTitleColumnData=ListGroup.ListColumnData.extend({tagName:"span",classNames:["group-item-name"]}),ListGroup.ListRightBlockColumnData=ListGroup.ListColumnData.extend({tagName:"div",classNames:["pull-right","text-right"]}),ListGroup.ListDescColumnData=ListGroup.ListColumnData.extend({tagName:"p",classNames:["list-group-item-text"]}),ListGroup.ListColumnDataMap={title:ListGroup.ListTitleColumnData,rightBlock:ListGroup.ListRightBlockColumnData,desc:ListGroup.ListDescColumnData},Tree=Ember.Namespace.create(),Tree.NodeRecordMixin=Ember.Mixin.create(Ember.ActionHandler,{children:null,columnDataGroup:function(){var a=this.get("parentObj.columnDataGroup.tree.nodeColumnData");return a?ColumnData.Registry.retrieve(this.get(a.get("key")),"columnDataGroup"):null}.property("parentObj.columnDataGroup")}),Tree.NodeView=Ember.View.extend({record:null,columnDataGroup:null,classNames:["tree-node"],collapseId:function(){return this.get("elementId")+"-inner"}.property("elementId"),collapsed:!1,template:Ember.Handlebars.compile('{{view view.columnDataGroup.tree.leftBarLookup record=view.record columnData=view.columnDataGroup.tree.leftBarColumnData collapseId=view.collapseId groupId=view.elementId tagName=view.columnDataGroup.tree.leftBarColumnData.tree.tagName columnDataKey="tree" collapsed=view.collapsed}}<div {{bind-attr class="view.columnDataGroup.tree.nodeMainClass :tree-node-main"}}>{{view view.columnDataGroup.tree.labelLookup record=view.record columnData=view.columnDataGroup.tree.labelColumnData tagName=view.columnDataGroup.tree.labelColumnData.tree.tagName columnDataKey="tree"}}<div {{bind-attr id=view.collapseId class="view.columnDataGroup.tree.nodeChildrenClass :tree-node-children :collapse :in"}}>{{#each view.record.children}}{{view columnDataGroup.tree.nodeLookup record=this columnDataGroup=columnDataGroup}}{{/each}}</div></div><div class="clearfix"></div>'),didInsertElement:function(){var a=$(this.get("element")).find(this.get("collapseIdSelector")),b=this;a.on("shown.bs.collapse",function(a){Ember.run(function(){b.set("collapsed",!1)}),a.stopPropagation()}),a.on("hidden.bs.collapse",function(a){Ember.run(function(){b.set("collapsed",!0)}),a.stopPropagation()})}}),Tree.LeafView=Tree.NodeView.extend({template:Ember.Handlebars.compile('<div class="tree-node-leftbar leaf-node"></div><div {{bind-attr class="view.columnDataGroup.tree.nodeMainClass :tree-node-main :leaf-node"}}>{{view view.columnDataGroup.tree.labelLookup record=view.record columnData=view.columnDataGroup.tree.labelColumnData tagName=view.columnDataGroup.tree.labelColumnData.tree.tagName columnDataKey="tree"}}</div><div class="clearfix"></div>')}),Tree.NameToLookupMap={node:"tree/node",leaf:"tree/leaf"},GlobalModules.GlobalModulesMap.node="tree/node",GlobalModules.GlobalModulesMap.leaf="tree/leaf",Tree.TreeColumnDataGroup=Ember.Object.extend(GlobalModules.GlobalModuleColumnDataGroupMixin,{type:"tree",modules:["leftBar","label","node"],lookupMap:Tree.NameToLookupMap}),Tree.TreeColumnData=Ember.Object.extend({}),Tree.TreeLeftBarColumnData=Tree.TreeColumnData.extend({classNames:["tree-node-leftbar"]}),Tree.TreeLabelColumnData=Tree.TreeColumnData.extend({tagName:"h4",classNames:["tree-node-name"]}),Tree.TreeNodeColumnData=Tree.TreeColumnData.extend({}),Tree.TreeColumnDataMap={leftBar:Tree.TreeLeftBarColumnData,label:Tree.TreeLabelColumnData,node:Tree.TreeNodeColumnData},LazyDisplay=Ember.Namespace.create(),LazyDisplay.LazyDisplayColumnDataGroup=Ember.Object.extend({rowHeight:50,rowBuffer:50,rowLoadDelay:150,passKeys:[],passValuePaths:[],lazyDisplayMainClass:null,lazyDisplayHeightWrapperClasses:[],lazyDisplayScrollViewClasses:[]}),LazyDisplay.LazyDisplayView=Ember.ContainerView.extend({init:function(){this._super();var a=this.get("columnDataGroup")||LazyDisplay.LazyDisplayColumnDataGroup.create();this.pushObject(LazyDisplay.LazyDisplayHeightWrapperView.create({rows:this.get("rows"),columnDataGroup:a,classNames:a.get("lazyDisplay.lazyDisplayHeightWrapperClasses")}))},rows:null,rowsDidChange:function(){this.objectAt(0).set("rows",this.get("rows"))}.observes("view.rows","rows"),columnDataGroup:null,columnDataGroupDidChange:function(){this.objectAt(0).set("columnDataGroup",columnDataGroup)}.observes("view.columnDataGroup","columnDataGroup"),classNames:["lazy-display"],didInsertElement:function(){var a=$(this.get("element")),b=this.objectAt(0);a.scroll(this,this.scroll),a.resize(this,this.resize),b&&Ember.run(function(){b.scroll(a.scrollTop()),b.resize(a.height())})},scroll:function(a){var b=a.data,c=b.objectAt(0),d=$(b.get("element"));c&&Ember.run(function(){c.scroll(d.scrollTop())})},resize:function(a){var b=a.data,c=b.objectAt(0),d=$(b.get("element"));c&&Ember.run(function(){c.resize(d.height())})}}),LazyDisplay.LazyDisplayHeightWrapperView=Ember.ContainerView.extend({init:function(){this._super(),this.pushObject(LazyDisplay.LazyDisplayScrollView.create({rows:this.get("rows"),columnDataGroup:this.get("columnDataGroup"),lazyDisplayHeightWrapper:this,classNames:this.get("columnDataGroup.lazyDisplay.lazyDisplayScrollViewClasses")}))},rows:null,rowsValueDidChange:function(){this.objectAt(0).set("rows",this.get("rows"))}.observes("view.rows","rows"),columnDataGroup:null,columnDataGroupDidChange:function(){this.objectAt(0).set("columnDataGroup",columnDataGroup)}.observes("view.columnDataGroup","columnDataGroup"),classNames:["lazy-display-height-wrapper"],attributeBindings:["style"],style:function(){return"height:"+this.get("columnDataGroup.lazyDisplay.rowHeight")*this.get("rows.length")+"px;"}.property("view.rows.@each"),rowsDidChange:function(){this.notifyPropertyChange("style")},scroll:function(a){{var b=this.objectAt(0);$(this.get("element"))}b&&b.scroll(a)},resize:function(a){{var b=this.objectAt(0);$(this.get("element"))}b&&b.resize(a)}}),LazyDisplay.LazyDisplayScrollView=Ember.ContainerView.extend({init:function(){this._super();for(var a,b=this.get("columnDataGroup"),c=b.get("lazyDisplay.passValuePaths"),d=b.get("lazyDisplay.passKeys"),e={rows:this.get("rows"),columnDataGroup:b,lazyDisplayHeightWrapper:this.get("lazyDisplayHeightWrapper")},f=b.get("lazyDisplay.lazyDisplayMainClass"),g=0;g<c.length;g++)TestApp.addObserver(c[g],this,"passValueDidChange"),e[d[g]]=Ember.get(c[g]);"string"===Ember.typeOf(f)&&(f=this.container&&this.container.lookup(f)||Ember.get(f)),a=f.create(e),this.pushObject(a)},classNames:["lazy-display-scroll-view"],columnDataGroup:null,lazyDisplayHeightWrapper:null,rows:null,rowsValueDidChange:function(){this.objectAt(0).set("rows",this.get("rows"))}.observes("view.rows","rows"),passValueDidChange:function(a,b){var c=this.get("columnDataGroup"),d=c.get("lazyDisplay.passValuePaths"),e=c.get("lazyDisplay.passKeys"),f=d.findBy(b);this.objectAt(0).set(e[f],Ember.get(b))},scroll:function(a){{var b=this.objectAt(0);$(this.get("element"))}b&&b.scroll(a)},resize:function(a){{var b=this.objectAt(0);$(this.get("element"))}b&&b.resize(a)}}),LazyDisplay.LazyDisplayMainMixin=Ember.Mixin.create(Utils.ObjectWithArrayMixin,{rows:null,lazyDisplayHeightWrapper:null,classNames:["lazy-display-main"],arrayProps:["rows"],rowsWillBeDeleted:function(a){if("destroying"!==this._state){var b=this.filter(function(b){return a.findBy("id",b.get("row.id"))}),c=this;b.length&&this.rerenderRows(a),Timer.addToQue("lazyload",100).then(function(){c.get("lazyDisplayHeightWrapper").rowsDidChange()})}},rowsWasAdded:function(a,b){if("destroying"!==this._state){for(var c=this,d=0;d<a.length;d++){var e=a[d],f=this.findBy("row.id",e.get("id")),c=this,g=this.canShowRow(b[d]);if(f&&!Ember.isEmpty(e.get("id"))&&this.removeObject(f),0===g)f=this.getRowView(e);else{if(-1!==g)break;f=this.getDummyView(e)}this.insertAt(b[d],f)}Timer.addToQue("lazyload",100).then(function(){c.get("lazyDisplayHeightWrapper").rowsDidChange()})}},rerenderRows:function(a){if("destroying"!==this._state){a=a||[];for(var b=this.get("rows"),c=b.get("length"),d=0,e=(this.get("userType"),this.get("columnData"),0);c>e;e++){var f=this.objectAt(d),g=this.canShowRow(d),h=b.objectAt(e);if(a.contains(h))f&&this.removeObject(f);else{if(0!==g||f&&0!==f.rowType)-1!==g||f||this.insertAt(d,this.getDummyView(h));else{var i=this.getRowView(h);f?(this.removeAt(d),this.insertAt(d,i)):this.pushObject(i)}d++}}}},scrollTop:0,scrollTopDidChange:function(){var a=this;Timer.addToQue("lazyload",this.get("columnDataGroup.lazyDisplay.rowLoadDelay")).then(function(){a.rerenderRows()})}.observes("scrollTop","view.scrollTop"),scroll:function(a){this.set("scrollTop",a)},height:0,heightDidChange:function(){var a=this;Timer.addToQue("lazyload",this.get("columnDataGroup.lazyDisplay.rowLoadDelay")).then(function(){a.rerenderRows()})}.observes("height","view.height"),resize:function(a){this.set("height",a)},canShowRow:function(a){var b=this.get("rows"),c=(b.get("length"),this.get("scrollTop")),d=this.get("height"),e=this.get("columnDataGroup"),f=e.get("lazyDisplay.rowHeight"),g=e.get("lazyDisplay.rowBuffer"),h=Math.round(c/f-g),i=d/f+2*g;return h>a?-1:a>=h&&h+i>a?0:a>=h+i?1:0}}),LazyDisplay.LazyDisplayDummyRow=Ember.Mixin.create({rowType:0,classNames:["lazy-display-dummy-row"]}),LazyDisplay.LazyDisplayRow=Ember.Mixin.create({rowType:1,classNames:["lazy-display-row"]}),Form=Ember.Namespace.create(),Form.MultiColumnMixin=Ember.Mixin.create({parentForRows:function(){return this}.property(),columnDataGroup:null,filteredCols:function(){var a=this.get("columnDataGroup.columns"),b=this.get("record"),c=this;return a.filter(function(a){return c.canAddCol(a,b)})}.property("columnDataGroup.columns.@each.form","view.columnDataGroup.columns.@each.form","record.isNew","view.record.isNew"),canAddCol:function(a,b){return!(a.get("form.isOnlyTable")||a.get("form.removeOnEdit")&&b&&!b.get("isNew")||a.get("form.removeOnNew")&&b&&b.get("isNew"))},template:Ember.Handlebars.compile("{{#with view as thatView}}{{#each thatView.filteredCols}}{{view form.formType record=thatView.record col=this labelWidthClass=thatView.columnDataGroup.form.labelWidthClass inputWidthClass=thatView.columnDataGroup.form.inputWidthClass tagName=thatView.columnDataGroup.form.tagName showLabel=thatView.columnDataGroup.form.showLabel parentForm=thatView.parentForRows immediateParent=thatView}}{{/each}}{{/with}}")}),Form.MultiInputViewParentMixin=Ember.Mixin.create({init:function(){this._super(),this.set("listenToMap",this.get("listenToMap")||{}),this.set("duplicateCheckMap",this.get("duplicateCheckMap")||{})},listenToMap:null,bubbleValChange:function(a,b,c,d){var e=this.get("listenToMap"),f=this.get("col"),g=this.get("parentForm");if(f){var h=f.get("checkDuplicates");h&&h.contains(a.name)&&console.log(h)}e[a.name]&&e[a.name].forEach(function(e){for(var f=e.get("views"),h=0;h<f.length;h++){var i=f[h];i!==this.callingView&&i.colValueChanged(a,b,c),i.get("col.form.bubbleValues")&&g&&g.bubbleValChange&&g.bubbleValChange(a,b,c,d)}},{val:b,col:a,callingView:d}),!Ember.isNone(c)&&this.get("record")&&this.get("record").set("tmplPropChangeHook",a.name)},registerForValChange:function(a,b){var c,d=this.get("listenToMap"),e=a.get("col"),f=e.get("name"),g=this.get("parentForm");e.get("form.bubbleValues")&&g&&g.registerForValChange&&g.registerForValChange(a,b),d||(d={},this.set("listenToMap",d)),d[b]=d[b]||[],c=d[b].findBy("name",f),c?c.get("views").pushObject(a):d[b].pushObject(Ember.Object.create({views:[a],name:f}))},unregisterForValChange:function(a,b){var c=this.get("listenToMap"),d=a.get("col"),e=d.get("name"),f=c&&c[b],g=f&&c[b].findBy("name",e),h=this.get("parentForm");if(d.get("form.bubbleValues")&&h&&h.unregisterForValChange&&h.unregisterForValChange(a,b),g){var i=g.get("views");if(i.removeObject(a),0===i.length)f.removeObject(g);else for(var j=0;j<i.length;j++)i[j].colValueChanged(Ember.Object.create({name:b,key:b}),null,null)}}}),Form.FormView=Ember.View.extend(Form.MultiColumnMixin,Form.MultiInputViewParentMixin,{childTagNames:"div",classNames:["form-horizontal"]}),Form.TextInputView=Ember.View.extend({init:function(){this._super(),this.recordDidChange(),this.registerForValChangeChild()},parentForm:null,immediateParent:null,valLength:function(){return this.get("val")?this.get("col.form.maxlength")-this.get("val").length:this.get("col.form.maxlength")}.property("view.val","val"),layout:Ember.Handlebars.compile('{{#if view.showLabelComp}}<div {{bind-attr class="view.labelClass"}} ><label {{bind-attr for="view.col.name" }}>{{#if view.col.label}}{{view.col.label}}{{#if view.col.form.mandatory}}*{{/if}}{{/if}}</label>{{#if view.col.form.helpText}}<div class="label-tooltip">{{#tool-tip placement="right" title=view.col.form.helpText}}<span class="glyphicon glyphicon-question-sign"></span>{{/tool-tip}}</div>{{/if}}</div>{{/if}}<div {{bind-attr class="view.inputClass"}}> {{#if view.col.form.fieldDescription}}<span>{{view.col.form.fieldDescription}}</span>{{/if}}<div class="validateField">{{yield}}{{#unless view.showLabelComp}}{{#if view.col.form.helpText}}<div class="label-tooltip">{{#tool-tip placement="right" title=view.col.form.helpText}}<span class="glyphicon glyphicon-question-sign"></span>{{/tool-tip}}</div>{{/if}}{{/unless}}{{#if view.col.form.maxlength}}<span class="maxlength"><span>{{ view.valLength}}</span></span>{{/if}}{{#if view.invalid}}{{#if view.invalidReason}}<span class="help-block text-danger">{{view.invalidReason}}</span>{{/if}}{{/if}}</div></div>'),template:Ember.Handlebars.compile('{{input class="form-control" autofocus=view.col.form.autofocus type="text" value=view.val disabled=view.isDisabled placeholder=view.col.form.placeholderActual maxlength=view.col.form.maxlength}}'),classNames:["form-group"],classNameBindings:["col.form.additionalClass","col.validation.validations:has-validations","invalid:has-error",":has-feedback","disabled:hidden","additionalClass"],attributeBindings:["colName:data-column-name"],colName:Ember.computed.alias("col.name"),col:null,cols:null,record:null,labelWidthClass:"col-full",inputWidthClass:"col-sm-8",showLabel:!0,labelClass:function(){var a=this.get("col"),b=this.get("labelWidthClass");return"control-label "+(a.labelWidthClass||b)}.property("view.col","view.labelWidthClass"),inputClass:function(){var a=this.get("col"),b=this.get("inputWidthClass");return"control-input "+(a.inputWidthClass||b)}.property("view.col","view.inputWidthClass"),isDisabled:function(){var a=this.get("col"),b=this.get("record");return a.get("form.fixedValue")||a.get("form.disableOnEdit")&&b&&!b.get("isNew")||a.get("form.disableOnNew")&&b&&b.get("isNew")}.property("view.col","view.col.form.fixedValue","view.col.form.disableOnEdit","view.col.form.disableOnNew"),showLabelComp:function(){var a=this.get("col");return void 0===a.showLabel?this.get("showLabel"):this.get("showLabel")&&a.showLabel}.property("showLabel","view.col"),invalid:!1,invalidReason:!1,disabled:!1,disableCheck:function(a,b){var c=this.get("col"),d=this.get("record"),e=c.get("form.disableForCols")&&c.get("form.disableForCols").findBy("name",a.get("name"));if(b=b||d.get(a.get("key")),e){var f=e.value===b,g=e.disable,h=e.enable;this.set("disabled",g&&f||h&&!f)}},colValueChanged:function(a,b){if(this.disableCheck(a,b),a.get("name")===this.get("col.name")){var c=this;Timer.addToQue("duplicateCheck-"+Utils.getEmberId(this),100).then(function(){c.get("isDestroyed")||c.validateValue(c.get("val"))})}},validateValue:function(a){var b=this.get("col"),c=this.get("record");if(b.get("validate"))if(this.get("disabled"))delete c._validation[b.name];else{var d=b.validateValue(a,c);d[0]?c._validation[b.name]=1:delete c._validation[b.name],this.set("invalid",d[0]),this.set("invalidReason",!Ember.isEmpty(d[1])&&d[1])}c.set("validationFailed",Utils.hashHasKeys(c._validation))},val:function(a,b){var c=this.get("col"),d=this.get("record"),e=this.get("parentForm");if(!d)return b;if(d._validation=d._validation||{},arguments.length>1){if(!(d instanceof DS.Model)||d.currentState&&!d.currentState.stateName.match("deleted")){var f=d.get(c.get("key"));this.validateValue(b),d.get("isSaving")?this.set("delayedUpdate",b):(b||!c.get("form.cantBeNull"))&&(d.set(c.get("key"),b),this.valueDidChange(b),e&&e.bubbleValChange&&e.bubbleValChange(c,b,f,this))}return b}return b=d.get(c.get("key")),this.validateValue(b),e&&e.bubbleValChange&&e.bubbleValChange(c,b,null,this),b}.property("col","col.form.disabled","view.disabled","disabled"),valueDidChange:function(){},delayedUpdate:null,flushChanges:function(){var a=this.get("col"),b=this.get("record"),c=this.get("delayedUpdate");if(c&&!b.get("isSaving")){var d=b.get(a.get("key"));b.set(a.name,c),this.get("parentForm")&&this.get("parentForm").bubbleValChange&&this.get("parentForm").bubbleValChange(a,value,d,this),this.set("delayedUpdate",null),this.valueDidChange(value)}}.observes("view.record.isSaving","record.isSaving"),prevRecord:null,recordDidChange:function(){var a=this.get("record"),b=this.get("prevRecord"),c=this.get("col");b&&Ember.removeObserver(b,c.name,this,"notifyValChange"),a?(this.recordChangeHook(),Ember.addObserver(a,c.name,this,"notifyValChange"),this.set("prevRecord",a),this.notifyPropertyChange("val"),c.get("form.disableForCols")&&c.get("form.disableForCols").forEach(function(a){this.disableCheck(a)},this)):this.recordRemovedHook()}.observes("view.record","record"),recordChangeHook:function(){this.notifyPropertyChange("isDisabled")},recordRemovedHook:function(){},title:"test",notifyValChange:function(){this.notifyPropertyChange("val"),this.valueDidChange(this.get("val"))},registerForValChangeChild:function(){var a=this.get("col"),b=this.get("parentForm");
a.get("form.listenForCols")&&a.get("form.listenForCols").forEach(function(a){b&&b.registerForValChange&&b.registerForValChange(this,a)},this)},unregisterForValChangeChild:function(){var a=this.get("col"),b=this.get("parentForm");a.get("form.listenForCols")&&a.get("form.listenForCols").forEach(function(a){b&&b.unregisterForValChange&&b.unregisterForValChange(this,a)},this)},destroy:function(){this._super(),this.unregisterForValChangeChild()}}),Form.TextAreaView=Form.TextInputView.extend({template:Ember.Handlebars.compile('{{textarea class="form-control" autofocus="view.col.form.autofocus" value=view.val disabled=view.isDisabled rows=view.col.rows cols=view.col.cols placeholder=view.col.form.placeholderActual maxlength=view.col.form.maxlength readonly=view.col.form.readonly}}')}),Form.MultipleValue=Ember.Object.extend({val:function(a,b){var c=this.get("col");if(arguments.length>1){if(!Ember.isNone(c)){var d=c.validateValue(b,null,c.get("validation.eachValidations"));d[0]?this.set("isInvalid",!0):this.set("isInvalid",!1)}return b}}.property("col"),label:"",isInvalid:!1}),Form.CopyValuesToObject=function(a,b,c,d){var e=b.get("form.copyAttrs"),f=b.get("form.staticAttrs"),g=b.get("form.valAttrs");if(e)for(var h in e)e.hasOwnProperty(h)&&(a[e[h]]=c.get(h));if(f)for(var h in f)f.hasOwnProperty(h)&&(a[h]=f[h]);if(d&&g)for(var h in g)g.hasOwnProperty(h)&&(a[g[h]]=d.get(h))},Form.CopyValuesToRecord=function(a,b,c,d){var e=b.get("form.copyAttrs"),f=b.get("form.staticAttrs"),g=b.get("form.valAttrs");if(e)for(var h in e)e.hasOwnProperty(h)&&a.set(e[h],c.get(h));if(f)for(var h in f)f.hasOwnProperty(h)&&a.set(h,f[h]);if(d&&g)for(var h in g)g.hasOwnProperty(h)&&a.set(g[h],d.get(h))},Form.MultipleValueMixin=Ember.Mixin.create({init:function(){this._super();var a=this.get("values");this.set("values",Ember.isEmpty(a)?[]:a),this.get("val")?this.valArrayDidChange():this.valuesArrayDidChange()},values:Utils.hasMany(Form.MultipleValue),valuesCount:function(){return this.get("values.length")||0}.property("values.@each"),valuesArrayDidChange:function(){if(this.get("values")&&!this.get("lock")){var a=this.get("val"),b=this.get("values"),c=a&&a.get("length"),d=b.get("length"),e=this.get("col"),f=this.get("record");if(a){if(this.set("lock",!0),b.forEach(function(a,b){var c=this.val.objectAt(b);if(c)c.set(this.col.get("form.arrayCol"),a.get("val")),Form.CopyValuesToRecord(c,this.col,this.record,a);else{var d={};d[this.col.get("form.arrayCol")]=a.get("val"),Form.CopyValuesToObject(d,this.col,this.record,a),this.record.addToProp(this.col.get("key"),CrudAdapter.createRecordWrapper(this.record.store,this.col.get("form.arrayType"),d))}},{val:a,col:e,record:f}),c>d)for(var g=d;c>g;g++)a.popObject();this.set("lock",!1)}}}.observes("values.@each.val","view.values.@each.val"),valArrayDidChange:function(){if(!this.get("lock")){{var a=this.get("val");this.get("col")}if(a){var b,a=this.get("val");b=this.valuesMultiCreateHook(a),this.set("lock",!0),this.set("values",b),this.set("lock",!1)}}}.observes("val.@each","view.val.@each"),valuesMultiCreateHook:function(a){return a.map?a.map(function(a){return this.valuesElementCreateHook(a)},this):[]},valuesElementCreateHook:function(a){var b=this.get("col");return{val:a.get(b.get("form.arrayCol")),col:b}},lock:!1,valuesWereInvalid:function(){if(this.get("col.form.arrayCol")){var a=this.get("values"),b=!a||0===a.get("length")||a.anyBy("isInvalid",!0),c=this.get("record"),d=this.get("col");c&&(this.get("disabled")?delete c._validation[d.get("name")]:(this.set("invalid",b),c._validation=c._validation||{},b?c._validation[d.get("name")]=1:delete c._validation[d.get("name")]),this.validateValue())}}.observes("values.@each.isInvalid","view.values.@each.isInvalid","disabled","view.disabled")}),Form.StaticSelectView=Form.TextInputView.extend({template:Ember.Handlebars.compile('{{view "select" class="form-control" content=view.col.form.options optionValuePath="content.val" optionLabelPath="content.label" prompt=view.col.form.prompt value=view.val disabled=view.isDisabled maxlength=view.col.form.maxlength}}{{#if view.helpblock}}<p class="help-block">{{view.helpblock}}</p>{{/if}}'),helpblock:""}),Form.DynamicSelectView=Form.StaticSelectView.extend(Form.MultipleValueMixin,Utils.ObjectWithArrayMixin,{init:function(){this._super();var a=this.get("col");Ember.addObserver(this,a.get("form.dataPath")+".@each",this,"dataDidChange")},classNameBindings:["hideOnEmpty:hidden"],hideOnEmpty:!1,selectOptions:function(){var a=this.get("col"),b=[],c=[];return b=a.dataPath?Ember.get(a.dataPath)||this.get(a.dataPath):a.data||[],b&&b.forEach(function(b){c.push(Ember.Object.create({val:b.get(a.dataValCol),label:b.get(a.dataLabelCol)}))},this),a.get("form.hideOnEmpty")&&c.length-a.get("form.hideEmptyBuffer")===0?this.set("hideOnEmpty",!0):this.set("hideOnEmpty",!1),c}.property("view.col"),dataDidChange:function(){this.notifyPropertyChange("selectOptions"),this.rerender()},selection:function(a,b){if(arguments.length>1)return"preRender"!==this._state&&(this.get("col.form.multiple")?Ember.isEmpty(b[0])||this.set("values",b):this.set("val",b&&b.val)),b;var c,d=this.get("selectOptions");if(this.get("col.form.multiple")){var e=this.get("values"),f=this.get("col");e&&e.get("length")&&(c=d.filter(function(a){return!!this.values.findBy("val",a.get("val"))},{col:f,values:e}))}else c=d.findBy("val",this.get("val"));return c}.property("view.values.@each","values.@each"),recordChangeHook:function(){this._super(),this.notifyPropertyChange("selection")},valueDidChange:function(){this.notifyPropertyChange("selection")},selectionWasAdded:function(a,b,c){this.get("col.form.multiple")&&!c&&this.set("values",this.get("selection"))},arrayProps:["selection"],template:Ember.Handlebars.compile('{{view "select" class="form-control" content=view.selectOptions optionValuePath="content.val" optionLabelPath="content.label" multiple=view.col.form.multiple prompt=view.col.form.prompt selection=view.selection disabled=view.isDisabled maxlength=view.col.form.maxlength}}')}),Form.SelectiveSelectView=Ember.Select.extend({options:[],filterColumn:"",content:function(){var a=this.get("filterColumn");return this.get("options").filter(function(a){return!Ember.isEmpty(a.get(this.filterColumn))},{filterColumn:a})}.property("view.overallOptions.@each")}),Form.LabelView=Form.TextInputView.extend({layout:Ember.Handlebars.compile("{{yield}}"),template:Ember.Handlebars.compile("<label>{{view.col.label}}</label>"),col:null,record:null}),Form.Legend=Ember.View.extend({classNameBindings:["col.disabled:hidden"],template:Ember.Handlebars.compile("<legend>{{view.col.label}}</legend>"),col:null,record:null}),Form.FileUploadView=Form.TextInputView.extend({template:Ember.Handlebars.compile('<button class="btn btn-default" {{action "loadFile" target="view"}} {{bind-attr disabled="view.disableBtn"}}>{{view.btnLabel}}</button><input class="hidden" type="file" name="files[]" {{bind-attr accept="view.col.form.accept"}}>'),disableBtn:!1,fileName:"",btnLabel:function(){return this.get("uploadBtnLabel")||this.get("col").get("form.btnLabel")}.property("col","col.form.btnLabel"),postRead:function(a){this.set("val",a)},postFail:function(){this.set("val",null)},change:function(a){var b=a.originalEvent&&a.originalEvent.target.files,c=this,d=this.get("col");b&&b.length>0&&!Ember.isEmpty(b[0])&&(this.set("disableBtn","disabled"),this.set("fileName",b[0].name),EmberFile[d.get("method")](b[0]).then(function(a){c.postRead(a),c.set("disableBtn",!1)},function(a){c.postFail(a),c.set("disableBtn",!1)}),$(this.get("element")).find("input[type='file']")[0].value="")},actions:{loadFile:function(){fileInput=$(this.get("element")).find("input[type='file']"),fileInput.click()}}}),Form.ImageUploadView=Form.FileUploadView.extend({template:Ember.Handlebars.compile('<p><button class="btn btn-default btn-sm" {{action "loadFile" target="view"}} {{bind-attr disabled="view.disableBtn"}}>{{view.col.form.btnLabel}}</button><input class="hidden" type="file" name="files[]" {{bind-attr accept="view.col.form.accept"}}></p><canvas class="hidden"></canvas><div {{bind-attr class="view.hasImage::hidden"}}><div class="image-container"><div class="image-container-inner"><img class="the-image" {{bind-attr src="view.imageSrc"}}><div class="image-cropper"></div></div></div><button class="btn btn-default btn-sm" {{action "cropImage" target="view"}}>Crop</button></div><div class="clearfix"></div>'),imageSrc:"",hasImage:!1,postRead:function(a){this.set("imageSrc",a),this.set("hasImage",!0)},postFail:function(){this.set("imageSrc",null),this.set("hasImage",!1)},didInsertElement:function(){this._super();var a=$(this.get("element")).find(".image-cropper");a.draggable({containment:"parent"}),a.resizable({containment:"parent"})},actions:{cropImage:function(){var a=$(this.get("element")).find(".image-cropper"),b=a.css("left"),c=a.css("top"),d=a.height(),e=a.width(),f=$(this.get("element")).find("canvas")[0],g=f.getContext("2d");b=Number(b.match(/^(\d+)px$/)[1]),c=Number(c.match(/^(\d+)px$/)[1]),g.drawImage($(this.get("element")).find(".the-image")[0],b,c,d,e,0,0,d,e),this.set("val",f.toDataURL()),this.set("hasImage",!1),a.css("left",0),a.css("top",0),a.height(100),a.width(100)}}}),Form.CSVEntry=Form.MultipleValue.extend({val:function(a,b){var c=this.get("col");if(arguments.length>1){if(!Ember.isNone(c)){var d=c.validateValue(b,null,c.get("validation.eachValidations"));d[0]?(this.set("isInvalid",!0),this.get("validated")||this.set("showInput",!0)):this.set("isInvalid",!1),this.set("validated",!0)}return b}}.property("col"),showInput:!1,validated:!1,col:null});var csvid=0;Form.CSVDateValue=Ember.View.extend(LazyDisplay.LazyDisplayRow,{template:Ember.Handlebars.compile('<div {{bind-attr class=":form-group view.data.isInvalid:has-error view.data.showInput:has-input view.data.showInput:has-feedback :csv-value"}}>{{#if view.data.showInput}}{{view Ember.TextField class="form-control input-sm" value=view.data.val}}<span {{bind-attr class=":form-control-feedback"}}></span>{{else}}<p class="form-control-static">{{view.data.val}}</p>{{/if}}</div>'),data:null}),Form.CSVDateDummyValue=Ember.View.extend(LazyDisplay.LazyDisplayDummyRow,{classNames:["csv-dummy-value"],template:Ember.Handlebars.compile("")}),Form.CSVDateValues=Ember.ContainerView.extend(LazyDisplay.LazyDisplayMainMixin,{getRowView:function(a){return Form.CSVDateValue.create({data:a})},getDummyView:function(){return Form.CSVDateDummyValue.create()}}),Form.CSVDataInputView=Form.FileUploadView.extend(Form.MultipleValueMixin,{template:Ember.Handlebars.compile('{{view.col.form.description}}{{#if view.hasFile}}{{view.fileName}} ({{view.valuesCount}} {{view.col.form.entityPlural}})<button class="btn btn-link" {{action "remove" target="view"}}>Remove</button> | <button class="btn btn-link" {{action "replace" target="view"}}>Replace</button>{{view "lazyDisplay/lazyDisplay" classNameBindings=":form-sm :csv-values-wrapper" columnDataGroup=view.columnDataGroup rows=view.valuesTransformed}}{{else}}{{textarea class="form-control" autofocus="view.col.form.autofocus" value=view.csvVal rows=view.col.rows cols=view.col.cols placeholder=view.col.form.placeholderActual maxlength=view.col.form.maxlength readonly=view.col.form.readonly}}<div class="upload-help-text"><button class="btn btn-default" {{action "loadFile" target="view"}} {{bind-attr disabled="view.disableBtn"}}>{{view.col.form.btnLabel}}</button></div>{{/if}}<input class="hidden" type="file" name="files[]" {{bind-attr accept="view.col.form.accept"}}>'),hasFile:!1,values:Utils.hasMany(Form.CSVEntry),valuesTransformed:function(){var a=this.get("values"),b=[];return b.pushObjects(a.filterBy("showInput",!0)),b.pushObjects(a.filterBy("showInput",!1)),b}.property("view.values.@each.showInput","values.@each.showInput"),setToValues:function(a){for(var b=this.get("col"),c=a.split(new RegExp(b.get("splitRegex"))),d=0;d<c.length;)Ember.isEmpty(c[d])?c.splice(d,1):c.splice(d,1,{col:b,val:c[d++]});this.set("values",c)},csvVal:function(a,b){var c=this.get("col"),d=this;if(arguments.length>1)return Timer.addToQue("csvvalues-"+c.get("name"),1500).then(function(){d.get("isDestroyed")||d.setToValues(b)}),b;var e=this.get("values");return e&&e.mapBy("val").join(", ")}.property("view.values.@each","values.@each","view.row","row"),recordChangeHook:function(){this._super(),this.set("hasFile",!1),this.set("invalid",this.get("record.isNew"))},postRead:function(a){this.setToValues(a),this.set("hasFile",!0)},postFail:function(){this.set("hasFile",!1)},actions:{remove:function(){this.set("hasFile",!1),this.set("csvVal",""),this.setToValues("")},replace:function(){$(this.get("element")).find("input[type='file']").click()}}});var mulid=0;Form.MultiEntryView=Form.TextInputView.extend(Form.MultiInputViewParentMixin,{childView:function(){var a=this.get("col");return Form.TypeToCellNameMap[a.get("childCol").type]}.property("view.col.childCol.type"),template:Ember.Handlebars.compile('<div {{bind-attr class="view.col.form.multiEntryContainerClass"}}>{{#with view as outerView}}{{#each outerView.val}}<div {{bind-attr class="outerView.col.form.eachMultiEntryClass"}}><div {{bind-attr class="outerView.col.form.multiEntryClass"}}>{{view outerView.childView record=this col=outerView.col.childCol parentForm=outerView showLabel=column.form.showChildrenLabel immediateParent=outerView}}</div>{{#if outerView.col.form.canManipulateEntries}}<div class="remove-entry" rel="tooltip" title="Delete Condition"><a {{action "deleteEntry" this target="outerView"}}><span class="glyphicon glyphicon-trash"></span></a></div><div class="add-entry" rel="tooltip" title="Add Condition"> <a {{action "addEntry" target="outerView"}}><span class="glyphicon glyphicon-plus"></span></a></div>{{/if}}</div>{{else}}{{#if outerView.col.form.canManipulateEntries}}<div class="add-first-entry" rel="tooltip" title="Add Condition"> <a {{action "addEntry" target="outerView"}}><span class="glyphicon glyphicon-plus"></span></a></div>{{/if}}{{/each}}{{/with}}</div><p class="tp-rules-end-msg">{{view.col.form.postInputText}}</p>'),valuesArrayDidChange:function(){this.get("record")&&this.validateValue(this.get("val"))}.observes("val.@each","view.val.@each"),actions:{addEntry:function(){var a,b=this.get("record"),c=this.get("col"),d=this.get("val"),e={};$(".tooltip").hide(),Form.CopyValuesToObject(e,c,b),a=CrudAdapter.createRecordWrapper(b.store,c.get("form.arrayType"),e),d||(d=[],this.set("val",d)),d.pushObject(a)},deleteEntry:function(a){$(".tooltip").hide();var b=this.get("val");b.removeObject(a)}}}),Form.MultiInputView=Ember.View.extend(Form.MultiColumnMixin,Form.MultiInputViewParentMixin,{classNames:["clearfix"],classNameBindings:["col.form.additionalClass"],parentForRows:function(){return this.get("col.form.propogateValChange")?this.get("parentForm"):this}.property(),columnDataGroup:Ember.computed.alias("col.childColGroup")}),Form.CheckBoxView=Form.TextInputView.extend({template:Ember.Handlebars.compile('<div class="checkbox"><label>{{view "checkbox" checked=view.val disabled=view.isDisabled}}<label></label> {{view.col.form.checkboxLabel}}</label></div>')}),Form.TextAreaSelectedView=Form.TextAreaView.extend({init:function(){this._super(),this.get("val")},valChanged:function(a){var b=$(a.target);b.focus().select(),Ember.run.later(function(){b.scrollTop(0)},1)},didInsertElement:function(){var a=$(this.get("element")).find("textarea"),b=this;this._super(),a.change(this.valChanged),Ember.run.later(function(){b.valChanged({target:a})},1e3)}}),Form.GroupRadioButtonView=Form.TextInputView.extend({template:Ember.Handlebars.compile('{{#each view.col.form.options}}<div {{bind-attr class="radio view.col.form.displayInline:radio-inline"}}><label>{{view "form/radioInput" name=view.groupName value=this.val selection=view.val}}<span></span>{{{this.label}}}</label></div> {{/each}}'),groupName:function(){return Utils.getEmberId(this)}.property()}),Form.RadioInputView=Ember.View.extend({tagName:"input",type:"radio",attributeBindings:["name","type","value","checked:checked"],click:function(){this.set("selection",this.$().val())},checked:function(){return this.get("value")==this.get("selection")}.property("selection")}),Form.GroupCheckBoxView=Form.TextInputView.extend({template:Ember.Handlebars.compile('{{#each view.newCheckList}}<div {{bind-attr class="checkbox col-md-4 view.col.form.displayInline:checkbox-inline"}}><label>{{view "checkbox" checked=this.checked disabled=view.isDisabled}}<label></label> {{this.checkboxLabel}}</label></div>{{/each}}'),checkBoxDidChange:function(){var a=this.get("newCheckList");this.set("val",a.filterBy("checked",!0).mapBy("id").join(","))}.observes("newCheckList.@each.checked"),newCheckList:function(){for(var a=Ember.A(),b=this.get("col.form.checkList"),c=this.get("record").get(this.get("col").name).split(","),d=0;d<b.get("length");d++){var e=JSON.parse(JSON.stringify(b[d],["checkboxLabel","id"]));e.checked=-1==c.indexOf(e.id+"")?!1:!0,a.pushObject(Ember.Object.create(e))}return a}.property("view.col.checkList"),notifyValChange:function(){this._super();var a=this.get("record").get(this.get("col").name).split(","),b=this.get("newCheckList");b&&b.forEach(function(b){-1==a.indexOf(b.get("id")+"")?b.set("checked",!1):b.set("checked",!0)},this)}}),Form.MediumHeadingView=Form.TextInputView.extend({template:Ember.Handlebars.compile("<label>{{view.col.label}}</label>"),layout:Ember.Handlebars.compile("{{yield}}")}),Form.WrapperView=Ember.View.extend({childView:function(){var a=this.get("col");return Form.TypeToCellNameMap[a.get("childCol").type]}.property("view.col.childCol.type"),layout:Ember.Handlebars.compile("{{yield}}"),template:Ember.Handlebars.compile("{{create-view view.childView record=view.record col=view.col.childCol parentForm=view.parentForm immediateParent=view.immediateParent}}")}),Form.TypeToCellNameMap={textInput:"form/textInput",textareaInput:"form/textArea",staticSelect:"form/staticSelect",dynamicSelect:"form/dynamicSelect",selectiveSelect:"form/selectiveSelect",label:"form/label",fileUpload:"form/fileUpload",imageUpload:"form/imageUpload",csvData:"form/csvDataInput",multiEntry:"form/multiEntry",multiInput:"form/multiInput",checkBox:"form/checkBox",textareaSelectedInput:"form/textAreaSelected",groupRadioButton:"form/groupRadioButton",groupCheckBox:"form/groupCheckBox",sectionHeading:"form/mediumHeading"},Ember.Select.reopen({_selectionDidChangeSingle:function(){var a=this.get("element");if(a){var b=this.get("content"),c=this.get("selection"),d=b&&b.findBy&&c?b.indexOf(b.findBy("val",c.val)):-1,e=this.get("prompt");e&&(d+=1),a&&(a.selectedIndex=d)}}}),Form.FormColumnDataGroup=Ember.Object.extend({labelWidthClass:"col-sm-4",inputWidthClass:"col-sm-8",showLabel:!0}),Form.FormColumnData=Ember.Object.extend({placeholder:null,placeholderActual:function(){var a=this.get("placeholder"),b=this.get("parentObj.label");return a?a:b}.property("parentObj.label","placeholder"),type:"",formType:function(){return Form.TypeToCellNameMap[this.get("type")]}.property("type"),fixedValue:null,options:[],data:[],dataValCol:"",dataLabelCol:"",bubbleValues:!1,cantBeNull:!1,canManipulateEntries:!0,multiEntryContainerClass:"multi-entry-container",eachMultiEntryClass:"each-multi-entry",multiEntryClass:"multi-entry",showChildrenLabel:!1,childrenLabelWidthClass:"",childrenInputWidthClass:"col-md-12",exts:Utils.hasMany(),disableForCols:Utils.hasMany("Form.DisableForCol")}),Form.FormColumnDataMap={textInput:Form.FormColumnData,textareaInput:Form.FormColumnData,staticSelect:Form.FormColumnData,dynamicSelect:Form.FormColumnData,selectiveSelect:Form.FormColumnData,label:Form.FormColumnData,fileUpload:Form.FormColumnData,imageUpload:Form.FormColumnData,csvData:Form.FormColumnData,multiEntry:Form.FormColumnData,multiInput:Form.FormColumnData,checkBox:Form.FormColumnData,textareaSelectedInput:Form.FormColumnData,groupRadioButton:Form.FormColumnData,groupCheckBox:Form.FormColumnData,sectionHeading:Form.FormColumnData},Form.DisableForCol=Ember.Object.extend({name:"",value:"",keyName:"",key:function(){return this.get("keyName")||this.get("name")}.property("keyName","name"),enable:!1,disable:!1}),Alerts=Ember.Namespace.create(),Alerts.AlertTypeMap={info:{alertClass:"alert-info",glyphiconClass:"glyphicon-info-sign"},success:{alertClass:"alert-success",glyphiconClass:"glyphicon-ok-sign"},warning:{alertClass:"alert-warning",glyphiconClass:"glyphicon-warning-sign"},error:{alertClass:"alert-danger",glyphiconClass:"glyphicon-exclamation-sign"}},Alerts.AlertMessageComponent=Ember.Component.extend({init:function(){this._super(),this.set("switchOnMessageListener",!0)},type:"error",title:"",message:function(a,b){if(arguments.length>1){if(!Ember.isEmpty(b)&&this.get("switchOnMessageListener")){var c=this.get("collapseTimeout"),d=this;this.set("showAlert",!0),!Ember.isEmpty(c)&&c>0&&Timer.addToQue(this.get("elementId"),c).then(function(){d.set("showAlert",!1)})}else this.set("showAlert",!1);return b}}.property(),switchOnMessageListener:!1,collapseTimeout:0,typeData:function(){var a=this.get("type");return Alerts.AlertTypeMap[a]||Alerts.AlertTypeMap.error}.property("type"),showAlert:!1,click:function(a){if($(a.target).filter("button.close").length>0){var b=this;Ember.run(function(){b.set("showAlert",!1)})}},classNameBindings:[":alert","typeData.alertClass",":fade","showAlert:in"],layout:Ember.Handlebars.compile('<button class="close">&times;</button><strong><span {{bind-attr class=":glyphicon typeData.glyphiconClass :btn-sm"}}></span><span class="alert-title">{{title}}</span></strong> <span class="alert-message">{{message}}</span>{{yield}}')}),Ember.Handlebars.helper("alert-message",Alerts.AlertMessageComponent),DragDrop=Ember.Namespace.create(),DragDrop.VIEW_ID="",DragDrop.MOVE_THRESHOLD=2,DragDrop.DraggableMixin=Ember.Mixin.create({classNames:["dragdrop-draggable"],attributeBindings:"draggable",draggable:"true",move:!0,dragStart:function(a){var b=a.originalEvent.dataTransfer,c=this.get("elementId");if(b.setData("ViewId",c),b.dropEffect="move",DragDrop.VIEW_ID=c,this.get("move")){var d=this.get("element");this.set("mouseOffset",{left:Utils.getOffset(d,"Left")-a.originalEvent.x,top:Utils.getOffset(d,"Top")-a.originalEvent.y})}this.dragStartCallback(a),a.stopPropagation()},dragStartCallback:function(){},allowedDropTargets:".dragdrop-droppable"}),DragDrop.DroppableMixin=Ember.Mixin.create({classNames:["dragdrop-droppable"],selectorsPass:function(a,b){"array"!==Ember.typeOf(b)&&(b=[b]);for(var c=0;c<b.length;c++)if(!Ember.isEmpty(a.filter(b[c])))return!0;return!1},canInteract:function(a,b,c,d){return this.selectorsPass(d,a.get("allowedDropTargets"))&&this.selectorsPass(b,c.get("acceptDropFrom"))},dragEnter:function(a){var b=Ember.View.views[DragDrop.VIEW_ID],c=b&&$(b.get("element")),d=this,e=$(a.target);b&&this.canInteract(b,c,d,e)&&this.dragEnterCallback(a,b,c,d,e),a.preventDefault()},dragOver:function(a){var b=Ember.View.views[DragDrop.VIEW_ID],c=b&&$(b.get("element")),d=this,e=$(a.target);b&&this.canInteract(b,c,d,e)&&this.dragOverCallback(a,b,c,d,e),a.preventDefault()},dragLeave:function(a){var b=Ember.View.views[DragDrop.VIEW_ID],c=b&&$(b.get("element")),d=this,e=$(a.target);b&&this.canInteract(b,c,d,e)&&this.dragLeaveCallback(a,b,c,d,e),a.preventDefault()},drop:function(a){var b=Ember.View.views[DragDrop.VIEW_ID],c=b&&$(b.get("element")),d=this,e=$(a.target);if(b&&this.canInteract(b,c,d,e)){if(b.get("move")){var f=b.get("mouseOffset");c.offset({left:f.left+a.originalEvent.x,top:f.top+a.originalEvent.y})}this.dropCallback(a,b,c,d,e)}a.preventDefault()},dragEnterCallback:function(){},dragOverCallback:function(){},dragLeaveCallback:function(){},dropCallback:function(){},acceptDropFrom:".dragdrop-draggable"}),DragDrop.SortableDraggableMixin=Ember.Mixin.create(DragDrop.DraggableMixin,DragDrop.DroppableMixin,{init:function(){this._super(),this.set("lastXY",[0,0])},classNames:["dragdrop-sortable-element"],sortEleId:function(){return this.get("record."+this.get("columnDataGroup.sort.sortEleIdColumnData.key"))}.property("view.columnData.key"),sortableView:null,groupId:0,hasElements:!1,curGrpId:function(){return this.get("groupId")}.property("view.groupId","view.columnDataGroup.sort.sameLevel"),stateData:null,hierarchy:"",effH:function(){return this.get("hierarchy")+"_"+this.get("groupId")}.property("view.groupId","view.hierarchy"),isPlaceholder:!1,move:!1,calcAppendPosition:function(a){var b=this.get("lastXY"),c=a[0]-b[0],d=Math.abs(c),e=a[1]-b[1],f=Math.abs(e),g=c,h=d;f>d&&(g=e,h=f),h>DragDrop.MOVE_THRESHOLD?(0>g?this.set("appendNext",!1):this.set("appendNext",!0),this.set("lastXY",a),this.set("change",!0)):this.set("change",!1)},dragOverCallback:function(a,b,c,d){if(d.get("sortableView")&&b.get("sortableView")){var e=this.get("columnDataGroup"),f=e.get("sort.sortEleIdColumnData.key"),g=d.get("sortableView"),h=g.get("elementId"),i=g.get("sortEleChildren"),j=d.get("sortEleId"),k=i.indexOf(i.findBy(f,j)),l=b.get("sortEleId"),m=b.get("sortableView"),n=m.get("elementId"),o=m.get("sortEleChildren"),p=o.indexOf(o.findBy(f,l)),q=o[p];b.calcAppendPosition([a.originalEvent.x,a.originalEvent.y]),g.get("effH")===m.get("effH")&&b.get("change")&&(h===n?j!==l&&k!==p&&(1==g.get("length")&&g.objectAt(0).isPlaceholder&&g.removeAt(0),i.removeAt(p),g.removeAt(p),b.get("appendNext")&&k++,k>i.length?k=i.length:-1===k&&(k=0),i.insertAt(k,q),g.insertAt(k,b),b.set("change",!1),a.stopPropagation()):-1!==i.indexOf(q)||Utils.deepSearchArray(q,j,f,e.get("sort.sortEleChildrenColumnData.key"))||(1==g.get("length")&&g.objectAt(0).isPlaceholder&&g.removeAt(0),o.removeAt(p),m.removeAt(p),b.get("appendNext")&&k++,k>i.length?k=i.length:-1===k&&(k=0),i.insertAt(k,q),b.set("sortableView",g),g.insertAt(k,b),0===m.get("length")&&m.pushObject(e.get("sort.placeholderClass").create({sortableView:m,hierarchy:b.get("hierarchy"),groupId:b.get("stateData.grpId"),columnDataGroup:e})),b.set("change",!1),a.stopPropagation()))}},change:!1,appendNext:!1,lastXY:null}),DragDrop.SortableDroppableMixin=Ember.Mixin.create(DragDrop.DroppableMixin,{init:function(){this._super(),this.set("stateData",this.get("stateData")||{grpId:0}),this.sortEleChildrenDidChange()},classNames:["dragdrop-sortable-container"],sortEleChildren:function(){return this.get("record."+this.get("columnDataGroup.sort.sortEleChildrenColumnData.key"))}.property("view.columnDataGroup.sort.sortEleChildrenColumnData","view.record"),sortEleChildrenDidChange:function(){var a=this.get("sortEleChildren"),b=this.get("columnDataGroup"),c=this.get("length"),d=a.length,e=c>d?d:c,f=d-e,g=0;for(stateData=this.get("stateData"),sortEleChildrenClassMap=b.get("sort.sortEleChildrenClassMap"),sortEleChildrenClassColumnData=b.get("sort.sortEleChildrenClassColumnData"),sortEleChildrenColumnGroupLookup=b.get("sort.sortEleChildrenColumnGroupLookup");e>g;g++)this.objectAt(g).setProperties({record:a[g],columnDataGroup:ColumnData.Registry.retrieve(a[g].get(sortEleChildrenColumnGroupLookup.get("key")),"columnDataGroup"),stateData:stateData,sortableView:this});for(;f>g;g++)this.pushObject(sortEleChildrenClassMap[a[g].get(sortEleChildrenClassColumnData.get("key"))].create({record:a[g],columnDataGroup:ColumnData.Registry.retrieve(a[g].get(sortEleChildrenColumnGroupLookup.get("key")),"columnDataGroup"),stateData:stateData,sortableView:this}));0===a.length&&this.pushObject(b.get("sort.placeholderClass").create({record:this.get("record"),columnDataGroup:b,stateData:stateData,sortableView:this}))}.observes("view.sortEleChildren"),elesIsEmpty:Ember.computed.empty("sortEleChildren.@each"),groupId:0,hierarchy:"",stateData:null,effH:function(){return this.get("hierarchy")+"_"+this.get("groupId")}.property("view.groupId","view.hierarchy"),isPlaceholder:!1}),DragDrop.SortablePlaceholderMixin=Ember.Mixin.create(DragDrop.DraggableMixin,DragDrop.DroppableMixin,{init:function(){this._super()},isPlaceholder:!0,move:!1,classNames:["dragdrop-sortable-placeholder"],columnDataGroup:null,sortableView:null,groupId:0,hierarchy:"",effH:function(){return this.get("hierarchy")+"_"+this.get("groupId")}.property("view.groupId","view.hierarchy"),dragOverCallback:function(a,b,c,d){if(d.get("sortableView")&&b.get("sortableView")){var e=this.get("columnDataGroup"),f=d.get("sortableView"),g=(f.get("elementId"),f.get("sortEleChildren")),h=d.get("sortEleId"),i=(g.indexOf(g.findBy(e.get("sort.sortEleIdColumnData.key"),h)),b.get("sortEleId")),j=b.get("sortableView"),k=(j.get("elementId"),j.get("sortEleChildren")),l=k.indexOf(k.findBy(e.get("sort.sortEleIdColumnData.key"),i)),m=k[l];b.calcAppendPosition([a.originalEvent.x,a.originalEvent.y]),f.get("effH")===j.get("effH")&&b.get("change")&&(1==f.get("length")&&f.objectAt(0).isPlaceholder&&f.removeAt(0),k.removeAt(l),j.removeAt(l),g.pushObject(m),f.pushObject(b),b.set("sortableView",f),b.set("change",!1),a.stopPropagation())}}}),DragDrop.SortableColumnDataGroup=Ember.Object.extend({sortableDragableClassNames:[],sortableDroppableClassNames:[],sortablePlaceholderClassNames:[],sortEleIdColumnData:function(){return this.get("parentObj.columns").findBy("sort.type","sortEleId")}.property("parentObj.columns.@each.sort"),sortEleChildrenColumnData:function(){return this.get("parentObj.columns").findBy("sort.type","sortEleChildren")}.property("parentObj.columns.@each.sort"),sortEleChildrenClassMap:function(){return Ember.get(this.get("sortEleChildrenClassMapName"))}.property("sortEleChildrenClassMapName"),sortEleChildrenClassMapName:null,sortEleChildrenClassColumnData:function(){return this.get("parentObj.columns").findBy("sort.type","sortEleChildrenClass")}.property("parentObj.columns.@each.sort"),sortEleChildrenColumnGroupLookup:function(){return this.get("parentObj.columns").findBy("sort.type","sortEleChildrenColumnGroup")}.property("parentObj.columns.@each.sort"),placeholderClass:function(){return Ember.get(this.get("placeholderClassName"))}.property("placeholderClassName"),placeholderClassName:"",sameLevel:!1}),DragDrop.SortableEleIdColumnData=Ember.Object.extend({}),DragDrop.SortableEleChildrenColumnData=Ember.Object.extend({}),DragDrop.SortableEleChildrenClassColumnData=Ember.Object.extend({}),DragDrop.SortableEleChildrenColumnGroup=Ember.Object.extend({}),DragDrop.SortableColumnDataMap={sortEleId:DragDrop.SortableEleIdColumnData,sortEleChildren:DragDrop.SortableEleChildrenColumnData,sortEleChildrenClass:DragDrop.SortableEleChildrenClassColumnData,sortEleChildrenColumnGroup:DragDrop.SortableEleChildrenColumnGroup},Panels=Ember.Namespace.create(),Panels.PanelsView=Ember.View.extend({panels:null,columnDataGroup:null,classNames:["panel-group"],template:Ember.Handlebars.compile("{{#with view as thatView}}{{#each thatView.panels}}{{view thatView.columnDataGroup.panel.viewLookup record=this columnDataGroup=thatView.columnDataGroup groupId=thatView.elementId}}{{/each}}{{/with}}")}),Panels.PanelView=Ember.View.extend({record:null,columnDataGroup:null,classNames:["panel","panel-default"],template:Ember.Handlebars.compile('<div class="panel-heading">{{view view.columnDataGroup.panel.headingLookup record=view.record columnData=view.columnDataGroup.panel.headingColumnData tagName=view.columnDataGroup.panel.headingColumnData.list.tagName columnDataKey="panel"}}</div><div class="panel-body">{{view view.columnDataGroup.panel.bodyLookup record=view.record columnData=view.columnDataGroup.panel.bodyColumnData tagName=view.columnDataGroup.panel.bodyColumnData.list.tagName columnDataKey="panel"}}</div>{{#if view.columnDataGroup.panel.footerColumnData}}<div class="panel-footer">{{view view.columnDataGroup.panel.footerLookup record=view.record columnData=view.columnDataGroup.panel.footerColumnData tagName=view.columnDataGroup.panel.footerColumnData.list.tagName columnDataKey="panel"}}</div>{{/if}}')}),Panels.PanelCollapsibleView=Panels.PanelView.extend({groupId:null,collapseId:function(){return this.get("elementId")+"-inner"}.property("view.elementId"),collapseIdHref:function(){return"#"+this.get("collapseId")}.property("view.collapseId"),isFirst:function(){var a=this.get("parentView.panels");
return!a||a.objectAt(0)===this.get("record")}.property("view.parentView.panels.@each","view.record"),template:Ember.Handlebars.compile('<div class="panel-heading">{{view view.columnDataGroup.panel.headingLookup record=view.record columnData=view.columnDataGroup.panel.headingColumnData collapseId=view.collapseId groupId=view.groupId tagName=view.columnDataGroup.panel.headingColumnData.list.tagName columnDataKey="panel"}}</div><div {{bind-attr id="view.collapseId" class=":panel-collapse :collapse view.isFirst:in"}}><div class="panel-body">{{view view.columnDataGroup.panel.bodyLookup record=view.record columnData=view.columnDataGroup.panel.bodyColumnData collapseId=view.collapseId groupId=view.groupId tagName=view.columnDataGroup.panel.bodyColumnData.list.tagName columnDataKey="panel"}}</div>{{#if view.columnDataGroup.panel.footerColumnData}}<div class="panel-footer">{{view view.columnDataGroup.panel.footerLookup record=view.record columnData=view.columnDataGroup.panel.footerColumnData collapseId=view.collapseId groupId=view.groupId tagName=view.columnDataGroup.panel.footerColumnData.list.tagName columnDataKey="panel"}}</div>{{/if}}</div>')}),Panels.NameToLookupMap={base:"panels/panel",collapsible:"panels/panelCollapsible"},Panels.PanelColumnDataGroup=Ember.Object.extend(GlobalModules.GlobalModuleColumnDataGroupMixin,{type:"panel",modules:["heading","body","footer"],lookupMap:Panels.NameToLookupMap}),Panels.PanelColumnData=Ember.Object.extend({moduleType:""}),Panels.PanelHeadingColumnData=Panels.PanelColumnData.extend({tagName:"h3",classNames:["panel-title"]}),Panels.PanelBodyColumnData=Panels.PanelColumnData.extend({}),Panels.PanelFooterColumnData=Panels.PanelColumnData.extend({}),Panels.PanelColumnDataMap={heading:Panels.PanelHeadingColumnData,body:Panels.PanelBodyColumnData,footer:Panels.PanelFooterColumnData},Tooltip=Ember.Namespace.create(),Tooltip.TooltipComponent=Ember.Component.extend({attributeBindings:["animation:data-animation","placement:data-placement","title","delay:data-delay","type"],animation:"true",placement:"top",title:"",delay:0,type:"button",layout:Ember.Handlebars.compile("{{yield}}"),data:null,tagName:"span",didInsertElement:function(){$(this.get("element")).tooltip()}}),Ember.Handlebars.helper("tool-tip",Tooltip.TooltipComponent),ProgressBars=Ember.Namespace.create(),ProgressBars.StyleMap={success:{"class":"progress-bar-success"},info:{"class":"progress-bar-info"},warning:{"class":"progress-bar-warning"},error:{"class":"progress-bar-danger"}},ProgressBars.ProgressBar=Ember.Component.extend({classNames:["progress"],maxVal:"100",minVal:"0",val:"0",style:"",styleClass:function(){var a=ProgressBars.StyleMap[this.get("style")];return a&&a["class"]}.property("style"),striped:!1,animated:!1,progressStyle:function(){var a=this.get("maxVal"),b=this.get("minVal"),c=this.get("val"),d=100*(Number(c)-Number(b))/(Number(a)-Number(b));return"width: "+d+"%;"}.property("val","maxVal","minVal"),layout:Ember.Handlebars.compile('<div role="progressbar" {{bind-attr aria-valuenow=val aria-valuemin=minVal aria-valuemax=maxVal style=progressStyle class=":progress-bar styleClass striped:progress-bar-striped animated:active"}}><div class="progressbar-tag">{{yield}}</div></div>')}),Ember.Handlebars.helper("progress-bar",ProgressBars.ProgressBar),EmberFile=Ember.Namespace.create(),EmberFile.FileInput=Ember.Component.extend({data:"",disabled:!1,label:"Load File",template:Ember.Handlebars.compile('<button class="btn btn-default" {{action "loadFile" target="view"}}>{{label}}</button><input class="input-hidden" type="file" name="files[]">'),change:function(a){var b=a.originalEvent.target.files,c=this;b&&b.length>0&&!Ember.isEmpty(b[0])&&(this.set("disabled","disabled"),EmberFile.ReadFileAsText(b[0]).then(function(a){c.set("data",a),c.set("disabled",!1)},function(a){console.log(a),c.set("disabled",!1)}),$(this.get("element")).children("input")[0].value="")},actions:{loadFile:function(){fileInput=$(this.get("element")).children("input")[0],fileInput.click()}}}),Ember.Handlebars.helper("file-input",EmberFile.FileInput),EmberFile.ReadFileAsText=function(a){return new Ember.RSVP.Promise(function(b){var c=new FileReader;c.onload=function(a){b(a.target.result)},c.readAsText(a)})},Modal=Ember.Namespace.create(),Modal.ModalContainer=Ember.ContainerView.extend({tagName:""}),Modal.ModalWindowView=Ember.View.extend({classNames:["modal"],classNameBindings:["animate:fade"],animate:!0,attributeBindings:["titleid:aria-labelledby","role","zIndex:data-zindex","backdrop:data-backdrop"],titleid:"title-id",role:"dialog",loaded:!0,zIndex:1e3,backdrop:"true",width:"600px",widthStyle:function(){return"width:"+this.get("width")+";"}.property("view.width","width"),title:"Title",okLabel:"OK",showOk:!0,cancelLabel:"Cancel",showCancel:!0,messageLabel:"",message:"",layout:Ember.Handlebars.compile('<div class="modal-dialog" {{bind-attr style="view.widthStyle"}}><div class="modal-content" tabindex=-1><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" {{bind-attr id="view.titleid"}}>{{view.title}}</h4><h5 class="custom-font">{{view.windowMessage}}</h5></div><div class="modal-body">{{alert-message message=view.message title=view.messageLabel}}{{yield}}</div><div class="modal-footer">{{#if view.showOk}}<button type="button" class="btn btn-primary ok-btn" {{bind-attr disabled=view.disableAlias}} {{action okClicked target="view"}}>{{view.okLabel}}</button>{{/if}}{{#if view.showCancel}}<button type="button" class="btn btn-default cancel-btn" data-dismiss="modal" {{action cancelClicked target="view"}}>{{view.cancelLabel}}</button>{{/if}}</div></div></div>'),onOk:null,onCancel:null,actionContext:null,fromButton:!1,disableAlias:Ember.computed.alias("data.disableSave"),showModalMesssage:function(a,b){this.set("messageLabel",a),this.set("message",b)},didInsertElement:function(){var a=this.get("onCancel"),b=this.get("actionContext")||this,c=this,d=$(this.get("element"));d.on("show.bs.modal",function(){Ember.run.begin()}),d.on("shown.bs.modal",function(){Ember.run.end(),Ember.run(function(){c.postShowHook()})}),d.on("hide.bs.modal",function(d){Ember.run(function(){!c.get("fromButton")&&a&&a.call(b),c.set("fromButton",!1)}),$(d.currentTarget).hasClass("in")&&Ember.run.begin()}),d.on("hidden.bs.modal",function(){Ember.run.end()})},actions:{okClicked:function(){var a=this.get("onOk");this.set("fromButton",!0),a&&a.call(this.get("actionContext")||this)},cancelClicked:function(){this.get("onCancel")}},onCancel:function(){$(".tooltip").hide()},postShowHook:function(){}}),Modal.AddEditWindowView=Modal.ModalWindowView.extend({columnDataGroup:[],record:null,saveCallback:null,postCancelCallback:null,closeOnSuccess:!0,disableAlias:Ember.computed.or("record.disableSave","saving"),saving:!1,postShowHook:function(){this.set("saving",!1)},didInsertElement:function(){this._super(),$(this.get("element")).on("shown.bs.modal",function(){$(".modal-body:visible [autofocus]")[0]&&$(".modal-body:visible [autofocus]")[0].focus()})},template:Ember.Handlebars.compile('{{#unless view.loaded}}Loading...{{/unless}}{{view Form.FormView record=view.record columnDataGroup=view.columnDataGroup classNameBindings="view.loaded::hidden"}}'),onOk:function(){var a=this.get("record"),b=this;this.set("saving",!0),CrudAdapter.saveRecord(a).then(function(){b.get("closeOnSuccess")&&($(b.get("element")).modal("hide"),b.set("showAlert",!1),b.set("loaded",!1),b.set("saving",!1)),b.get("saveCallback")&&b.get("saveCallback")(a,"Saved successfully!",a.__proto__.constructor.title||"Data")},function(c){b.showModalMesssage(a.__proto__.constructor.title,c.statusText||c),CrudAdapter.retrieveFailure(a),CrudAdapter.backupDataMap={},b.set("fromButton",!1),b.set("saving",!1)})},onCancel:function(){this._super();var a=this.get("record"),b=this.get("postCancelCallback");this.set("showAlert",!1),this.set("loaded",!1),a&&!a.get("isSaving")&&(a.get("isNew")?a.deleteRecord():(a._validation={},a.set("validationFailed",!1),CrudAdapter.rollbackRecord(a)),b&&b(a),this.set("record",null))}}),Popovers=Ember.Namespace.create(),Popovers.PopoverComponent=Ember.Component.extend({attributeBindings:["animation:data-animation","placement:data-placement","trigger:data-trigger","title:data-original-title","body:data-content","delay:data-delay","role"],animation:"true",placement:"top",trigger:"click",title:"",body:"",delay:0,role:"button",layout:Ember.Handlebars.compile("{{yield}}"),data:null,didInsertElement:function(){$(this.get("element")).popover()}}),Ember.Handlebars.helper("pop-over",Popovers.PopoverComponent);