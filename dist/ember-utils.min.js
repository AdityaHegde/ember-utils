Utils=Ember.Namespace.create(),Utils.deepSearchArray=function(a,b,c,d){if(void 0===b||null===b)return!1;if(a[c]===b)return!0;if(a[d])for(var e=0;e<a[d].length;e++)if(Utils.deepSearchArray(a[d][e],b,c,d))return!0;return!1},Utils.cmp=function(a,b){return a-b},Utils.binarySearch=function(a,b,c,d,e){var f=Math.floor((d+c)/2),g=a.objectAt(f);return c>d?c:e(b,g)>=0?Utils.binarySearch(a,b,f+1,d,e):Utils.binarySearch(a,b,c,f-1,e)},Utils.binaryInsert=function(a,b,c){c=c||Utils.cmp;var d=a.get("length");if(d>0){var e=Utils.binarySearch(a,b,0,d-1,c);a.insertAt(e,b)}else a.pushObject(b)},Utils.merge=function(a,b){for(var c in b)b.hasOwnProperty(c)&&Ember.isNone(a[c])&&(a[c]=b[c]);return a},Utils.hashHasKeys=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},Utils.getArrayFromRange=function(a,b,c){var d=[];c=c||1;for(var e=a;b>e;e+=c)d.push(e);return d},Utils.hasMany=function(a,b,c){a=a||Ember.Object;var d=b&&c;return Ember.computed(function(e,f){if("string"==Ember.typeOf(a)&&(a=Ember.get(a)),arguments.length>1){if(f&&f.length){f.beginPropertyChanges();for(var g=0;g<f.length;g++){var h=f[g];d&&(a=b[h[c]]),h instanceof a||(h=a.create(h),h.set("parentObj",this)),f.splice(g,1,h)}f.endPropertyChanges()}return f}})},Utils.belongsTo=function(a){return a=a||Ember.Object,Ember.computed(function(b,c){return"string"==Ember.typeOf(a)&&(a=Ember.get(a)),arguments.length>1?(!c||c instanceof a||(c=a.create(c)),c):void 0})},Utils.HashMapArrayComputed=function(a,b,c){return Ember.computed(function(d,e){return arguments.length>1?Utils.HashMapArray.create({elementClass:a,keyForKey:b,keyForVal:c,hashMap:e,content:[],parentObj:this}):void 0})},Utils.HashMapArrayInnerComputed=function(a){return Ember.computed(function(b,c){return arguments.length>1?(this.set(a,c),c):void 0})},Utils.HashMapArray=Ember.ArrayProxy.extend({elementClass:null,keyForKey:null,keyForVal:null,parentObj:null,hashMap:null,hashMapDidChange:function(){var a=this.get("elementClass"),b=this.get("hashMap"),c=this.get("keyForKey"),d=this.get("keyForVal");for(var e in b){var f=a.create({parentObj:this.get("parentObj")});f.set(d,b[e]),f.set(c,e),this.pushObject(f)}}.observes("hashMap").on("init"),arrayElementValueDidChange:function(a){var b=this.get("hashMap"),c=this.get("keyForKey"),d=this.get("keyForVal");b[a.get(c)]=a.get(d)},arrayElementKeyWillChange:function(a){{var b=this.get("hashMap"),c=this.get("keyForKey");this.get("keyForVal")}delete b[a.get(c)]},arrayElementKeyDidChange:function(a,b){this.arrayElementValueDidChange(a,b)},lockArray:!1,contentArrayWillChange:function(a,b,c){if(!this.get("lockArray"))for(var d=a.slice(b,b+c),e=this.get("hashMap"),f=this.get("keyForKey"),g=this.get("keyForVal"),h=0;h<d.length;h++)delete e[d[h].get(f)],Ember.removeObserver(d[h],g,this,this.arrayElementValueDidChange),Ember.removeBeforeObserver(d[h],f,this,this.arrayElementKeyWillChange),Ember.removeObserver(d[h],f,this,this.arrayElementKeyDidChange)},contentArrayDidChange:function(a,b,c,d){if(!this.get("lockArray"))for(var e=a.slice(b,b+d),f=this.get("hashMap"),g=this.get("elementClass"),h=this.get("keyForKey"),i=this.get("keyForVal"),j=0;j<e.length;j++){var k=a.findBy(h,e[j].get&&e[j].get(h)||e[j][h]),l=a.indexOf(k);(b>l||l>b+d)&&(a.removeObject(k),b>l&&b--,e[j].set?e[j].set(i,k.get(i)):e[j][i]=k.get(i)),e[j]instanceof g||(e[j]=g.create(e[j]),this.set("lockArray",!0),a.removeAt(b+j),a.insertAt(b+j,e[j]),this.set("lockArray",!1)),e[j].set("parentObj",this.get("parentObj")),f[e[j].get(h)]=e[j].get(i),Ember.addObserver(e[j],i,this,this.arrayElementValueDidChange),Ember.addBeforeObserver(e[j],h,this,this.arrayElementKeyWillChange),Ember.addObserver(e[j],h,this,this.arrayElementKeyDidChange)}}}),Utils.ObjectWithArrayMixin=Ember.Mixin.create({init:function(){this._super(),this.set("arrayProps",this.get("arrayProps")||[]),this.addArrayObserverToProp("arrayProps");for(var a=this.get("arrayProps"),b=0;b<a.length;b++)this.arrayPropWasAdded(a[b])},addBeforeObserverToProp:function(a){Ember.addBeforeObserver(this,a,this,"propWillChange")},removeBeforeObserverFromProp:function(a){Ember.removeBeforeObserver(this,a,this,"propWillChange")},addObserverToProp:function(a){Ember.addObserver(this,a,this,"propDidChange")},removeObserverFromProp:function(a){Ember.removeObserver(this,a,this,"propDidChange")},propWillChange:function(a,b){this.removeArrayObserverFromProp(b);var c=this.get(b);if(c&&c.objectsAt){var d=Utils.getArrayFromRange(0,c.get("length"));this[b+"WillBeDeleted"](c.objectsAt(d),d,!0)}},propDidChange:function(a,b){this.addArrayObserverToProp(b);var c=this.get(b);c&&this.propArrayNotifyChange(c,b)},propArrayNotifyChange:function(a,b){if(a.objectsAt){var c=Utils.getArrayFromRange(0,a.get("length"));this[b+"WasAdded"](a.objectsAt(c),c,!0)}},addArrayObserverToProp:function(a){var b=this.get(a);b&&b.addArrayObserver&&(b.set("propKey",a),b.addArrayObserver(this,{willChange:this.propArrayWillChange,didChange:this.propArrayDidChange}))},removeArrayObserverFromProp:function(a){var b=this.get(a);b&&b.removeArrayObserver&&b.removeArrayObserver(this)},propArrayWillChange:function(a,b,c){if((a.content||a.length)&&a.get("length")>0){var d=a.get("propKey"),e=Utils.getArrayFromRange(b,b+c);this[d+"WillBeDeleted"](a.objectsAt(e),e)}},propArrayDidChange:function(a,b,c,d){if((a.content||a.length)&&a.get("length")>0){for(var e=a.get("propKey"),f=[],g=[],h=b;b+d>h;h++){var i=a.objectAt(h);this[e+"CanAdd"](i)?f.push(h):g.push(i)}f.length>0&&this[e+"WasAdded"](a.objectsAt(f),f),g.length>0&&a.removeObjects(g)}},propWillBeDeleted:function(){},propCanAdd:function(){return!0},propWasAdded:function(){},arrayProps:null,arrayPropsWillBeDeleted:function(a){this.removeArrayObserverFromProp(a),this.removeBeforeObserverFromProp(a),this.removeObserverFromProp(a)},arrayPropWasAdded:function(a){var b=this.get(a);this[a+"WillBeDeleted"]||(this[a+"WillBeDeleted"]=this.propWillBeDeleted),this[a+"CanAdd"]||(this[a+"CanAdd"]=this.propCanAdd),this[a+"WasAdded"]||(this[a+"WasAdded"]=this.propWasAdded),b?this.propArrayNotifyChange(b,a):this.set(a,[]),this.addArrayObserverToProp(a),this.addBeforeObserverToProp(a),this.addObserverToProp(a)}});var delayAddId=0;Utils.DelayedAddToHasMany=Ember.Mixin.create(Utils.ObjectWithArrayMixin,{init:function(){this._super(),this.set("arrayPropDelayedObjs",{})},arrayPropDelayedObjs:null,addDelayObserverToProp:function(a,b){b=b||"propWasUpdated",Ember.addObserver(this,a,this,b)},removeDelayObserverFromProp:function(a){method=method||"propWasUpdated",Ember.removeObserver(this,a,this,method)},propArrayNotifyChange:function(a,b){if(a.then)a.set("canAddObjects",!1),a.then(function(){a.set("canAddObjects",!0)});else for(var c=0;c<a.get("length");c++)this[b+"WasAdded"](a.objectAt(c),c,!0)},addToProp:function(a,b){var c=this.get("arrayPropDelayedObjs"),d=this.get(a);d.get("canAddObjects")?d.contains(b)||d.pushObject(b):(c[a]=c[a]||[],c[a].contains(b)||c[a].push(b))},hasArrayProp:function(a,b,c){var d=this.get("arrayPropDelayedObjs"),e=this.get(a);return e.get("canAddObjects")?!!e.findBy(b,c):d&&d[a]?!!d[a].findBy(b,c):!1},addToContent:function(a){var b=this.get("arrayPropDelayedObjs"),c=this.get(a);c.get("canAddObjects")&&b[a]&&(b[a].forEach(function(a){c.contains(a)||c.pushObject(a)},c),delete b[a])},arrayProps:null,arrayPropsWillBeDeleted:function(a){this._super(a),this.removeDelayObserverFromProp(a+".canAddObjects")},arrayPropWasAdded:function(a){this._super(a);var b=(this.get(a),this);this["addTo_"+a]||(this["addTo_"+a]=function(c){b.addToProp(a,c)}),this.addDelayObserverToProp(a+".canAddObjects",function(){b.addToContent(a)})}}),Utils.ExtractIdRegex=/:(ember\d+):?/,Utils.getEmberId=function(a){var b=a.toString(),c=b.match(Utils.ExtractIdRegex);return c&&c[1]},AsyncQue=Ember.Namespace.create(),AsyncQue.queMap={},AsyncQue.TIMEOUT=500,AsyncQue.TIMERTIMEOUT=250,AsyncQue.AsyncQue=Ember.Object.extend({init:function(){this._super();var a=this;Ember.run.later(function(){a.timerTimedout()},a.get("timeout")||AsyncQue.TIMEOUT)},timerTimedout:function(){if(!this.get("resolved")){var a=this;Ember.run(function(){delete AsyncQue.queMap[a.get("key")],a.set("resolved",!0),a.get("resolve")()})}},timer:null,key:"",resolve:null,reject:null,resolved:!1,timeout:AsyncQue.TIMEOUT}),AsyncQue.addToQue=function(a,b){AsyncQue.queMap[a]&&(AsyncQue.queMap[a].set("resolved",!0),AsyncQue.queMap[a].get("reject")());var c;return Ember.run(function(){c=new Ember.RSVP.Promise(function(c,d){var e=AsyncQue.AsyncQue.create({key:a,resolve:c,reject:d,timeout:b});AsyncQue.queMap[a]=e})}),c},AsyncQue.curTimer=null,AsyncQue.timers=[],AsyncQue.Timer=Ember.Object.extend({init:function(){this._super(),AsyncQue.timers.push(this),this.set("ticks",Math.ceil(this.get("timeout")/AsyncQue.TIMERTIMEOUT)),AsyncQue.curTimer||(AsyncQue.curTimer=setInterval(AsyncQue.timerFunction,AsyncQue.TIMERTIMEOUT))},timeout:AsyncQue.TIMERTIMEOUT,ticks:1,count:0,timerCallback:function(){},endCallback:function(){}}),AsyncQue.timerFunction=function(){if(0===AsyncQue.timers.length)clearTimeout(AsyncQue.curTimer),AsyncQue.curTimer=null;else for(var a=0;a<AsyncQue.timers.length;){var b=AsyncQue.timers[a];b.decrementProperty("ticks"),0===b.get("ticks")&&(b.set("ticks",Math.ceil(b.get("timeout")/AsyncQue.TIMERTIMEOUT)),b.timerCallback(),b.decrementProperty("count")),b.get("count")<=0?(AsyncQue.timers.removeAt(a),b.endCallback()):a++}},LazyDisplay=Ember.Namespace.create(),LazyDisplay.LazyDisplayConfig=Ember.Object.extend({rowHeight:50,rowBuffer:50,rowLoadDelay:150,passKeys:[],passValuePaths:[],lazyDisplayMainClass:null}),LazyDisplay.LazyDisplay=Ember.ContainerView.extend({init:function(){this._super();var a=this.get("lazyDisplayConfig")||LazyDisplay.LazyDisplayConfig.create();this.pushObject(LazyDisplay.LazyDisplayHeightWrapperView.create({rows:this.get("rows"),lazyDisplayConfig:a}))},rows:null,rowsDidChange:function(){this.objectAt(0).set("rows",this.get("rows"))}.observes("view.rows","rows"),lazyDisplayConfig:null,lazyDisplayConfigDidChange:function(){this.objectAt(0).set("lazyDisplayConfig",lazyDisplayConfig)}.observes("view.lazyDisplayConfig","lazyDisplayConfig"),didInsertElement:function(){var a=$(this.get("element")),b=this.objectAt(0);a.scroll(this,this.scroll),a.resize(this,this.resize),b&&Ember.run(function(){b.scroll(a.scrollTop()),b.resize(a.height())})},scroll:function(a){var b=a.data,c=b.objectAt(0),d=$(b.get("element"));c&&Ember.run(function(){c.scroll(d.scrollTop())})},resize:function(a){var b=a.data,c=b.objectAt(0),d=$(b.get("element"));c&&Ember.run(function(){c.resize(d.height())})}}),LazyDisplay.LazyDisplayHeightWrapperView=Ember.ContainerView.extend({init:function(){this._super(),this.pushObject(LazyDisplay.LazyDisplayScrollView.create({rows:this.get("rows"),lazyDisplayConfig:this.get("lazyDisplayConfig"),lazyDisplayHeightWrapper:this}))},rows:null,rowsValueDidChange:function(){this.objectAt(0).set("rows",this.get("rows"))}.observes("view.rows","rows"),lazyDisplayConfig:null,lazyDisplayConfigDidChange:function(){this.objectAt(0).set("lazyDisplayConfig",lazyDisplayConfig)}.observes("view.lazyDisplayConfig","lazyDisplayConfig"),attributeBindings:["style"],style:function(){return"height:"+this.get("lazyDisplayConfig.rowHeight")*this.get("rows.length")+"px;"}.property("view.rows.@each"),rowsDidChange:function(){this.notifyPropertyChange("style")},scroll:function(a){{var b=this.objectAt(0);$(this.get("element"))}b&&b.scroll(a)},resize:function(a){{var b=this.objectAt(0);$(this.get("element"))}b&&b.resize(a)}}),LazyDisplay.LazyDisplayScrollView=Ember.ContainerView.extend({init:function(){this._super();for(var a,b=this.get("lazyDisplayConfig"),c=b.get("passValuePaths"),d=b.get("passKeys"),e={rows:this.get("rows"),lazyDisplayConfig:b,lazyDisplayHeightWrapper:this.get("lazyDisplayHeightWrapper")},f=0;f<c.length;f++)TestApp.addObserver(c[f],this,"passValueDidChange"),e[d[f]]=Ember.get(c[f]);a=Ember.get(b.get("lazyDisplayMainClass")).create(e),this.pushObject(a)},classNames:["table","table-striped","main-table"],tagName:"table",lazyDisplayConfig:null,lazyDisplayHeightWrapper:null,rows:null,rowsValueDidChange:function(){this.objectAt(0).set("rows",this.get("rows"))}.observes("view.rows","rows"),passValueDidChange:function(a,b){var c=this.get("lazyDisplayConfig"),d=c.get("passValuePaths"),e=c.get("passKeys"),f=d.findBy(b);this.objectAt(0).set(e[f],Ember.get(b))},scroll:function(a){{var b=this.objectAt(0);$(this.get("element"))}b&&b.scroll(a)},resize:function(a){{var b=this.objectAt(0);$(this.get("element"))}b&&b.resize(a)}}),LazyDisplay.LazyDisplayMainMixin=Ember.Mixin.create(Utils.ObjectWithArrayMixin,{rows:null,lazyDisplayHeightWrapper:null,arrayProps:["rows"],rowsWillBeDeleted:function(a){if("destroying"!==this._state){var b=this.filter(function(b){return a.findBy("id",b.get("row.id"))}),c=this;b.length&&this.rerenderRows(a),AsyncQue.addToQue("lazyload",100).then(function(){c.get("lazyDisplayHeightWrapper").rowsDidChange()})}},rowsWasAdded:function(a,b){if("destroying"!==this._state){for(var c=this,d=0;d<a.length;d++){var e=a[d],f=this.findBy("row.id",e.get("id")),c=this,g=this.canShowRow(b[d]);if(f&&!Ember.isEmpty(e.get("id"))&&this.removeObject(f),0===g)f=this.getRowView(e);else{if(-1!==g)break;f=this.getDummyView(e)}this.insertAt(b[d],f)}AsyncQue.addToQue("lazyload",100).then(function(){c.get("lazyDisplayHeightWrapper").rowsDidChange()})}},rerenderRows:function(a){if("destroying"!==this._state){a=a||[];for(var b=this.get("rows"),c=b.get("length"),d=0,e=(this.get("userType"),this.get("columnData"),0);c>e;e++){var f=this.objectAt(d),g=this.canShowRow(d),h=b.objectAt(e);if(a.contains(h))f&&this.removeObject(f);else{if(0!==g||f&&0!==f.rowType)-1!==g||f||this.insertAt(d,this.getDummyView(h));else{var i=this.getRowView(h);f?(this.removeAt(d),this.insertAt(d,i)):this.pushObject(i)}d++}}}},scrollTop:0,scrollTopDidChange:function(){var a=this;AsyncQue.addToQue("lazyload",this.get("lazyDisplayConfig.rowLoadDelay")).then(function(){a.rerenderRows()})}.observes("scrollTop","view.scrollTop"),scroll:function(a){this.set("scrollTop",a)},height:0,heightDidChange:function(){var a=this;AsyncQue.addToQue("lazyload",this.get("lazyDisplayConfig.rowLoadDelay")).then(function(){a.rerenderRows()})}.observes("height","view.height"),resize:function(a){this.set("height",a)},canShowRow:function(a){var b=this.get("rows"),c=(b.get("length"),this.get("scrollTop")),d=this.get("height"),e=this.get("lazyDisplayConfig"),f=e.get("rowHeight"),g=e.get("rowBuffer"),h=Math.round(c/f-g),i=d/f+2*g;return h>a?-1:a>=h&&h+i>a?0:a>=h+i?1:0}}),LazyDisplay.LazyDisplayDummyRow=Ember.Mixin.create({rowType:0}),LazyDisplay.LazyDisplayRow=Ember.Mixin.create({rowType:1}),Alerts=Ember.Namespace.create(),Alerts.AlertTypeMap={info:{alertClass:"alert-info",glyphiconClass:"glyphicon-info-sign"},success:{alertClass:"alert-success",glyphiconClass:"glyphicon-ok-sign"},warning:{alertClass:"alert-warning",glyphiconClass:"glyphicon-warning-sign"},error:{alertClass:"alert-danger",glyphiconClass:"glyphicon-exclamation-sign"}},Alerts.AlertMessage=Ember.Component.extend({type:"error",typeData:function(){var a=this.get("type");return Alerts.AlertTypeMap[a]||Alerts.AlertTypeMap.error}.property("type"),title:"",classNameBindings:["view.showAlert:hidden"],message:function(a,b){return arguments.length>1?(Ember.isEmply(b)?this.set("showAlert",!1):this.set("showAlert",!0),b):void 0},showAlert:!1,click:function(a){$(a.target).filter("button.close").length>0&&this.set("message","")},template:Ember.Handlebars.compile('<div {{bind-attr class=":alert typeData.alertClass :alert-dismissable"}}><button class="close" {{action "dismissed"}}>&times;</button><strong><span {{bind-attr class=":glyphicon typeData.glyphiconClass :btn-sm"}}></span> <span class="alert-title">{{title}}</span></strong> <span class="alert-message">{{message}}</span></div>')}),Ember.Handlebars.helper("alert-message",Alerts.AlertMessage),Panels=Ember.Namespace.create(),Panels.Panel=Ember.Component.extend({classNames:["panel","panel-default"],title:"",body:null,footer:null,obj:null,layout:Ember.Handlebars.compile('<div class="panel-heading"><h3 class="panel-title">{{title}}</h3></div><div class="panel-body">{{#if body}}{{body}}{{else}}{{yield}}{{/if}}</div>{{#if footer}}{{footer}}{{/if}}')}),Ember.Handlebars.helper("panel-comp",Panels.Panel),Form=Ember.Namespace.create(),Form.MultiColumnMixin=Ember.Mixin.create(Utils.ObjectWithArrayMixin,{parentForRows:function(){return this}.property(),getColEffectiveIndex:function(a,b){for(var c=b.indexOf(a),d=0,e=0;c>=e;e++)this.findBy("col.name",b[e].get("name"))&&d++;return d},addNewCol:function(a,b,c,d){var e,f=Form.TypeToCellMap[a.type].create({col:a,record:c,labelWidthClass:this.get("labelWidthClass"),inputWidthClass:this.get("inputWidthClass"),tagName:this.get("childTagNames"),showLabel:this.get("showLabel"),parentForm:this.get("parentForRows"),immediateParent:this});d?(e=this.indexOf(d),d.unregisterForValChangeChild(),this.removeAt(e),this.insertAt(e,f),d.destroy()):(e=this.getColEffectiveIndex(a,b),this.insertAt(e,f)),f.registerForValChangeChild&&f.registerForValChangeChild()},canAddCol:function(a,b){return!(a.get("isOnlyTable")||a.get("removeOnEdit")&&b&&!b.get("isNew")||a.get("removeOnNew")&&b&&b.get("isNew"))},colsWasAdded:function(a){var b=this.get("cols"),c=this.get("record");Ember.run.begin();for(var d=0;d<a.length;d++){var e=a[d],f=this.findBy("col.name",e.get("name"));this.canAddCol(e,c)&&this.addNewCol(e,b,c,f)}Ember.run.end()},colsWillBeDeleted:function(a){this.get("cols"),this.get("record");Ember.run.begin();for(var b=0;b<a.length;b++){var c=a[b],d=this.findBy("col.name",c.get("name"));d&&(d.unregisterForValChangeChild(),this.removeObject(d),d.destroy())}Ember.run.end()},recordTypeChanged:function(){var a=this.get("cols"),b=this.get("record"),c=a.filterBy("removeOnEdit",!0),d=a.filterBy("removeOnNew",!0);b&&(Ember.run.begin(),c.pushObjects(d).forEach(function(a){var b=this.that.canAddCol(a,this.record),c=this.that.findBy("col.name",a.get("name"));b&&!c?this.that.addNewCol(a,this.cols,this.record):!b&&c&&(c.unregisterForValChangeChild(),this.that.removeObject(c),c.destroy())},{that:this,cols:a,record:b}),Ember.run.end())}.observes("view.record.isNew","record.isNew"),record:function(a,b){return arguments.length>1&&this.forEach(function(a){a.set("record",this.value)},{value:b}),b}.property()}),Form.MultiInputViewParentMixin=Ember.Mixin.create({init:function(){this._super(),this.set("listenToMap",this.get("listenToMap")||{}),this.set("duplicateCheckMap",this.get("duplicateCheckMap")||{})},listenToMap:null,bubbleValChange:function(a,b,c,d){var e=this.get("listenToMap"),f=this.get("col"),g=this.get("parentForm");if(f){var h=f.get("checkDuplicates");h&&h.contains(a.name)&&console.log(h)}e[a.name]&&e[a.name].forEach(function(e){for(var f=e.get("views"),h=0;h<f.length;h++){var i=f[h];i!==this.callingView&&i.colValueChanged(a,b,c),i.get("col.bubbleValues")&&g&&g.bubbleValChange&&g.bubbleValChange(a,b,c,d)}},{val:b,col:a,callingView:d}),!Ember.isNone(c)&&this.get("record")&&this.get("record").set("tmplPropChangeHook",a.name)},registerForValChange:function(a,b){var c,d=this.get("listenToMap"),e=a.get("col"),f=e.get("name"),g=this.get("parentForm");e.get("bubbleValues")&&g&&g.registerForValChange&&g.registerForValChange(a,b),d||(d={},this.set("listenToMap",d)),d[b]=d[b]||[],c=d[b].findBy("name",f),c?c.get("views").pushObject(a):d[b].pushObject(Ember.Object.create({views:[a],name:f}))},unregisterForValChange:function(a,b){var c=this.get("listenToMap"),d=a.get("col"),e=d.get("name"),f=c&&c[b],g=f&&c[b].findBy("name",e),h=this.get("parentForm");if(d.get("bubbleValues")&&h&&h.unregisterForValChange&&h.unregisterForValChange(a,b),g){var i=g.get("views");if(i.removeObject(a),0===i.length)f.removeObject(g);else for(var j=0;j<i.length;j++)i[j].colValueChanged(Ember.Object.create({name:b,key:b}),null,null)}}}),Form.FormView=Ember.ContainerView.extend(Form.MultiColumnMixin,Form.MultiInputViewParentMixin,{childTagNames:"div",classNames:["form-horizontal"],labelWidthClass:"col-sm-4",inputWidthClass:"col-sm-8",showLabel:!0,cols:null,arrayProps:["cols"]}),Form.TextInputView=Ember.View.extend({init:function(){this._super(),this.recordDidChange()},parentForm:null,immediateParent:null,valLength:function(){return this.get("val")?this.get("col.maxlength")-this.get("val").length:this.get("col.maxlength")}.property("view.val","val"),layout:Ember.Handlebars.compile('{{#if view.showLabelComp}}<div {{bind-attr class="view.labelClass"}} ><label {{bind-attr for="view.col.name" }}>{{#if view.col.label}}{{view.col.label}}{{#if view.col.mandatory}}*{{/if}}{{/if}}</label>{{#if view.col.helpText}}<div class="label-tooltip">{{#tool-tip placement="right" titleup=view.col.helpText}}<span class="glyphicon glyphicon-question-sign"></span>{{/tool-tip}}</div>{{/if}} </div>{{/if}}<div {{bind-attr class="view.inputClass"}}> {{#if view.col.fieldDescription}}<span>{{view.col.fieldDescription}}</span>{{/if}}<div class="validateField">{{yield}}{{#unless view.showLabelComp}}{{#if view.col.helpText}}<div class="label-tooltip">{{#tool-tip placement="right" titleup=view.col.helpText}}<span class="glyphicon glyphicon-question-sign"></span>{{/tool-tip}}</div>{{/if}}{{/unless}}{{#if view.col.maxlength}}<span class="maxlength"><span>{{ view.valLength}}</span></span>{{/if}}{{#if view.invalid}}{{#if view.invalidReason}}<span class="help-block text-danger">{{view.invalidReason}}</span>{{/if}}{{/if}}</div></div>'),template:Ember.Handlebars.compile('{{input class="form-control" autofocus=view.col.autofocus type="text" value=view.val disabled=view.isDisabled placeholder=view.col.placeholderActual maxlength=view.col.maxlength}}'),classNames:["form-group"],classNameBindings:["col.additionalClass","col.validations:has-validations","invalid:has-error",":has-feedback","disabled:hidden","additionalClass"],attributeBindings:["colName:data-column-name"],colName:Ember.computed.alias("col.name"),col:null,cols:null,record:null,labelWidthClass:"col-full",inputWidthClass:"col-sm-8",showLabel:!0,labelClass:function(){var a=this.get("col"),b=this.get("labelWidthClass");return"control-label "+(a.labelWidthClass||b)}.property("view.col","view.labelWidthClass"),inputClass:function(){var a=this.get("col"),b=this.get("inputWidthClass");return"control-input "+(a.inputWidthClass||b)}.property("view.col","view.inputWidthClass"),isDisabled:function(){var a=this.get("col"),b=this.get("record");return a.get("fixedValue")||a.get("disableOnEdit")&&b&&!b.get("isNew")||a.get("disableOnNew")&&b&&b.get("isNew")}.property("view.col","view.col.fixedValue","view.col.disableOnEdit","view.col.disableOnNew"),showLabelComp:function(){var a=this.get("col");return void 0===a.showLabel?this.get("showLabel"):this.get("showLabel")&&a.showLabel}.property("showLabel","view.col"),invalid:!1,invalidReason:!1,disabled:!1,disableCheck:function(a,b){var c=this.get("col"),d=this.get("record"),e=c.get("disableForCols")&&c.get("disableForCols").findBy("name",a.get("name"));if(b=b||d.get(a.get("key")),e){var f=e.value===b,g=e.disable,h=e.enable;this.set("disabled",g&&f||h&&!f)}},colValueChanged:function(a,b){if(this.disableCheck(a,b),a.get("name")===this.get("col.name")){var c=this;AsyncQue.addToQue("duplicateCheck-"+Utils.getEmberId(this),100).then(function(){c.get("isDestroyed")||c.validateValue(c.get("val"))})}},validateValue:function(a){var b=this.get("col"),c=this.get("record");if(b.get("validate"))if(this.get("disabled"))delete c._validation[b.name];else{var d=b.validateValue(a,c);d[0]?c._validation[b.name]=1:delete c._validation[b.name],this.set("invalid",d[0]),this.set("invalidReason",!Ember.isEmpty(d[1])&&d[1])}c.set("validationFailed",Utils.hashHasKeys(c._validation))},val:function(a,b){var c=this.get("col"),d=this.get("record"),e=this.get("parentForm");if(!d)return b;if(d._validation=d._validation||{},arguments.length>1){if(!(d instanceof DS.Model)||d.currentState&&!d.currentState.stateName.match("deleted")){var f=d.get(c.get("key"));this.validateValue(b),d.get("isSaving")?this.set("delayedUpdate",b):(b||!c.get("cantBeNull"))&&(d.set(c.get("key"),b),this.valueDidChange(b),e&&e.bubbleValChange&&e.bubbleValChange(c,b,f,this))}return b}return b=d.get(c.get("key")),this.validateValue(b),e&&e.bubbleValChange&&e.bubbleValChange(c,b,null,this),b}.property("col","col.disabled","view.disabled","disabled"),valueDidChange:function(){},delayedUpdate:null,flushChanges:function(){var a=this.get("col"),b=this.get("record"),c=this.get("delayedUpdate");if(c&&!b.get("isSaving")){var d=b.get(a.get("key"));b.set(a.name,c),this.get("parentForm")&&this.get("parentForm").bubbleValChange&&this.get("parentForm").bubbleValChange(a,value,d,this),this.set("delayedUpdate",null),this.valueDidChange(value)}}.observes("view.record.isSaving","record.isSaving"),prevRecord:null,recordDidChange:function(){var a=this.get("record"),b=this.get("prevRecord"),c=this.get("col");b&&Ember.removeObserver(b,c.name,this,"notifyValChange"),a?(this.recordChangeHook(),Ember.addObserver(a,c.name,this,"notifyValChange"),this.set("prevRecord",a),this.notifyPropertyChange("val"),c.get("disableForCols")&&c.get("disableForCols").forEach(function(a){this.disableCheck(a)},this)):this.recordRemovedHook()}.observes("view.record","record"),recordChangeHook:function(){this.notifyPropertyChange("isDisabled")},recordRemovedHook:function(){},title:"test",notifyValChange:function(){this.notifyPropertyChange("val"),this.valueDidChange(this.get("val"))},registerForValChangeChild:function(){var a=this.get("col"),b=this.get("parentForm");a.get("listenForCols")&&a.get("listenForCols").forEach(function(a){b&&b.registerForValChange&&b.registerForValChange(this,a)},this)},unregisterForValChangeChild:function(){var a=this.get("col"),b=this.get("parentForm");a.get("listenForCols")&&a.get("listenForCols").forEach(function(a){b&&b.unregisterForValChange&&b.unregisterForValChange(this,a)},this)},destroy:function(){this._super(),this.unregisterForValChangeChild()}}),Form.TextAreaView=Form.TextInputView.extend({template:Ember.Handlebars.compile('{{textarea class="form-control" autofocus="view.col.autofocus" value=view.val disabled=view.isDisabled rows=view.col.rows cols=view.col.cols placeholder=view.col.placeholderActual maxlength=view.col.maxlength readonly=view.col.readonly}}')}),Form.MultipleValue=Ember.Object.extend({val:function(a,b){var c=this.get("col");if(arguments.length>1){if(!Ember.isNone(c)){var d=c.validateValue(b,null,c.get("eachValidations"));d[0]?this.set("isInvalid",!0):this.set("isInvalid",!1)}return b}}.property("col"),label:"",isInvalid:!1}),Form.CopyValuesToObject=function(a,b,c,d){var e=b.get("copyAttrs"),f=b.get("staticAttrs"),g=b.get("valAttrs");if(e)for(var h in e)e.hasOwnProperty(h)&&(a[e[h]]=c.get(h));if(f)for(var h in f)f.hasOwnProperty(h)&&(a[h]=f[h]);if(d&&g)for(var h in g)g.hasOwnProperty(h)&&(a[g[h]]=d.get(h))},Form.CopyValuesToRecord=function(a,b,c,d){var e=b.get("copyAttrs"),f=b.get("staticAttrs"),g=b.get("valAttrs");if(e)for(var h in e)e.hasOwnProperty(h)&&a.set(e[h],c.get(h));if(f)for(var h in f)f.hasOwnProperty(h)&&a.set(h,f[h]);if(d&&g)for(var h in g)g.hasOwnProperty(h)&&a.set(g[h],d.get(h))},Form.MultipleValueMixin=Ember.Mixin.create({init:function(){this._super();var a=this.get("values");this.set("values",Ember.isEmpty(a)?[]:a),this.get("val")?this.valArrayDidChange():this.valuesArrayDidChange()},values:Utils.hasMany(Form.MultipleValue),valuesCount:function(){return this.get("values.length")||0}.property("values.@each"),valuesArrayDidChange:function(){if(this.get("values")&&!this.get("lock")){var a=this.get("val"),b=this.get("values"),c=a&&a.get("length"),d=b.get("length"),e=this.get("col"),f=this.get("record");if(a){if(this.set("lock",!0),b.forEach(function(a,b){var c=this.val.objectAt(b);if(c)c.set(this.col.get("arrayCol"),a.get("val")),Form.CopyValuesToRecord(c,this.col,this.record,a);else{var d={};d[this.col.get("arrayCol")]=a.get("val"),Form.CopyValuesToObject(d,this.col,this.record,a),this.record.addToProp(this.col.get("key"),CrudAdapter.createRecordWrapper(this.record.store,this.col.get("arrayType"),d))}},{val:a,col:e,record:f}),c>d)for(var g=d;c>g;g++)a.popObject();this.set("lock",!1)}}}.observes("values.@each.val","view.values.@each.val"),valArrayDidChange:function(){if(!this.get("lock")){{var a=this.get("val");this.get("col")}if(a){var b,a=this.get("val");b=this.valuesMultiCreateHook(a),this.set("lock",!0),this.set("values",b),this.set("lock",!1)}}}.observes("val.@each","view.val.@each"),valuesMultiCreateHook:function(a){return a.map?a.map(function(a){return this.valuesElementCreateHook(a)},this):[]},valuesElementCreateHook:function(a){var b=this.get("col");return{val:a.get(b.get("arrayCol")),col:b}},lock:!1,valuesWereInvalid:function(){if(this.get("col.arrayCol")){var a=this.get("values"),b=!a||0===a.get("length")||a.anyBy("isInvalid",!0),c=this.get("record"),d=this.get("col");c&&(this.get("disabled")?delete c._validation[d.get("name")]:(this.set("invalid",b),c._validation=c._validation||{},b?c._validation[d.get("name")]=1:delete c._validation[d.get("name")]),this.validateValue())}}.observes("values.@each.isInvalid","view.values.@each.isInvalid","disabled","view.disabled")}),Form.StaticSelectView=Form.TextInputView.extend({template:Ember.Handlebars.compile('{{view "select" class="form-control" content=view.col.options optionValuePath="content.val" optionLabelPath="content.label" prompt=view.col.prompt value=view.val disabled=view.isDisabled maxlength=view.col.maxlength}}{{#if view.helpblock}}<p class="help-block">{{view.helpblock}}</p>{{/if}}'),helpblock:""}),Form.DynamicSelectView=Form.StaticSelectView.extend(Form.MultipleValueMixin,Utils.ObjectWithArrayMixin,{init:function(){this._super();var a=this.get("col");Ember.addObserver(this,a.get("dataPath")+".@each",this,"dataDidChange")},classNameBindings:["hideOnEmpty:hidden"],hideOnEmpty:!1,selectOptions:function(){var a=this.get("col"),b=[],c=[];return b=a.dataPath?Ember.get(a.dataPath)||this.get(a.dataPath):a.data||[],b&&b.forEach(function(b){c.push(Ember.Object.create({val:b.get(a.dataValCol),label:b.get(a.dataLabelCol)}))},this),a.get("hideOnEmpty")&&c.length-a.get("hideEmptyBuffer")===0?this.set("hideOnEmpty",!0):this.set("hideOnEmpty",!1),c}.property("view.col"),dataDidChange:function(){this.notifyPropertyChange("selectOptions"),this.rerender()},selection:function(a,b){if(arguments.length>1)return"preRender"!==this._state&&(this.get("col.multiple")?Ember.isEmpty(b[0])||this.set("values",b):this.set("val",b&&b.val)),b;var c,d=this.get("selectOptions");if(this.get("col.multiple")){var e=this.get("values"),f=this.get("col");e&&e.get("length")&&(c=d.filter(function(a){return!!this.values.findBy("val",a.get("val"))},{col:f,values:e}))}else c=d.findBy("val",this.get("val"));return c}.property("view.values.@each","values.@each"),recordChangeHook:function(){this._super(),this.notifyPropertyChange("selection")},valueDidChange:function(){this.notifyPropertyChange("selection")},selectionWasAdded:function(a,b,c){this.get("col.multiple")&&!c&&this.set("values",this.get("selection"))},arrayProps:["selection"],template:Ember.Handlebars.compile('{{view "select" class="form-control" content=view.selectOptions optionValuePath="content.val" optionLabelPath="content.label" multiple=view.col.multiple prompt=view.col.prompt selection=view.selection disabled=view.isDisabled maxlength=view.col.maxlength}}')}),Form.SelectiveSelectView=Ember.Select.extend({options:[],filterColumn:"",content:function(){var a=this.get("filterColumn");return this.get("options").filter(function(a){return!Ember.isEmpty(a.get(this.filterColumn))},{filterColumn:a})}.property("view.overallOptions.@each")}),Form.LabelView=Form.TextInputView.extend({layout:Ember.Handlebars.compile("{{yield}}"),template:Ember.Handlebars.compile("<label>{{view.col.label}}</label>"),col:null,record:null}),Form.Legend=Ember.View.extend({classNameBindings:["col.disabled:hidden"],template:Ember.Handlebars.compile("<legend>{{view.col.label}}</legend>"),col:null,record:null}),Form.FileUploadView=Form.TextInputView.extend({template:Ember.Handlebars.compile('<button class="btn btn-default" {{action "loadFile" target="view"}} {{bind-attr disabled="view.disableBtn"}}>{{view.btnLabel}}</button><input class="hidden" type="file" name="files[]" {{bind-attr accept="view.col.accept"}}>'),disableBtn:!1,fileName:"",btnLabel:function(){return this.get("uploadBtnLabel")||this.get("col").get("btnLabel")
}.property("col","col.btnLabel"),postRead:function(a){this.set("val",a)},postFail:function(){this.set("val",null)},change:function(a){var b=a.originalEvent&&a.originalEvent.target.files,c=this,d=this.get("col");b&&b.length>0&&!Ember.isEmpty(b[0])&&(this.set("disableBtn","disabled"),this.set("fileName",b[0].name),EmberFile[d.get("method")](b[0]).then(function(a){c.postRead(a),c.set("disableBtn",!1)},function(a){c.postFail(a),c.set("disableBtn",!1)}),$(this.get("element")).find("input[type='file']")[0].value="")},actions:{loadFile:function(){fileInput=$(this.get("element")).find("input[type='file']"),fileInput.click()}}}),Form.ImageUploadView=Form.FileUploadView.extend({template:Ember.Handlebars.compile('<p><button class="btn btn-default btn-sm" {{action "loadFile" target="view"}} {{bind-attr disabled="view.disableBtn"}}>{{view.col.btnLabel}}</button><input class="hidden" type="file" name="files[]" {{bind-attr accept="view.col.accept"}}></p><canvas class="hidden"></canvas><div {{bind-attr class="view.hasImage::hidden"}}><div class="image-container"><div class="image-container-inner"><img class="the-image" {{bind-attr src="view.imageSrc"}}><div class="image-cropper"></div></div></div><button class="btn btn-default btn-sm" {{action "cropImage" target="view"}}>Crop</button></div><div class="clearfix"></div>'),imageSrc:"",hasImage:!1,postRead:function(a){this.set("imageSrc",a),this.set("hasImage",!0)},postFail:function(){this.set("imageSrc",null),this.set("hasImage",!1)},didInsertElement:function(){this._super();var a=$(this.get("element")).find(".image-cropper");a.draggable({containment:"parent"}),a.resizable({containment:"parent"})},actions:{cropImage:function(){var a=$(this.get("element")).find(".image-cropper"),b=a.css("left"),c=a.css("top"),d=a.height(),e=a.width(),f=$(this.get("element")).find("canvas")[0],g=f.getContext("2d");b=Number(b.match(/^(\d+)px$/)[1]),c=Number(c.match(/^(\d+)px$/)[1]),g.drawImage($(this.get("element")).find(".the-image")[0],b,c,d,e,0,0,d,e),this.set("val",f.toDataURL()),this.set("hasImage",!1),a.css("left",0),a.css("top",0),a.height(100),a.width(100)}}}),Form.CSVEntry=Form.MultipleValue.extend({val:function(a,b){var c=this.get("col");if(arguments.length>1){if(!Ember.isNone(c)){var d=c.validateValue(b,null,c.get("eachValidations"));d[0]?(this.set("isInvalid",!0),this.get("validated")||this.set("showInput",!0)):this.set("isInvalid",!1),this.set("validated",!0)}return b}}.property("col"),showInput:!1,validated:!1,col:null});var csvid=0;Form.CSVDateValue=Ember.View.extend(LazyDisplay.LazyDisplayRow,{template:Ember.Handlebars.compile('<div {{bind-attr class=":form-group view.data.isInvalid:has-error view.data.showInput:has-input view.data.showInput:has-feedback :csv-value"}}>{{#if view.data.showInput}}{{view Ember.TextField class="form-control input-sm" value=view.data.val}}<span {{bind-attr class=":form-control-feedback"}}></span>{{else}}<p class="form-control-static">{{view.data.val}}</p>{{/if}}</div>'),data:null}),Form.CSVDateDummyValue=Ember.View.extend(LazyDisplay.LazyDisplayDummyRow,{classNames:["csv-dummy-value"],template:Ember.Handlebars.compile("")}),Form.CSVDateValues=Ember.ContainerView.extend(LazyDisplay.LazyDisplayMainMixin,{getRowView:function(a){return Form.CSVDateValue.create({data:a})},getDummyView:function(){return Form.CSVDateDummyValue.create()}}),Form.CSVDataInputView=Form.FileUploadView.extend(Form.MultipleValueMixin,{template:Ember.Handlebars.compile('{{view.col.description}}{{#if view.hasFile}}{{view.fileName}} ({{view.valuesCount}} {{view.col.entityPlural}})<button class="btn btn-link" {{action "remove" target="view"}}>Remove</button> | <button class="btn btn-link" {{action "replace" target="view"}}>Replace</button>{{view LazyDisplay.LazyDisplay classNameBindings=":form-sm :csv-values-wrapper" lazyDisplayConfig=view.lazyDisplayConfig rows=view.valuesTransformed}}{{else}}{{textarea class="form-control" autofocus="view.col.autofocus" value=view.csvVal rows=view.col.rows cols=view.col.cols placeholder=view.col.placeholderActual maxlength=view.col.maxlength readonly=view.col.readonly}}<div class="upload-help-text"><button class="btn btn-default" {{action "loadFile" target="view"}} {{bind-attr disabled="view.disableBtn"}}>{{view.col.btnLabel}}</button></div>{{/if}}<input class="hidden" type="file" name="files[]" {{bind-attr accept="view.col.accept"}}>'),lazyDisplayConfig:LazyDisplay.LazyDisplayConfig.create({rowHeight:28,lazyDisplayMainClass:"Form.CSVDateValues"}),hasFile:!1,values:Utils.hasMany(Form.CSVEntry),valuesTransformed:function(){var a=this.get("values"),b=[];return b.pushObjects(a.filterBy("showInput",!0)),b.pushObjects(a.filterBy("showInput",!1)),b}.property("view.values.@each.showInput","values.@each.showInput"),setToValues:function(a){for(var b=this.get("col"),c=a.split(new RegExp(b.get("splitRegex"))),d=0;d<c.length;)Ember.isEmpty(c[d])?c.splice(d,1):c.splice(d,1,{col:b,val:c[d++]});this.set("values",c)},csvVal:function(a,b){var c=this.get("col"),d=this;if(arguments.length>1)return AsyncQue.addToQue("csvvalues-"+c.get("name"),1500).then(function(){d.get("isDestroyed")||d.setToValues(b)}),b;var e=this.get("values");return e&&e.mapBy("val").join(", ")}.property("view.values.@each","values.@each","view.row","row"),recordChangeHook:function(){this._super(),this.set("hasFile",!1),this.set("invalid",this.get("record.isNew"))},postRead:function(a){this.setToValues(a),this.set("hasFile",!0)},postFail:function(){this.set("hasFile",!1)},actions:{remove:function(){this.set("hasFile",!1),this.set("csvVal",""),this.setToValues("")},replace:function(){$(this.get("element")).find("input[type='file']").click()}}});var mulid=0;Form.MultiEntryView=Form.TextInputView.extend(Form.MultiInputViewParentMixin,{childView:function(){var a=this.get("col");return Form.TypeToCellNameMap[a.get("childCol").type]}.property("view.col.childCol.type"),template:Ember.Handlebars.compile('<div {{bind-attr class="view.col.multiEntryContainerClass"}}>{{#with view as outerView}}{{#each outerView.val}}<div {{bind-attr class="outerView.col.eachMultiEntryClass"}}><div {{bind-attr class="outerView.col.multiEntryClass"}}>{{view outerView.childView record=this col=outerView.col.childCol parentForm=outerView showLabel=column.showChildrenLabel immediateParent=outerView}}</div>{{#if outerView.col.canManipulateEntries}}<div class="remove-entry" rel="tooltip" title="Delete Condition"><a {{action "deleteEntry" this target="outerView"}}><span class="glyphicon glyphicon-trash"></span></a></div><div class="add-entry" rel="tooltip" title="Add Condition"> <a {{action "addEntry" target="outerView"}}><span class="glyphicon glyphicon-plus"></span></a></div>{{/if}}</div>{{else}}{{#if outerView.col.canManipulateEntries}}<div class="add-first-entry" rel="tooltip" title="Add Condition"> <a {{action "addEntry" target="outerView"}}><span class="glyphicon glyphicon-plus"></span></a></div>{{/if}}{{/each}}{{/with}}</div><p class="tp-rules-end-msg">{{view.col.postInputText}}</p>'),valuesArrayDidChange:function(){this.get("record")&&this.validateValue(this.get("val"))}.observes("val.@each","view.val.@each"),actions:{addEntry:function(){var a,b=this.get("record"),c=this.get("col"),d=this.get("val"),e={};$(".tooltip").hide(),Form.CopyValuesToObject(e,c,b),a=CrudAdapter.createRecordWrapper(b.store,c.get("arrayType"),e),d||(d=[],this.set("val",d)),d.pushObject(a)},deleteEntry:function(a){$(".tooltip").hide();var b=this.get("val");b.removeObject(a)}}}),Form.MultiInputView=Ember.ContainerView.extend(Form.MultiColumnMixin,Form.MultiInputViewParentMixin,{classNames:["clearfix"],classNameBindings:["col.additionalClass"],parentForRows:function(){return this.get("col.propogateValChange")?this.get("parentForm"):this}.property(),arrayProps:["cols"],cols:Ember.computed.alias("col.childCols"),labelWidthClass:Ember.computed.alias("col.childrenLabelWidthClass"),inputWidthClass:Ember.computed.alias("col.childrenInputWidthClass"),showLabel:Ember.computed.alias("col.showChildrenLabel")}),Form.CheckBoxView=Form.TextInputView.extend({template:Ember.Handlebars.compile('<div class="checkbox"><label>{{view "checkbox" checked=view.val disabled=view.isDisabled}}<label></label> {{view.col.checkboxLabel}}</label></div>')}),Form.TextAreaSelectedView=Form.TextAreaView.extend({init:function(){this._super(),this.get("val")},valChanged:function(a){var b=$(a.target);b.focus().select(),Ember.run.later(function(){b.scrollTop(0)},1)},didInsertElement:function(){var a=$(this.get("element")).find("textarea"),b=this;this._super(),a.change(this.valChanged),Ember.run.later(function(){b.valChanged({target:a})},1e3)}}),Form.GroupRadioButtonView=Form.TextInputView.extend({template:Ember.Handlebars.compile('{{#each view.col.options}}<div {{bind-attr class="radio view.col.displayInline:radio-inline"}}><label>{{view "form/radioInput" name=view.groupName value=this.val selection=view.val}}<span></span>{{{this.label}}}</label></div> {{/each}}'),groupName:function(){return Utils.getEmberId(this)}.property()}),Form.RadioInputView=Ember.View.extend({tagName:"input",type:"radio",attributeBindings:["name","type","value","checked:checked"],click:function(){this.set("selection",this.$().val())},checked:function(){return this.get("value")==this.get("selection")}.property("selection")}),Form.GroupCheckBoxView=Form.TextInputView.extend({template:Ember.Handlebars.compile('{{#each view.newCheckList}}<div {{bind-attr class="checkbox col-md-4 view.col.displayInline:checkbox-inline"}}><label>{{view "checkbox" checked=this.checked disabled=view.isDisabled}}<label></label> {{this.checkboxLabel}}</label></div>{{/each}}'),checkBoxDidChange:function(){var a=this.get("newCheckList");this.set("val",a.filterBy("checked",!0).mapBy("id").join(","))}.observes("newCheckList.@each.checked"),newCheckList:function(){for(var a=Ember.A(),b=this.get("col.checkList"),c=this.get("record").get(this.get("col").name).split(","),d=0;d<b.get("length");d++){var e=JSON.parse(JSON.stringify(b[d],["checkboxLabel","id"]));e.checked=-1==c.indexOf(e.id+"")?!1:!0,a.pushObject(Ember.Object.create(e))}return a}.property("view.col.checkList"),notifyValChange:function(){this._super();var a=this.get("record").get(this.get("col").name).split(","),b=this.get("newCheckList");b&&b.forEach(function(b){-1==a.indexOf(b.get("id")+"")?b.set("checked",!1):b.set("checked",!0)},this)}}),Form.MediumHeadingView=Form.TextInputView.extend({template:Ember.Handlebars.compile("<label>{{view.col.label}}</label>"),layout:Ember.Handlebars.compile("{{yield}}")}),Form.WrapperView=Ember.View.extend({childView:function(){var a=this.get("col");return Form.TypeToCellNameMap[a.get("childCol").type]}.property("view.col.childCol.type"),layout:Ember.Handlebars.compile("{{yield}}"),template:Ember.Handlebars.compile("{{create-view view.childView record=view.record col=view.col.childCol parentForm=view.parentForm immediateParent=view.immediateParent}}")}),Form.TypeToCellMap={textInput:Form.TextInputView,textareaInput:Form.TextAreaView,staticSelect:Form.StaticSelectView,dynamicSelect:Form.DynamicSelectView,selectiveSelect:Form.SelectiveSelectView,label:Form.LabelView,fileUpload:Form.FileUploadView,imageUpload:Form.ImageUploadView,csvData:Form.CSVDataInputView,multiEntry:Form.MultiEntryView,multiInput:Form.MultiInputView,checkBox:Form.CheckBoxView,textareaSelectedInput:Form.TextAreaSelectedView,groupRadioButton:Form.GroupRadioButtonView,groupCheckBox:Form.GroupCheckBoxView,sectionHeading:Form.MediumHeadingView},Form.TypeToCellNameMap={textInput:"form/textInput",textareaInput:"form/textArea",staticSelect:"form/staticSelect",dynamicSelect:"form/dynamicSelect",selectiveSelect:"form/selectiveSelect",label:"form/label",fileUpload:"form/fileUpload",imageUpload:"form/imageUpload",csvData:"form/csvDataInput",multiEntry:"form/multiEntry",multiInput:"form/multiInput",checkBox:"form/checkBox",textareaSelectedInput:"form/textAreaSelected",groupRadioButton:"form/groupRadioButton",groupCheckBox:"form/groupCheckBox",sectionHeading:"form/mediumHeading"},Ember.Select.reopen({_selectionDidChangeSingle:function(){var a=this.get("element");if(a){var b=this.get("content"),c=this.get("selection"),d=b&&b.findBy&&c?b.indexOf(b.findBy("val",c.val)):-1,e=this.get("prompt");e&&(d+=1),a&&(a.selectedIndex=d)}}}),Collapsible=Ember.Namespace.create(),Collapsible.CollapsibleGroup=Ember.Component.extend({groupId:"00",layout:Ember.Handlebars.compile('<div class="panel-group" {{bind-attr id="view.groupId"}}>{{yield}}</div>')}),Collapsible.Collapsible=Ember.Component.extend({classNames:["panel","panel-default"],name:"",desc:null,hasActive:!1,active:!1,badgeLabel:null,badgeCount:0,tooltipTitle:function(){return"Click to open "+this.get("badgeLabel")}.property("view.badgeLabel"),groupId:"00",groupIdHref:function(){return"#"+this.get("groupId")}.property("view.groupId"),collapseId:"0",idHref:function(){return"#"+this.get("collapseId")}.property("view.collapseId"),headerTemplate:null,layout:Ember.Handlebars.compile('<div class="panel-heading"><h4 class="panel-title"><div><h4 class="panel-title group-item-heading"><a class="group-item-name" data-toggle="collapse" {{bind-attr data-parent="view.groupIdHref" href="view.idHref"}}>{{#view Tooltip.Tooltip tagName="span" title=view.tooltipTitle data=view}}{{view.data.name}}{{/view}}</a>{{#if view.hasActive}}{{view Views.ActiveLabel value=view.active}}{{/if}}{{#if view.badgeLabel}}<span class="badge pull-right">{{view.badgeLabel}} : {{view.badgeCount}}</span>{{/if}}</h4></div>{{#if view.desc}}<div class="group-item-desc">{{view.desc}}</div>{{/if}}</h4></div><div {{bind-attr id="view.collapseId"}} class="panel-collapse collapse"><div class="panel-body">{{yield}}</div></div>')}),ListGroup=Ember.Namespace.create(),ListGroup.ListItemView=Ember.View.extend({init:function(){this._super();var a=this.get("toBindProperties");a.forEach(function(a){Ember.oneWay(this,a.toProp,"data."+a.fromProp)},this)},toBindProperties:[],data:null}),ListGroup.ListGroup=Ember.View.extend({classNames:["list-group"],objects:[],listgroupTemplate:"",template:Ember.Handlebars.compile("{{#each view.objects}}{{view ListGroup.ListGroupItem this templateName=view.listgroupTemplate}}{{else}}No {{name}} found{{/each}}")}),ListGroup.ListGroupItem=Ember.View.extend({classNames:["list-group-item"],name:"",desc:"",rightText:"",active:!1,hasActive:!1,layout:Ember.Handlebars.compile('<h4 class="list-group-item-heading group-item-heading"><span class="group-item-name">{{view.name}}</span>{{#if view.hasActive}}{{view Views.ActiveLabel value=view.active}}{{/if}}<div class="pull-right text-right">{{yield}}</div></h4><p class="list-group-item-text">{{view.desc}}</p>'),template:Ember.Handlebars.compile("{{view.rightText}}")}),ListGroup.ListGroupItemView=ListGroup.ListItemView.extend({classNames:["list-group-item"],name:"",desc:"",rightText:"",active:!1,hasActive:!1,layout:Ember.Handlebars.compile('<h4 class="list-group-item-heading group-item-heading"><span class="group-item-name">{{view.name}}</span>{{#if view.hasActive}}{{view Views.ActiveLabel value=view.active}}{{/if}}<div class="pull-right text-right">{{yield}}</div></h4><p class="list-group-item-text">{{view.desc}}</p>'),template:Ember.Handlebars.compile("{{view.rightText}}")}),ListGroup.ListGroupView=Ember.ContainerView.extend({init:function(){this._super(),this.addBeforeObserver("view.array",this,"arrayWillChange",this),this.addObserver("view.array",this,"arrayDidChange",this);var a=this.get("array");a&&a.length>0&&this.createViews(a)},array:null,toBindProperties:[],arrayArrayDidChange1:function(){console.log(1)}.observes("view.array.@each"),arrayWillChange:function(){var a=this.get("array");a&&a.removeArrayObserver(this)},arrayDidChnage:function(){var a=this.get("array");a&&a.addArrayObserver(this,{willChange:this.arrayArrayWillChange,didChange:this.arrayArrayDidChange})},groupItemView:ListGroup.ListGroupItemView,createViews:function(a){var b=this.get("groupItemView");this.groupItemView=b,a.forEach(function(a){var b=this.groupItemView.create({data:a,toBindProperties:this.get("toBindProperties")});a.listGroupItemView=b,this.addObject(b)},this)},removeViews:function(a){a.forEach(function(a){this.removeObject(a.listGroupItemView)},this)},arrayArrayWillChange:function(a,b,c){var d=a.slice(b,b+c);(d||d.length>0)&&this.removeViews(d)},arrayArrayDidChange:function(a,b,c,d){var e=a.splice(b,b+d);(e||e.length>0)&&this.createViews(e)}}),Tooltip=Ember.Namespace.create(),Tooltip.TooltipComponent=Ember.Component.extend({attributeBindings:["animation:data-animation","placement:data-placement","title","delay:data-delay","type"],animation:"true",placement:"top",title:"",delay:0,type:"button",layout:Ember.Handlebars.compile("{{yield}}"),data:null,didInsertElement:function(){$(this.get("element")).tooltip()}}),Ember.Handlebars.helper("tool-tip",Tooltip.TooltipComponent),Carousel=Ember.Namespace.create(),Carousel.Carousel=Ember.View.extend({classNames:["carousel","slide"],attributeBindings:["dataRide:data-ride","dataInterval:data-interval"],dataRide:"carousel",dataInterval:"false",carouselId:"00",carouselIdStr:function(){return"#"+this.get("carouselId")}.property("carouselId"),objects:[],layout:Ember.Handlebars.compile('<div class="carousel-inner">{{#each view.objects}}{{#if _view.contentIndex}}<div class="item">{{yield}}</div>{{else}}<div class="item active">{{yield}}</div>{{/if}}{{/each}}</div><a class="left carousel-control" {{bind-attr href="view.carouselIdStr"}} data-slide="prev"><span class="carousel-navigate carousel-navigate-prev">&laquo;</span></a><a class="right carousel-control" {{bind-attr href="view.carouselIdStr"}} data-slide="next"><span class="carousel-navigate carousel-navigate-next">&raquo;</span></a>')}),Sortable=Ember.Namespace.create(),Sortable.VIEW_ID="",Sortable.MOVE_THRESHOLD=2,Sortable.DisplayElement=Ember.View.extend({Name:null,template:Ember.Handlebars.compile("{{view.Name}}"),tagName:""}),Sortable.Dragable=Ember.ContainerView.extend({init:function(){this._super();var a=this.get("Name"),b=this.get("data");b.Children||this.pushObject(Sortable.DisplayElement.create({Name:a})),this.set("lastXY",[0,0])},attributeBindings:"draggable",classNames:["sortable-dragable"],classNameBindings:["effH"],draggable:"true",data:null,Name:Ember.computed.oneWay("data.Name"),sortable:null,tagName:"li",groupId:0,hasElements:!1,curGrpId:function(){return this.get("groupId")}.property("groupId","data.sameLevel"),stateData:null,hierarchy:"",effH:function(){return this.get("hierarchy")+"_"+this.get("groupId")}.property("view.groupId","view.hierarchy"),calcAppendPosition:function(a){var b=this.get("lastXY"),c=a[0]-b[0],d=Math.abs(c),e=a[1]-b[1],f=Math.abs(e),g=c,h=d;f>d&&(g=e,h=f),h>Sortable.MOVE_THRESHOLD?(0>g?this.set("appendNext",!1):this.set("appendNext",!0),this.set("lastXY",a),this.set("change",!0)):this.set("change",!1)},dragOver:function(a){var b=a.originalEvent.dataTransfer,c=this.get("sortable"),d=c.get("elementId"),e=c.get("Children"),f=this.get("Name"),g=e.indexOf(e.findBy("Name",f)),h=b.getData("ViewId")||Sortable.VIEW_ID,i=Ember.View.views[h],j=i.get("Name"),k=i.get("sortable"),l=k.get("elementId"),m=k.get("Children"),n=m.indexOf(m.findBy("Name",j)),o=m[n];i.calcAppendPosition([a.originalEvent.x,a.originalEvent.y]),c.get("effH")===k.get("effH")&&(i.get("change")&&(d===l?f!==j&&g!==n&&(1==c._childViews.length&&c._childViews[0]instanceof Sortable.Placeholder&&c.removeAt(0),e.splice(n,1),c.removeAt(n),i.get("appendNext")&&g++,g>e.length?g=e.length:-1===g&&(g=0),e.splice(g,0,o),c.insertAt(g,i)):-1!==e.indexOf(j)||Utils.deepSearchArray(o,f,"Name","Children")||(1==c._childViews.length&&c._childViews[0]instanceof Sortable.Placeholder&&c.removeAt(0),m.splice(n,1),k.removeAt(n),i.get("appendNext")&&g++,g>e.length?g=e.length:-1===g&&(g=0),e.splice(g,0,o),i.set("sortable",c),c.insertAt(g,i),0==k._childViews.length&&k.pushObject(Sortable.Placeholder.create({sortable:k,hierarchy:i.get("hierarchy"),groupId:i.get("stateData").grpId}))),i.set("change",!1)),a.stopPropagation())},dragStart:function(a){var b=a.originalEvent.dataTransfer,c=this.get("elementId");b.setData("ViewId",c),b.dropEffect="move",Sortable.VIEW_ID=c,a.stopPropagation()},drop:function(a){a.preventDefault()},change:!1,appendNext:!1,lastXY:null,tagName:"li"}),Sortable.Droppable=Ember.ContainerView.extend({classNames:["sortable-droppable"],Children:[],parentData:null,elesIsEmpty:Ember.computed.empty("Children.@each"),groupId:0,hierarchy:"",stateData:null,effH:function(){return this.get("hierarchy")+"_"+this.get("groupId")}.property("view.groupId","view.hierarchy"),dragEnter:function(a){a.preventDefault()},dragOver:function(a){a.preventDefault()},drop:function(a){a.preventDefault()},tagName:"ul"}),Sortable.Placeholder=Ember.ContainerView.extend({init:function(){this._super(),this.pushObject(Ember.View.create({template:Ember.Handlebars.compile("Placeholder")}))},classNames:["sortable-placeholder"],sortable:null,groupId:0,hierarchy:"",effH:function(){return this.get("hierarchy")+"_"+this.get("groupId")}.property("view.groupId","view.hierarchy"),dragEnter:function(a){a.preventDefault()},dragOver:function(a){a.preventDefault();var b=a.originalEvent.dataTransfer,c=this.get("sortable"),d=(c.get("elementId"),c.get("Children")),e=this.get("Name"),f=(d.indexOf(d.findBy("Name",e)),b.getData("ViewId")||Sortable.VIEW_ID),g=Ember.View.views[f],h=g.get("Name"),i=g.get("sortable"),j=(i.get("elementId"),i.get("Children")),k=j.indexOf(j.findBy("Name",h)),l=j[k];g.calcAppendPosition([a.originalEvent.x,a.originalEvent.y]),c.get("effH")===i.get("effH")&&(g.get("change")&&(1==c._childViews.length&&c._childViews[0]instanceof Sortable.Placeholder&&c.removeAt(0),j.splice(k,1),i.removeAt(k),d.push(l),g.set("sortable",c),c.pushObject(g)),a.stopPropagation())},drop:function(a){a.preventDefault()}}),ArrayMod=Ember.Namespace.create(),ArrayMod.ArrayModifier=Ember.Object.extend({type:"basic",groupType:"basic",property:"",modify:function(a){return a},addObserverToAll:!0,addModObservers:function(a,b){Ember.addObserver(this,"property",a,b)},removeModObservers:function(a,b){Ember.removeObserver(this,"property",a,b)}}),ArrayMod.ArrayFilterModifier=ArrayMod.ArrayModifier.extend({type:"filter",groupType:"filter",modify:function(a){return a.filter(function(a){var b=a.get(this.get("property"));this.modFun(a,b)},this)},modFun:function(){return!0}}),ArrayMod.ArraySearchModifier=ArrayMod.ArrayFilterModifier.extend({type:"search",searchString:"",negate:!1,searchRegex:function(){var a=this.get("searchString")||"";return a=a.replace(/([\.\[\]\?\+\*])/g,"\\$1"),new RegExp(a,"i")}.property("searchString"),modFun:function(a,b){var c=this.get("negate"),d=this.get("searchRegex").test(b);return c&&!d||!c&&d},addModObservers:function(a,b){this._super(),Ember.addObserver(this,"searchString",a,b+"_each")},removeModObservers:function(a,b){this._super(),Ember.removeObserver(this,"searchString",a,b+"_each")}}),ArrayMod.ArrayTagObjectModifier=Ember.Object.extend({label:"",val:"",checked:!0,negate:!1}),ArrayMod.ArrayTagSearchModifier=ArrayMod.ArrayFilterModifier.extend({type:"tagSearch",tags:Utils.hasMany("ArrayMod.ArrayTagObjectModifier"),selectedTags:Ember.computed.filterBy("tags","checked",!0),joiner:"or",modFun:function(a,b){for(var c=this.get("selectedTags"),d="and"==this.get("joiner"),e=d,f=0;f<c.length;f++){var g=b==c[f].get("val");e=d&&e&&g||!d&&(e||g)}return e},addModObservers:function(a,b){this._super(),Ember.addObserver(this,"selectedTags.@each",a,b+"_each")},removeModObservers:function(a,b){this._super(),Ember.removeObserver(this,"selectedTags.@each",a,b+"_each")}}),ArrayMod.ArraySortModifier=ArrayMod.ArrayModifier.extend({type:"sort",groupType:"sort",order:!0,addObserverToAll:!1,modify:function(a){return a.sortBy(this.get("property")),this.get("order")||a.reverseObjects(),a},addModObservers:function(a,b){this._super(),Ember.addObserver(this,"order",a,b)},removeModObservers:function(a,b){this._super(),Ember.removeObserver(this,"order",a,b)}}),ArrayMod.ArrayModMap={basic:ArrayMod.ArrayModifier,filter:ArrayMod.ArrayFilterModifier,search:ArrayMod.ArraySearchModifier,tagSearch:ArrayMod.ArrayTagSearchModifier,sort:ArrayMod.ArraySortModifier},ArrayMod.ArrayModGroup=Ember.Object.extend(Utils.ObjectWithArrayMixin,{type:"basic",arrayMods:Utils.hasMany(null,ArrayMod.ArrayModMap,"type"),arrayProps:["arrayMods"],idx:0,canAdd:function(){return!0},modify:function(a){for(var b=this.get("arrayMods"),c=0;c<b.length;c++)a=b[c].modify(a);return a}}),ArrayMod.ArrayFilterGroup=ArrayMod.ArrayModGroup.extend({type:"filter",canAdd:function(a){for(var b=this.get("arrayMods"),c=0;c<b.length;c++){var d=a.get(b[c].get("property"));if(!b[c].modFun(a,d))return!1}return!0},modify:function(a){var b=this;return a.filter(function(a){return b.canAdd(a)},this)},modifySingle:function(a,b,c){return this.canAdd(b)?(a.contains(b)||(-1===c?a.pushObject(b):a.insertAt(c,b)),!0):(a.contains(b)&&a.removeObject(b),!1)}}),ArrayMod.Compare=function(a,b){return a===b?0:a>b?1:-1},ArrayMod.ArraySortGroup=ArrayMod.ArrayModGroup.extend({type:"sort",compare:function(a,b){for(var c=this.get("arrayMods"),d=0;d<c.length;d++){var e=a.get(c[d].get("property")),f=b.get(c[d].get("property")),g=ArrayMod.Compare(e,f),h=c[d].get("order");if(h||(g=-g),g)return g}return 0},modify:function(a){var b=this;return a.sort(function(a,c){return b.compare(a,c)},this)},modifySingle:function(a,b){var c=this;return a.contains(b)&&a.removeObject(b),Utils.binaryInsert(a,b,function(a,b){return c.compare(a,b)}),!0}}),ArrayMod.ArrayModGroupMap={basic:ArrayMod.ArrayModGroup,filter:ArrayMod.ArrayFilterGroup,sort:ArrayMod.ArraySortGroup},ArrayMod.ArrayModController=Ember.ArrayController.extend(Utils.ObjectWithArrayMixin,{init:function(){this._super()},unique_id:"arrayMod",arrayMods:null,arrayModGrps:null,arrayProps:["arrayMods","arrayModGrps"],isModified:function(){var a=this.get("arrayModGrps");return!!a&&a.length>0}.property("arrayModGrps.@each"),addArrayModToGroup:function(a){var b=this.get("arrayModGrps"),c=b.findBy("type",a.get("groupType")),d=this.get("arrayMods");c?Utils.binaryInsert(c.get("arrayMods"),a,function(a,b){return ArrayMod.Compare(d.indexOf(a),d.indexOf(b))}):(c=ArrayMod.ArrayModGroupMap[a.get("groupType")].create({arrayMods:[a],idx:d.indexOf(a)}),Utils.binaryInsert(b,c,function(a,b){return ArrayMod.Compare(d.indexOf(a),d.indexOf(b))}))},removeArrayModFromGroup:function(a){var b=this.get("arrayModGrps"),c=b.findBy("type",a.get("groupType")),d=c.get("arrayMods");c&&(d.removeObject(a),0===d.length&&b.removeObject(c))},arrayModsWillBeDeleted:function(a){for(var b=this.get("content")||[],c=this.get("arrangedContent"),d=this,e=0;e<a.length;e++){var f=a[e];f.removeModObservers(this,"arrayModsDidChange"),b.forEach(function(a){(this.arrayMod.get("addObserverToAll")||this.arrangedContent.contains(a))&&Ember.addObserver(a,this.arrayMod.get("property"),this.that,"contentItemPropertyDidChange")},{that:this,arrayMod:f,arrangedContent:c}),this.removeArrayModFromGroup(f)}AsyncQue.addToQue(this.get("unique_id")+"__ArrayModChanged",250).then(function(){d.notifyPropertyChange("arrangedContent")})},arrayModsWasAdded:function(a){for(var b=this.get("content")||[],c=this.get("arrangedContent"),d=this,e=0;e<a.length;e++){var f=a[e];f.addModObservers(this,"arrayModsDidChange"),b.forEach(function(a){(this.arrayMod.get("addObserverToAll")||this.arrangedContent.contains(a))&&Ember.removeObserver(a,this.arrayMod.get("property"),this.that,"contentItemPropertyDidChange")},{that:this,arrayMod:f,arrangedContent:c}),this.addArrayModToGroup(f)}AsyncQue.addToQue(this.get("unique_id")+"__ArrayModChanged",250).then(function(){d.notifyPropertyChange("arrangedContent")})},addObserversToItems:function(a,b){var c=a||this.get("content")||[],d=b||this.get("arrangedContent"),e=this.get("arrayMods");c.forEach(function(a){for(var b=0;b<this.arrayMods.length;b++)(this.arrayMods[b].get("addObserverToAll")||this.arrangedContent.contains(a))&&Ember.addObserver(a,this.arrayMods[b].get("property"),this.that,"contentItemPropertyDidChange")},{that:this,arrayMods:e,arrangedContent:d})},removeObserversFromItems:function(a,b){var c=a||this.get("content")||[],d=b||this.get("arrangedContent"),e=this.get("arrayMods");c.forEach(function(a){for(var b=0;b<this.arrayMods.length;b++)(this.arrayMods[b].get("addObserverToAll")||this.arrangedContent.contains(a))&&Ember.removeObserver(a,this.arrayMods[b].get("property"),this.that,"contentItemPropertyDidChange")},{that:this,arrayMods:e,arrangedContent:d})},arrayModsDidChange:function(){var a=this;AsyncQue.addToQue(this.get("unique_id")+"__ArrayModChanged",250).then(function(){a.notifyPropertyChange("arrangedContent")})},arrayModsDidChange_each:function(){var a=this;AsyncQue.addToQue(this.get("unique_id")+"__ArrayModChanged_Each",500).then(function(){var b=a.get("content"),c=a.get("arrangedContent"),d=a.get("arrayModGrps");Ember.run(function(){for(var a=0;a<b.get("length");a++){for(var e=b.objectAt(a),f=c.contains(e),g=!0,h=0;h<d.length;h++)if(!d[h].canAdd(e)){g=!1;break}if(f&&!g)c.removeObject(e);else if(!f&&g)for(var h=0;h<d.length&&d[h].modifySingle(c,e,c.indexOf(e));h++);}})})},destroy:function(){return this.removeObserversFromItems(),this._super()},arrangedContent:Ember.computed("content",function(){{var a,b=this.get("content"),c=this.get("arrayModGrps"),d=!!c&&c.length>0;b&&(b.length>0||b.get&&b.get("length")>0)}if(b){if(a=b.slice(),d){for(var e=0;e<c.length;e++)a.length>0&&(a=c[e].modify(a));this.addObserversToItems(b,a)}return Ember.A(a)}return Ember.A([])}),_contentWillChange:Ember.beforeObserver("content",function(){this.removeObserversFromItems(),this._super()}),contentArrayWillChange:function(a,b,c){var d=this.get("isModified");if(d){{var e=this.get("arrangedContent"),f=a.slice(b,b+c);this.get("arrayModGrps")}this.removeObserversFromItems(f),f.forEach(function(a){this.removeObject(a)},e)}},contentArrayDidChange:function(a,b,c,d){var e=this.get("isModified");if(e){var f=this.get("arrangedContent"),g=a.slice(b,b+d),h=this.get("arrayModGrps");this.addObserversToItems(g);for(var i=0;i<g.length;i++)for(var j=0;j<h.length&&h[j].modifySingle(f,g[i],f.indexOf(g[i]));j++);}},contentItemPropertyDidChange:function(a){for(var b=this.get("arrayModGrps"),c=this.get("arrangedContent"),d=0;d<b.length&&b[d].modifySingle(c,a,c.indexOf(a));d++);}}),ColumnData=Ember.Namespace.create(),ColumnData.ColumnValidation=Ember.Object.extend({type:0,regex:"",regexFlags:"",regexObject:function(){return new RegExp(this.get("regex"),this.get("regexFlags"))}.property("regex"),invalidMessage:"",negate:!1,minValue:0,maxValue:999999,validateValue:function(a,b){var c,d,e=this.get("type"),f=!1,g=this.get("negate"),h=new RegExp("^\\s*$"),a=a||"";switch(a.trim&&(a=a.trim()),c=Ember.isEmpty(a),d=this.get("canBeEmpty")&&g||!this.get("canBeEmpty")&&!g,e){case 0:f=Ember.isEmpty(a),f=f||h.test(a);break;case 1:f=c&&d||this.get("regexObject").test(a);break;case 2:if(c&&this.get("canBeEmpty")){f=!0;break}a.split(this.get("delimeter")).some(function(a){return a=a.trim(),f=this.get("regexObject").test(a),g?!f:f},this);break;case 3:arrVals={},f=!1,a.split(this.get("delimeter")).some(function(a){return a=a.trim(),arrVals[a]?(f=!0,!0):void(arrVals[a]=!0)},this);break;case 4:var i=b.get(this.get("duplicateCheckPath")),j=i&&i.filterBy(this.get("duplicateCheckKey"),a);f=j&&j.get("length")>1||1===j.get("length")&&j[0]!==b;break;case 5:if(c)f=d;else{var k=Number(a);(k<this.get("minValue")||k>this.get("maxValue"))&&(f=!0)}break;default:f=!0}return f=g&&!f||!g&&f,[f,this.get("invalidMessage")]}}),ColumnData.DisableForCol=Ember.Object.extend({name:"",value:"",keyName:"",key:function(){return this.get("keyName")||this.get("name")}.property("keyName","name"),enable:!1,disable:!1}),ColumnData.ColumnData=Ember.Object.extend({init:function(){this._super(),this.canBeEmpty()},name:"",keyName:"",key:function(){return this.get("keyName")||this.get("name")}.property("keyName","name"),label:null,placeholder:null,placeholderActual:function(){var a=this.get("placeholder"),b=this.get("label");
return a?a:b}.property("label","placeholder"),type:"",fixedValue:null,options:[],data:[],dataValCol:"",dataLabelCol:"",bubbleValues:!1,cantBeNull:!1,canManipulateEntries:!0,validations:Utils.hasMany(ColumnData.ColumnValidation),eachValidations:Utils.hasMany(ColumnData.ColumnValidation),checkList:Utils.hasMany(),validate:Ember.computed.notEmpty("validations"),validateValue:function(a,b,c){var d=[!1,""];c=c||this.get("validations");for(var e=0;e<c.length&&(d=c[e].validateValue(a,b),!d[0]);e++);return d},canBeEmpty:function(){this.get("validations")&&!this.get("validations").mapBy("type").contains(0)&&this.get("validations").forEach(function(a){a.set("canBeEmpty",!0)})}.observes("validations.@each"),mandatory:Ember.computed("validations.@each.type",function(){var a=this.get("validations"),b=!1;return a&&a.forEach(function(a){b=b||0==a.get("type")}),b}),multiEntryContainerClass:"multi-entry-container",eachMultiEntryClass:"each-multi-entry",multiEntryClass:"multi-entry",showChildrenLabel:!1,childrenLabelWidthClass:"",childrenInputWidthClass:"col-md-12",childCol:Utils.belongsTo("ColumnData.ColumnData"),childColName:function(a,b){return arguments.length>1?(b&&ColumnData.ColumnDataMap[b]&&this.set("childCol",ColumnData.ColumnDataMap[b]),b):void 0}.property(),childCols:Utils.hasMany("ColumnData.ColumnData"),childColsName:function(a,b){return arguments.length>1?(b&&ColumnData.ColumnDataMap[b]&&this.set("childCols",ColumnData.ColumnDataMap[b]),b):void 0}.property(),exts:Utils.hasMany(),disableForCols:Utils.hasMany(ColumnData.DisableForCol)}),ProgressBars=Ember.Namespace.create(),ProgressBars.ProgressBar=Ember.Component.extend({classNames:["progress"],maxVal:"100",minVal:"0",val:"0",progressStyle:function(){var a=this.get("maxVal"),b=this.get("minVal"),c=this.get("val"),d=100*(Number(c)-Number(b))/(Number(a)-Number(b));return"width: "+d+"%;"}.property("val","maxVal","minVal"),layout:Ember.Handlebars.compile('<div role="progressbar" {{bind-attr aria-valuenow=val aria-valuemin=minVal aria-valuemax=maxVal style=progressStyle class=":progress-bar complete:progress-bar-success"}}><div class="progressbar-tag">{{val}} / {{maxVal}}</div></div>')}),Ember.Handlebars.helper("progress-bar",ProgressBars.ProgressBar),EmberFile=Ember.Namespace.create(),EmberFile.FileInput=Ember.Component.extend({data:"",disabled:!1,label:"Load File",template:Ember.Handlebars.compile('<button class="btn btn-default" {{action "loadFile" target="view"}}>{{label}}</button><input class="input-hidden" type="file" name="files[]">'),change:function(a){var b=a.originalEvent.target.files,c=this;b&&b.length>0&&!Ember.isEmpty(b[0])&&(this.set("disabled","disabled"),EmberFile.ReadFileAsText(b[0]).then(function(a){c.set("data",a),c.set("disabled",!1)},function(a){console.log(a),c.set("disabled",!1)}),$(this.get("element")).children("input")[0].value="")},actions:{loadFile:function(){fileInput=$(this.get("element")).children("input")[0],fileInput.click()}}}),Ember.Handlebars.helper("file-input",EmberFile.FileInput),EmberFile.ReadFileAsText=function(a){return new Ember.RSVP.Promise(function(b){var c=new FileReader;c.onload=function(a){b(a.target.result)},c.readAsText(a)})},Modal=Ember.Namespace.create(),Modal.ModalContainer=Ember.ContainerView.extend({tagName:""}),Modal.ModalWindowView=Ember.View.extend({classNames:["modal"],classNameBindings:["animate:fade"],animate:!0,attributeBindings:["titleid:aria-labelledby","role","zIndex:data-zindex","backdrop:data-backdrop"],titleid:"title-id",role:"dialog",loaded:!0,zIndex:1e3,backdrop:"true",width:"600px",widthStyle:function(){return"width:"+this.get("width")+";"}.property("view.width","width"),title:"Title",okLabel:"OK",showOk:!0,cancelLabel:"Cancel",showCancel:!0,messageLabel:"",message:"",layout:Ember.Handlebars.compile('<div class="modal-dialog" {{bind-attr style="view.widthStyle"}}><div class="modal-content" tabindex=-1><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" {{bind-attr id="view.titleid"}}>{{view.title}}</h4><h5 class="custom-font">{{view.windowMessage}}</h5></div><div class="modal-body">{{alert-message message=view.message title=view.messageLabel type="error"}}{{yield}}</div><div class="modal-footer">{{#if view.showOk}}<button type="button" class="btn btn-primary ok-btn" {{bind-attr disabled=view.disableAlias}} {{action okClicked target="view"}}>{{view.okLabel}}</button>{{/if}}{{#if view.showCancel}}<button type="button" class="btn btn-default cancel-btn" data-dismiss="modal" {{action cancelClicked target="view"}}>{{view.cancelLabel}}</button>{{/if}}</div></div></div>'),onOk:null,onCancel:null,actionContext:null,fromButton:!1,disableAlias:Ember.computed.alias("data.disableSave"),showModalMesssage:function(a,b){this.set("messageLabel",a),this.set("message",b)},didInsertElement:function(){var a=this.get("onCancel"),b=this.get("actionContext")||this,c=this,d=$(this.get("element"));d.on("show.bs.modal",function(){Ember.run.begin()}),d.on("shown.bs.modal",function(){Ember.run.end(),Ember.run(function(){c.postShowHook()})}),d.on("hide.bs.modal",function(d){Ember.run(function(){!c.get("fromButton")&&a&&a.call(b),c.set("fromButton",!1)}),$(d.currentTarget).hasClass("in")&&Ember.run.begin()}),d.on("hidden.bs.modal",function(){Ember.run.end()})},actions:{okClicked:function(){var a=this.get("onOk");this.set("fromButton",!0),a&&a.call(this.get("actionContext")||this)},cancelClicked:function(){this.get("onCancel")}},onCancel:function(){$(".tooltip").hide()},postShowHook:function(){}}),Modal.AddEditWindowView=Modal.ModalWindowView.extend({columns:[],data:null,saveCallback:null,postCancelCallback:null,closeOnSuccess:!0,disableAlias:Ember.computed.or("data.disableSave","saving"),saving:!1,postShowHook:function(){this.set("saving",!1)},didInsertElement:function(){this._super(),$(this.get("element")).on("shown.bs.modal",function(){$(".modal-body:visible [autofocus]")[0]&&$(".modal-body:visible [autofocus]")[0].focus()})},template:Ember.Handlebars.compile('{{#unless view.loaded}}Loading...{{/unless}}{{view Form.FormView record=view.data cols=view.columns classNameBindings="view.loaded::hidden"}}'),onOk:function(){var a=this.get("data"),b=this;this.set("saving",!0),CrudAdapter.saveRecord(a).then(function(){b.get("closeOnSuccess")&&($(b.get("element")).modal("hide"),b.set("showAlert",!1),b.set("loaded",!1),b.set("saving",!1)),b.get("saveCallback")&&b.get("saveCallback")(a,"Saved successfully!",a.__proto__.constructor.title||"Data")},function(c){b.showModalMesssage(a.__proto__.constructor.title,c.statusText||c),CrudAdapter.retrieveFailure(a),CrudAdapter.backupDataMap={},b.set("fromButton",!1),b.set("saving",!1)})},onCancel:function(){this._super();var a=this.get("data"),b=this.get("postCancelCallback");this.set("showAlert",!1),this.set("loaded",!1),a&&!a.get("isSaving")&&(a.get("isNew")?a.deleteRecord():(a._validation={},a.set("validationFailed",!1),CrudAdapter.rollbackRecord(a)),b&&b(a),this.set("data",null))}}),CrudAdapter=Ember.Namespace.create(),CrudAdapter.loadAdaptor=function(a){a.ApplicationAdapter=CrudAdapter.ApplicationAdapter,a.ApplicationSerializer=CrudAdapter.ApplicationSerializer},CrudAdapter.GlobalData=Ember.Object.create(),CrudAdapter.endPoint={find:"get"},CrudAdapter.allowedModelAttrs=[{attr:"keys",defaultValue:"emptyArray"},{attr:"apiName",defaultValue:"value",value:"data/generic"},{attr:"queryParams",defaultValue:"emptyArray"},{attr:"findParams",defaultValue:"emptyArray"},{attr:"extraAttrs",defaultValue:"emptyArray"},{attr:"ignoreFieldsOnCreateUpdate",defaultValue:"emptyArray"},{attr:"ignoreFieldsOnRetrieveBackup",defaultValue:"emptyArray"},{attr:"removeAttrsFromBackupOnFind",defaultValue:"emptyArray"},{attr:"retainId",defaultValue:"value",value:!1},{attr:"useIdForBackup",defaultValue:"value",value:!1},{attr:"paginatedAttribute",defaultValue:"value",value:"id"},{attr:"normalizeFunction",defaultValue:"value",value:function(){}},{attr:"preSerializeRelations",defaultValue:"value",value:function(){}},{attr:"serializeFunction",defaultValue:"value",value:function(){}},{attr:"backupData",defaultValue:"value",value:function(){}},{attr:"retrieveBackup",defaultValue:"value",value:function(){}}],CrudAdapter.ModelMap={},CrudAdapter.ApplicationAdapter=DS.RESTAdapter.extend({getQueryParams:function(a,b,c,d){var e={};if(a.retainId||delete b.id,d){for(var f=0;f<a.ignoreFieldsOnCreateUpdate.length;f++)delete b[a.ignoreFieldsOnCreateUpdate[f]];for(var f=0;f<a.extraAttrs.length;f++)e[a.extraAttrs[f]]=c.get(a.extraAttrs[f])||CrudAdapter.GlobalData.get(a.extraAttrs[f]),"all"==b[a.extraAttrs[f]]&&delete b[a.extraAttrs[f]];return Ember.merge(b,e),b}for(var f=0;f<a.queryParams.length;f++)e[a.queryParams[f]]=c.get(a.queryParams[f])||CrudAdapter.GlobalData.get(a.queryParams[f]),"all"==b[a.queryParams[f]]&&delete b[a.queryParams[f]];return Ember.merge(b,e),b},buildFindQuery:function(a,b,c){for(var d=a.keys||[],e=b.split("__"),f=0;f<d.length;f++)c[d[f]]=e.length>f?e[f]:"";for(var f=0;f<a.findParams.length;f++)c[a.findParams[f]]=CrudAdapter.GlobalData.get(a.findParams[f]);return c},buildURL:function(a){var b="string"==Ember.typeOf(a)?a:a.apiName||a.typeKey,c="/"+b;return c},createRecord:function(a,b,c){var d=this.serialize(c,{includeId:!0});return CrudAdapter.backupData(c,b,"create"),this.ajax(this.buildURL(b)+"/create","POST",{data:this.getQueryParams(b,d,c,!0)})},find:function(a,b,c){return this.ajax(this.buildURL(b,c)+"/"+CrudAdapter.endPoint.find,"GET",{data:this.buildFindQuery(b,c,{})})},findAll:function(a,b){return this.ajax(this.buildURL(b)+"/getAll","GET")},findQuery:function(a,b,c){return this.ajax(this.buildURL(b)+"/getAll","GET",{data:c})},_findNext:function(a,b,c,d,e){{var f=a.adapterFor(b),g=a.serializerFor(b);"DS: Handle Adapter#find of "+b.typeKey}return $.ajax({url:f.buildURL(b)+"/"+e,method:"GET",data:{id:d,cur:Ember.get("CrudAdapter.GlobalData.cursor."+d)},dataType:"json"}).then(function(c){Ember.assert("You made a request for a "+b.typeKey+" with id "+d+", but the adapter's response did not have any data",c);var e=g.extract(a,b,c,d,"findNext");return a.push(b,e)},function(c){var e=a.getById(b,d);throw e.notFound(),c},"DS: Extract payload of '"+b+"'")},findNextFull:function(a,b,c){return b="string"===Ember.typeOf(b)?a.store.modelFor(b):b,CrudAdapter.backupData(a,b),this._findNext(a.store,b,c,CrudAdapter.getId(a,b),"getFullNext")},findNext:function(a,b,c){return b="string"===Ember.typeOf(b)?a.store.modelFor(b):b,CrudAdapter.backupData(a,b),this._findNext(a.store,b,c,CrudAdapter.getId(a,b),"getNext")},updateRecord:function(a,b,c){var d=this.serialize(c,{includeId:!0});return CrudAdapter.backupData(c,b),this.ajax(this.buildURL(b)+"/update","POST",{data:this.getQueryParams(b,d,c,!0)})},deleteRecord:function(a,b,c){var d=(this.serialize(c,{includeId:!0}),{});return this.ajax(this.buildURL(b)+"/delete","GET",{data:this.getQueryParams(b,d,c)})}}),CrudAdapter.ApplicationSerializer=DS.RESTSerializer.extend({serializeRelations:function(a,b,c,d){a.preSerializeRelations(c),a.eachRelationship(function(a,e){var f=Ember.String.pluralize(e.type.typeKey);if(this.payload[f]=this.payload[f]||[],this.data[e.key]){if("hasMany"===e.kind)for(var g=0;g<this.data[e.key].length;g++){var h,i,j=this.data[e.key][g];i=e.options.polymorphic?CrudAdapter.ModelMap[e.type.typeKey][this.data[e.key][g].type]:CrudAdapter.ModelMap[e.type.typeKey]&&CrudAdapter.ModelMap[e.type.typeKey][c.type]||e.type.typeKey,h=this.serializer.store.modelFor(i),this.serializer.serializeRelations(h,b,j,this.data),j=this.serializer.normalize(h,j,i),this.payload[f].push(j),e.options.polymorphic?(this.serializer.store.push(i,j),this.data[e.key][g]={id:j.id,type:i}):(this.serializer.store.push(i,j),this.data[e.key][g]=j.id)}}else"belongsTo"===e.kind&&d&&(e.options.polymorphic||(this.data[e.key]=CrudAdapter.getId(d,e.type)))},{payload:b,data:c,serializer:this})},extractSingle:function(a,b,c,d,e){if(1==c.result.status)throw new Ember.Error(c.result.message);if(!c||!c.result)throw new Ember.Error("No data returned");"array"==Ember.typeOf(c.result.data)&&(c.result.data=c.result.data[0]);var f=Ember.copy(c.result);return delete f.data,a.metaForType(b,f),c[b.typeKey]=c.result.data||{},CrudAdapter.retrieveBackup(c[b.typeKey],b,"createRecord"!==e),this.normalize(b,c[b.typeKey],b.typeKey),this.serializeRelations(b,c,c[b.typeKey]),delete c.result,this._super(a,b,c,d,e)},extractArray:function(a,b,c,d,e){var f=Ember.String.pluralize(b.typeKey);if(1==c.result.status)throw new Ember.Error(c.result.message);if(!c||!c.result)throw new Ember.Error("No data returned");var g=Ember.copy(c.result);delete g.data,a.metaForType(b,g),c[f]=c.result.data||[];for(var h=0;h<c[f].length;h++)this.normalize(b,c[f][h],b.typeKey),CrudAdapter.retrieveBackup(c[f][h],b,"createRecord"!==e),this.serializeRelations(b,c,c[f][h]);return delete c.result,this._super(a,b,c,d,e)},extractFindNext:function(a,b,c){var d=CrudAdapter.getId(c.result.data,b);return c.result.data[b.paginatedAttribute].replace(0,0,CrudAdapter.backupDataMap[b.typeKey][d][b.paginatedAttribute]),delete CrudAdapter.backupDataMap[b.typeKey][d],this.extractSingle(a,b,c)},extractDeleteRecord:function(a,b,c){if(1==c.result.status)throw new Ember.Error(c.result.message);return null},extractCreateRecord:function(a,b,c){return this.extractSingle(a,b,c,null,"createRecord")},extractFindHasMany:function(a,b,c){return this._super(a,b,c)},extract:function(a,b,c,d,e){return this._super(a,b,c,d,e)},normalize:function(a,b){return b.id=CrudAdapter.getId(b,a),this.normalizeAttributes(a,b),this.normalizeRelationships(a,b),this.normalizeUsingDeclaredMapping(a,b),a.normalizeFunction&&a.normalizeFunction(b),b},serialize:function(a,b){var c=this._super(a,b),d=a.__proto__.constructor;return d.serializeFunction&&d.serializeFunction(a,c),c},serializeHasMany:function(a,b,c){var d=c.key,e=DS.RelationshipChange.determineRelationshipType(a.constructor,c);b[d]=a.get(d),"manyToNone"===e||"manyToMany"===e?b[d]=b[d].mapBy("id"):"manyToOne"===e&&(b[d]=b[d].map(function(a){return this.serialize(a,{})},this))},serializeBelongsTo:function(){},typeForRoot:function(a){return/data$/.test(a)?a:Ember.String.singularize(a)}}),CrudAdapter.getId=function(a,b){var c=a.id;if(c)return c;for(var d=b.keys||[],e=[],f=0;f<d.length;f++){var g=a.get&&a.get(d[f])||a[d[f]];if(null===g&&void 0===g)return null;e.push(g)}return e.join("__")},CrudAdapter.backupDataMap={},CrudAdapter.backupData=function(a,b,c){var d=a.toJSON(),e="create"===c?"New":CrudAdapter.getId(a,b);id=CrudAdapter.getId(a,b)||"New",b.useIdForBackup&&(e=id),CrudAdapter.backupDataMap[b.typeKey]=CrudAdapter.backupDataMap[b.typeKey]||{},CrudAdapter.backupDataMap[b.typeKey][e]=d,b.retainId&&(d.id=id);for(var f=0;f<b.keys.length;f++)Ember.isEmpty(d[b.keys[f]])&&delete d[b.keys[f]];if(b.eachRelationship(function(b,d){var e=a.get(d.key);e&&("hasMany"==d.kind?(this.data[d.key]=[],e.forEach(function(a){this.data[d.key].push(CrudAdapter.backupData(a,d.type,c))},this)):"belongsTo"===d.kind&&(e=e.content,this.data[d.key]=e?e.get("id")||e:e))},{data:d,record:a,operation:c}),b.backupData&&b.backupData(a,b,d),"find"===c)for(var f=0;f<b.removeAttrsFromBackupOnFind.length;f++)delete d[b.removeAttrsFromBackupOnFind[f]];return d},CrudAdapter.retrieveBackup=function(a,b,c){var d=c?CrudAdapter.getId(a,b):"New",e=CrudAdapter.getId(a,b)||"New";if(b.useIdForBackup&&(d=e),CrudAdapter.backupDataMap[b.typeKey]&&CrudAdapter.backupDataMap[b.typeKey][d]){var f=CrudAdapter.backupDataMap[b.typeKey][d];delete CrudAdapter.backupDataMap[b.typeKey][d];for(var g=0;g<b.ignoreFieldsOnRetrieveBackup.length;g++)delete f[b.ignoreFieldsOnRetrieveBackup[g]];a=Utils.merge(a,f),b.eachRelationship(function(a,b){if("hasMany"===b.kind){var c=this.data[b.key],d=this.hash[b.key];if(c)for(var e=0;e<c.length;e++){var f=d.findBy(b.type.keys[0],c[e][b.type.keys[0]]);c[e].id=CrudAdapter.getId(c[e],b.type),f?Ember.merge(f,c[e]):d.push(c[e])}}},{data:f,hash:a})}return b.retrieveBackup&&b.retrieveBackup(a,b,f),a},CrudAdapter.retrieveFailure=function(a){{var b=a.__proto__.constructor,c=a.get("isNew")?"New":a.get("id");a.get("id")||"New"}if(CrudAdapter.backupDataMap[b.typeKey]&&CrudAdapter.backupDataMap[b.typeKey][c]){var d=CrudAdapter.backupDataMap[b.typeKey][c],e=a._inFlightAttributes;Utils.hashHasKeys(a._attributes)&&Utils.merge(e,a._attributes),delete CrudAdapter.backupDataMap[b.typeKey][c],a.get("isDeleted")||a.rollback(),a._inFlightAttributes={};for(var f in e)a.set(f,e[f]);b.eachRelationship(function(a,b){if("hasMany"===b.kind){var c=this.record.get(b.key),d=this.data[b.key];if(d)for(var e=0;e<d.length;e++){var f=CrudAdapter.getId(d[e],b.type),g=this.record.store.getById(b.type,f);if(g)CrudAdapter.retrieveFailure(g),this.record.addToProp?this.record.addToProp(b.key,g):c.pushObject(g);else if(CrudAdapter.backupDataMap[b.type.typeKey]&&CrudAdapter.backupDataMap[b.type.typeKey][f]){var h,i=CrudAdapter.backupDataMap[b.type.typeKey][f];b.type.eachRelationship(function(a,b){"belongsTo"===b.kind&&(h=a)}),h&&delete i[h],g||this.record.addToProp(b.key,CrudAdapter.createRecordWrapper(this.record.store,b.type,i)),delete CrudAdapter.backupDataMap[b.type.typeKey][f]}else{var h;b.type.eachRelationship(function(a,b){"belongsTo"===b.kind&&(h=a)}),h&&delete d[e][h],this.record.addToProp(b.key,CrudAdapter.createRecordWrapper(this.record.store,b.type,d[e]))}}}},{record:a,data:d})}a.transitionTo(a.get("isDeleted")?"loaded.updated.uncommitted":a.get("isNew")?"loaded.created.uncommitted":"loaded.updated.uncommitted")},CrudAdapter.isDirty=function(a){return a.get("isDirty")||a.get("isDirty_alias")},CrudAdapter.validationFailed=function(a){return a.get("validationFailed")},CrudAdapter.saveRecord=function(a){var b;return b=new Ember.RSVP.Promise(function(b,c){a.get("isDeleted")||a.eachAttribute(function(a){var b=this.get(a);"string"===Ember.typeOf(b)&&(b=b.replace(/^\s*/,""),b=b.replace(/\s*$/,""),this.set(a,b))},a);a.get("isNew");new Ember.RSVP.Promise(function(b,c){a.save().then(function(a){b(a)},function(a){c(a.message||a.statusText||a)})}).then(function(c){if(b(c),!a.get("isDeleted")){a.eachRelationship(function(b,c){if("hasMany"===c.kind){var d=a.get(c.key);d.then(function(){for(var a={},b=0;b<d.get("length");){var c=d.objectAt(b),e=Utils.getEmberId(c);a[e]?d.removeAt(b):c.get("isNew")?(d.removeAt(b),c.unloadRecord()):(a[e]=1,b++)}})}},a);var d=a.__proto__.constructor;if(d.attrsByServer){for(var e=0;e<d.attrsByServer.length;e++)a.set(d.attrsByServer[e],a._data[d.attrsByServer[e]]);a.adapterDidCommit()}}},function(a){c(a.message||a.statusText||a)})})},CrudAdapter.forceReload=function(a,b,c){if(a.recordIsLoaded(b,c)){var d=a.recordForId(b,c);return CrudAdapter.backupData(d,d.__proto__.constructor,"find"),d.reload()}return a.find(b,c)},CrudAdapter.createRecordWrapper=function(a,b,c){if(c.id&&a.recordIsLoaded(b,c.id)){var d=a.recordForId(b,c.id);d.unloadRecord()}return a.createRecord(b,c)},CrudAdapter.rollbackRecord=function(a){if(a.get("isError")||a.get("isInvalid")||a.get("isSaving")){var b=a._inFlightAttributes,c=a._data;a._inFlightAttributes={};for(var d in b)a.set(d,c[d]);a.transitionTo(a.get("isNew")?"loaded.created.uncommitted":"loaded.updated.uncommitted")}else a.rollback();a.__proto__.constructor.eachRelationship(function(b,c){if("hasMany"===c.kind){var d=a.get(c.key);d.then(function(){d.forEach(function(a){CrudAdapter.rollbackRecord(a)})})}})},ModelWrapper=Ember.Namespace.create(),ModelWrapper.AggregateFromChildrenMixin=Ember.Mixin.create({init:function(){this._super();var a=this.get("arrayProps"),b=this;this.set("isDirty_alias",this.get("isDirty")),Ember.addObserver(this,"isDirty",this,"attributeDidChange");for(var c=0;c<a.length;c++){var d=a[c];this[d+"WillBeDeleted"]=b.childrenWillBeDeleted,this[d+"WasAdded"]=b.childrenWasAdded}},childrenWillBeDeleted:function(a){this._validation=this._validation||{};for(var b=0;b<a.length;b++){var c=Utils.getEmberId(a[b]);delete this._validation[c],Ember.removeObserver(a[b],"validationFailed",this,"validationFailedDidChanged"),Ember.removeObserver(a[b],"isDirty",this,"attributeDidChange")}},childrenWasAdded:function(a){for(var b=0;b<a.length;b++)this.validationFailedDidChanged(a[b],"validationFailed"),this.attributeDidChange(a[b],"isDirty"),Ember.addObserver(a[b],"validationFailed",this,"validationFailedDidChanged"),Ember.addObserver(a[b],"isDirty",this,"attributeDidChange")},validationFailedDidChanged:function(a,b){var c=a.get(b),d=Utils.getEmberId(a);this._validation=this._validation||{},c?this._validation[d]=1:delete this._validation[d],this.set("validationFailed",Utils.hashHasKeys(this._validation))},attributeDidChange:function(a,b){this.set(b+"_alias",this.get(b)||a.get(b))}}),ModelWrapper.ModelWrapper=DS.Model.extend({isDirty_alias:Ember.computed.oneWay("isDirty"),disableSave:function(){return this.get("validationFailed")||!this.get("isDirty_alias")}.property("validationFailed","isDirty_alias")}),ModelWrapper.createModelWrapper=function(a,b,c){var d=c||[];d.push(a);for(var e=ModelWrapper.ModelWrapper.extend.apply(ModelWrapper.ModelWrapper,d),f=0;f<CrudAdapter.allowedModelAttrs.length;f++)b[CrudAdapter.allowedModelAttrs[f].attr]?e[CrudAdapter.allowedModelAttrs[f].attr]=b[CrudAdapter.allowedModelAttrs[f].attr]:"emptyArray"===CrudAdapter.allowedModelAttrs[f].defaultValue?e[CrudAdapter.allowedModelAttrs[f].attr]=Ember.A():"value"===CrudAdapter.allowedModelAttrs[f].defaultValue&&(e[CrudAdapter.allowedModelAttrs[f].attr]=CrudAdapter.allowedModelAttrs[f].value);return e},Popovers=Ember.Namespace.create(),Popovers.PopoverComponent=Ember.Component.extend({attributeBindings:["animation:data-animation","placement:data-placement","title:data-original-title","body:data-content","delay:data-delay","role"],animation:"true",placement:"top",title:"",body:"",delay:0,role:"button",layout:Ember.Handlebars.compile("{{yield}}"),data:null,didInsertElement:function(){$(this.get("element")).popover()}}),Ember.Handlebars.helper("pop-over",Popovers.PopoverComponent);